//tealium universal tag - utag.loader ut4.0.202302061502, Copyright 2023 Tealium.com Inc. All Rights Reserved.
if(typeof utag_err=='undefined')var utag_err=[];window._tealium_old_error=window._tealium_old_error||window.onerror||function(){};window.onerror=function(m,u,l){if(typeof u!=='undefined'&&u.indexOf('/utag.')>0&&utag_err.length<5)utag_err.push({e:m,s:u,l:l,t:'js'});window._tealium_old_error(m,u,l)};var utag_condload=false;window.__tealium_twc_switch=false;try{try{window.utag_data=window.utag_data||{};window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};if(location.hostname&&location.hostname.indexOf(".miles-and-more.com")>0){utag_cfg_ovrd.domain=location.hostname;}}catch(e){console.log(e)}}catch(e){console.log(e);}
if(!utag_condload){try{try{window.teal=window.teal||{};teal.processAttribs=function(data,name,parent,child){var attribs=[];for(var i=0;data.length>i;i++){var obj;if(child){obj=data[i][child][name];}else{obj=data[i][name];}
if(obj){for(var j=0;j<obj.length;j++){var a=Object.keys(obj[j]);a.forEach(function(el){if(attribs.indexOf(el)<0){attribs.push(el);}})}}}
return attribs;}
teal.flattenArray=function(a,parent,child){console.log("flattener called:"+a+","+parent+","+child);attribs=[];newProp="",tlo=window.lhgData;var node;var m=parent.split(".");if(tlo[m[0]]){node=tlo[m[0]];for(var j=1;j<m.length;j++){node=node[m[j]];}
for(var i=0;i<node.length;i++){var arrToFlatten,arrParent;if(node[i][child]){arrToFlatten=node[i][child][a];arrToFlatten=(typeof arrToFlatten==='string')?[arrToFlatten]:arrToFlatten;arrParent=node[i][child];}else{arrToFlatten=node[i][a];arrToFlatten=(typeof arrToFlatten==='string')?[arrToFlatten]:arrToFlatten;arrParent=node[i];}
if(arrToFlatten){var dl=tlo[m[0]];for(var j=1;j<m.length;j++){dl=dl[m[j]];}
attribs=teal.processAttribs(dl,a,parent,child);if(arrToFlatten.length==0){for(var z=attribs.length-1;z>=0;z--){newProp=a+"_"+attribs[z];arrParent[newProp];arrParent[newProp]="";}}else{for(var j=0;j<arrToFlatten.length;j++){if(a!=="bundle"){for(var k=0;attribs.length>k;k++){newProp=a+"_"+attribs[k];arrParent[newProp];if(typeof(arrParent[newProp])==="undefined"){arrParent[newProp]=arrToFlatten[j][attribs[k]];}else{arrParent[newProp]+="|"+arrToFlatten[j][attribs[k]];}}}else{var arr=a;arr+="_flat";node[i][child][arr]=arrToFlatten.join("|");}}}}}}};if(typeof window.lhgData==='object'&&!window.lhgData.product&&window.lhgData.Product){window.lhgData.product=[];Object.assign(window.lhgData.product,window.lhgData.Product);};if(typeof window.lhgData==='object'&&typeof teal==='object'){if(typeof teal.flattenArray==='function'){if(window.lhgData.product){console.log("flatten product");teal.flattenArray("layover","product","");teal.flattenArray("segment","product","productInfo");teal.flattenArray("bundle","product","productInfo");}
if(window.lhgData.cart){console.log("flatten cart");teal.flattenArray("layover","cart.item","");teal.flattenArray("segment","cart.item","productInfo");}
if(window.lhgData.transaction){console.log("flatten transaction");teal.flattenArray("segment","transaction.item","productInfo");teal.flattenArray("layover","transaction.item","");}}}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{window.teal=window.teal||{};teal.ignore_keys={};teal.replace_keys={};teal.prefix="";teal.nested_delimiter=".";teal.flattener_version=1.3;Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var g,h,f=[];for(g in e)a.call(e,g)&&f.push(g);if(b)for(h=0;h<d;h++)a.call(e,c[h])&&f.push(c[h]);return f}}());teal.ignoreKey=function(key,re){var should_ignore_key=0;if(typeof teal.ignore_keys_list==='undefined'){teal.ignore_keys_list=Object.keys(teal.ignore_keys);teal.ignore_keys_list.forEach(function(name){teal.ignore_keys[name]=new RegExp("^"+name);if(key.match(teal.ignore_keys[name])){should_ignore_key=1;}});}else{teal.ignore_keys_list.forEach(function(name){if(key.match(teal.ignore_keys[name])){should_ignore_key=1;}});}
return should_ignore_key;}
teal.getKeyName=function(key,re){teal.replace_keys_regex=teal.replace_keys_regex||{};if(typeof teal.replace_keys_list==='undefined'){teal.replace_keys_list=Object.keys(teal.replace_keys);teal.replace_keys_list.forEach(function(name){teal.replace_keys_regex[name]=new RegExp("["+teal.nested_delimiter+"]?"+name+"["+teal.nested_delimiter+"]","g");key=teal.keyReplace(key,name,teal.replace_keys_regex[name]);});}else{teal.replace_keys_list.forEach(function(name){key=teal.keyReplace(key,name,teal.replace_keys_regex[name]);});}
return key;}
teal.keyReplace=function(key,name,re){if(teal.replace_keys[name]===''){key=key.replace(re,teal.nested_delimiter);if(key.indexOf(teal.nested_delimiter)===0){var cleanRegEx=new RegExp("^["+teal.nested_delimiter+"]");key=key.replace(cleanRegEx,'');}}else{key=key.replace(re,teal.nested_delimiter+teal.replace_keys[name]+teal.nested_delimiter);}
return key;}
teal.processDataObject=function(obj,new_obj,parent_key,create_array){if(typeof parent_key==="undefined"){parent_key="";}else{teal.nested_delimiter_regex=teal.nested_delimiter_regex||new RegExp("["+teal.nested_delimiter+"]$");if(!parent_key.match(teal.nested_delimiter_regex)){parent_key+=""+teal.nested_delimiter;}}
Object.keys(obj).forEach(function(key){var nested_key_name=parent_key+key;var new_key_name=teal.getKeyName((teal.prefix+parent_key+key).replace(/\s/g,''));var key_type=teal.typeOf(obj[key]);if(key_type!=='undefined'&&key_type!=null){if(key_type.match(/boolean|string|number|date/)&&!teal.ignoreKey(key)){if(teal.typeOf(obj[key])==='date'){obj[key]=obj[key].toISOString();}
if(create_array){if(teal.typeOf(new_obj[new_key_name])!=="array"){new_obj[new_key_name]=[];}
new_obj[new_key_name].push(""+obj[key]);}else{new_obj[new_key_name]=""+obj[key];}}else if(key_type==='object'&&!teal.ignoreKey(key)){teal.processDataObject(obj[key],new_obj,nested_key_name,create_array);}else if(key_type==='array'){teal.processDataArray(obj[key],new_obj,nested_key_name);}}});}
teal.processDataArray=function(obj,new_obj,parent_key){var objLength=obj.length;if(typeof parent_key==="undefined"){parent_key="";}else if(objLength>0&&teal.typeOf(obj[0]).match(/boolean|string|number|date/)){}else{parent_key+=""+teal.nested_delimiter;}
var new_key_name=teal.getKeyName((teal.prefix+parent_key).replace(/\s/g,''));for(var n=0;n<objLength;n++){var key_type=teal.typeOf(obj[n]);if(key_type.match(/boolean|string|number|date/)){if(key_type==='date'){obj[n]=obj[n].toISOString();}
if(teal.typeOf(new_obj[new_key_name])!=="array"){new_obj[new_key_name]=[];}
new_obj[new_key_name].push(""+obj[n]);}else if(key_type==='object'){teal.processDataObject(obj[n],new_obj,new_key_name,1);}}}
teal.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();}
teal.flattenObject=function(obj,new_obj){if(typeof obj==='undefined'){return false;}
var mergeObject=false;if(obj===new_obj){mergeObject=true;new_obj={};}
if(typeof new_obj==='undefined'){new_obj={};}
if(teal.typeOf(obj)==='array'){var temp_array=JSON.parse(JSON.stringify(obj));var temp_array_length=temp_array.length;obj={};if(obj==new_obj){if(typeof a==='undefined'){var a='view';}
utag.loader.RD(new_obj,a);}
for(var i=0;i<temp_array_length;i++){teal.processDataObject(temp_array[i],new_obj);}}else{teal.processDataObject(obj,new_obj);}
if(mergeObject){Object.keys(obj).forEach(function(key){delete obj[key];});Object.keys(new_obj).forEach(function(key){obj[key]=new_obj[key];});}
return new_obj;}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{gaet={fire:function(cat,act,lab,arr){var ga_obj={event_category:cat,event_action:act,event_label:lab
};if(typeof arr==='object'){var len=arr.length;if(len%2===1){len=len-1;}
for(var i=0;i<len;i+=2){ga_obj[arr[i]]=arr[i+1];}}
utag.link(ga_obj);},clean:function(str){return str.replace(/\s^\s+|\s+$|\s+(?=\s)|\u21b5/g,'').trim();},stage:function(idx){return'stage '+ ++idx+' | ';},href_dest:function(href){try{return href.substr(href.indexOf('-to-')+4).split('-').slice(0,-1).join(' ').toLowerCase();}catch(e){return'';}}};}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{if(document.cookie.indexOf('cmv3')<0){document.cookie="cmv2=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain=.swiss.com; path=/;";document.cookie="CONSENTMGR=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain=.swiss.com; path=/;secure;samesite=none;";}
document.cookie="cmv3=true; expires=Thu, 01 Jan 2100 00:00:00 UTC; domain=.swiss.com; path=/;secure;samesite=none;";}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{try{if(typeof window.mmPageID==="undefined"){if(lhgData&&lhgData.conversion&&lhgData.conversion.funnel&&lhgData.conversion.funnel.funnelStep){window.mmPageID=lhgData.conversion.funnel.funnelStep.toUpperCase()+"_XX_XX";}else if(lhgData&&lhgData.page&&lhgData.page.pageInfo&&lhgData.page.pageInfo.pageId){window.mmPageID=lhgData.page.pageInfo.pageId;}}}catch(ex){}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{if(window.digitalData){window.utag_data=window.utag_data||{};window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};if(typeof window.lhgData!=='object'&&typeof window.digitalData==='object'){window.utag_cfg_ovrd=Object.assign(window.utag_cfg_ovrd,{noview:true});}}
}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{if((typeof lhgData!='undefined'&&lhgData.page.pageInfo.pageId.indexOf('payment')<0)||typeof digitalData!='undefined'){var monetateT=new Date().getTime();(function(){var p=document.location.protocol;if(p=="http:"||p=="https:"){var m=document.createElement('script');m.type='text/javascript';m.src="//se.monetate.net/js/2/a-5a963685/p/swiss.com/entry.js";var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(m,s);}})();}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(typeof utag=="undefined"&&!utag_condload){var utag={id:"lufthansa.lx-main",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],db_log:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],ready_q:[],sendq:{"pending":0},run_ready_q:function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}},lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\.|\...\.jp$/.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d,g){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
if(utag.cfg.load_rules_at_wait){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};d=0;g=[];for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){g.push(b);d++;}else{this.f[b.id]=1;}}
for(a=0;a<g.length;a++){utag.loader.AS(g[a]);}
if(d==0){utag.loader.END();}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'ut'+'ag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?utag.cfg.template+a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){utag.DB("Attach sync: "+a.src);a.uid=a.id;b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_lufthansa.lx-main_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,uid:a.id,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},OU:function(tid,tcat,a,b,c,d,f,g){g={};utag.loader.RDcp(g);try{if(typeof g['cp.OPTOUTMULTI']!='undefined'){c=utag.loader.cfg;a=utag.ut.decode(g['cp.OPTOUTMULTI']).split('|');for(d=0;d<a.length;d++){b=a[d].split(':');if(b[1]*1!==0){if(b[0].indexOf('c')==0){for(f in utag.loader.GV(c)){if(c[f].tcat==b[0].substring(1))c[f].load=0;if(c[f].tid==tid&&c[f].tcat==b[0].substring(1))return true;}
if(tcat==b[0].substring(1))return true;}else if(b[0]*1==0){utag.cfg.nocookie=true}else{for(f in utag.loader.GV(c)){if(c[f].tid==b[0])c[f].load=0}
if(tid==b[0])return true;}}}}}catch(e){utag.DB(e)}
return false;},RDdom:function(o){var d=document||{},l=location||{};o["dom.referrer"]=d.referrer;o["dom.title"]=""+d.title;o["dom.domain"]=""+l.hostname;o["dom.query_string"]=(""+l.search).substring(1);o["dom.hash"]=(""+l.hash).substring(1);o["dom.url"]=""+d.URL;o["dom.pathname"]=""+l.pathname;o["dom.viewport_height"]=window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960);o["dom.viewport_width"]=window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960);},RDcp:function(o,b,c,d){b=utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o){var readAttr=function(o,l){var a="",b;a=localStorage.getItem(l);if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(o,b,1);}
try{readAttr(o,"tealium_va");readAttr(o,"tealium_va_"+o["ut.account"]+"_"+o["ut.profile"]);}catch(e){utag.DB(e)}},RDut:function(o,a){var t={};var d=new Date();var m=(utag.ut.typeOf(d.toISOString)=="function");o["ut.domain"]=utag.cfg.domain;o["ut.version"]=utag.cfg.v;t["tealium_event"]=o["ut.event"]=a||"view";t["tealium_visitor_id"]=o["ut.visitor_id"]=o["cp.utag_main_v_id"];t["tealium_session_id"]=o["ut.session_id"]=o["cp.utag_main_ses_id"];t["tealium_session_number"]=o["cp.utag_main__sn"];t["tealium_session_event_number"]=o["cp.utag_main__se"];try{t["tealium_datasource"]=utag.cfg.datasource;t["tealium_account"]=o["ut.account"]=utag.cfg.utid.split("/")[0];t["tealium_profile"]=o["ut.profile"]=utag.cfg.utid.split("/")[1];t["tealium_environment"]=o["ut.env"]=utag.cfg.path.split("/")[6];}catch(e){utag.DB(e)}
t["tealium_random"]=Math.random().toFixed(16).substring(2);t["tealium_library_name"]="ut"+"ag.js";t["tealium_library_version"]=(utag.cfg.template+"0").substring(2);t["tealium_timestamp_epoch"]=Math.floor(d.getTime()/1000);t["tealium_timestamp_utc"]=(m?d.toISOString():"");d.setHours(d.getHours()-(d.getTimezoneOffset()/60));t["tealium_timestamp_local"]=(m?d.toISOString().replace("Z",""):"");utag.ut.merge(o,t,0);},RDses:function(o,a,c){a=(new Date()).getTime();c=(a+parseInt(utag.cfg.session_timeout))+"";if(!o["cp.utag_main_ses_id"]){o["cp.utag_main_ses_id"]=a+"";o["cp.utag_main__ss"]="1";o["cp.utag_main__se"]="1";o["cp.utag_main__sn"]=(1+parseInt(o["cp.utag_main__sn"]||0))+"";}else{o["cp.utag_main__ss"]="0";o["cp.utag_main__se"]=(1+parseInt(o["cp.utag_main__se"]||0))+"";}
o["cp.utag_main__pn"]=o["cp.utag_main__pn"]||"1";o["cp.utag_main__st"]=c;utag.loader.SC("utag_main",{"_sn":(o["cp.utag_main__sn"]||1),"_se":o["cp.utag_main__se"],"_ss":o["cp.utag_main__ss"],"_st":c,"ses_id":(o["cp.utag_main_ses_id"]||a)+";exp-session","_pn":o["cp.utag_main__pn"]+";exp-session"});},RDpv:function(o){if(typeof utag.pagevars=="function"){utag.DB("Read page variables");utag.pagevars(o);}},RD:function(o,a){utag.DB("utag.loader.RD");utag.DB(o);utag.loader.RDcp(o);if(!utag.loader.rd_flag){utag.loader.rd_flag=1;o["cp.utag_main_v_id"]=o["cp.utag_main_v_id"]||utag.ut.vi((new Date()).getTime());o["cp.utag_main__pn"]=(1+parseInt(o["cp.utag_main__pn"]||0))+"";utag.loader.SC("utag_main",{"v_id":o["cp.utag_main_v_id"]});utag.loader.RDses(o);}
if(a&&!utag.cfg.noview)utag.loader.RDses(o);utag.loader.RDqp(o);utag.loader.RDmeta(o);utag.loader.RDdom(o);utag.loader.RDut(o,a||"view");utag.loader.RDpv(o);utag.loader.RDva(o);},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=cv.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(j[f]instanceof Array){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c=="da"){x="Thu, 31 Dec 2009 00:00:00 GMT";}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{d=utag.loader.RC(a,0);for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(d[e]instanceof Array)?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
h=new Array();for(g in utag.loader.GV(d)){if(d[g]instanceof Array){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push((g+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(d[g]))}
if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x+";secure";return 1},LOAD:function(a,b,c,d){if(!utag.loader.cfg){return}
if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[a]){utag.DB("utag.loader.LOAD:sendq: "+a);while(d=utag.loader.sendq[a].shift()){utag.DB(d);utag.sender[a].send(d.event,utag.handler.C(d.data));utag.loader.sendq.pending--;}}else{utag.sender[a].send('view',utag.handler.C(utag.data));}
utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(!utag.data){try{utag.cl={'_all_':1};utag.loader.initdata();utag.loader.RD(utag.data);}catch(e){utag.DB(e)};}
if((document.attachEvent||utag.cfg.dom_complete)?document.readyState==="complete":document.readyState!=="loading")setTimeout(c,1);else{utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};if(!utag.cfg.dom_complete)document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e,v,w){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();(function(a,b,c,l){if(typeof utag_err!='undefined'&&utag_err.length>0){a='//uconnect.tealiumiq.com/ulog/_error?utid='+utag.cfg.utid;l=utag_err.length>5?5:utag_err.length;for(b=0;b<l;b++){c=utag_err[b];a+='&e'+b+'='+encodeURIComponent(c.t+'::'+c.l+'::'+c.s+'::'+c.e);}
utag.dbi.push((new Image()).src=a);}})();v=utag.cfg.path;w=v.indexOf(".tiqcdn.");if(w>0&&b["cp.utag_main__ss"]==1&&!utag.cfg.no_session_count)utag.ut.loader({src:v.substring(0,v.indexOf("/ut"+"ag/")+6)+"tiqapp/ut"+"ag.v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"})
if(utag.cfg.noview!=true)utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){var t;if(utag.ut.typeOf(a)=="object"){t=utag.handler.C(a)}else{t=a}
utag.db_log.push(t);try{if(!utag.cfg.noconsole)console.log(t)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a||{},cfg:{cb:c,uids:d}})},link:function(a,c,d){return this.track({event:'link',data:a||{},cfg:{cb:c,uids:d}})},track:function(a,b,c,d,e){a=a||{};if(typeof a=="string"){a={event:a,data:b||{},cfg:{cb:c,uids:d}}}
for(e in utag.loader.GV(utag.o)){utag.o[e].handler.trigger(a.event||"view",a.data||a,a.cfg||{cb:b,uids:c})}
a.cfg=a.cfg||{cb:b};if(typeof a.cfg.cb=="function")a.cfg.cb();return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');if(utag.initcatch){utag.initcatch=0;return}
this.iflag=1;a=utag.loader.q.length;if(a>0){utag.DB("Loader queue");for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.trigger(c.a,c.b,c.c)}}
},test:function(){return 1},LR:function(b){utag.DB("Load Rules");for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.DB(b);utag.loader.loadrules(b);utag.DB(utag.cond);utag.loader.initcfg();utag.loader.OU();for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}},RE:function(a,b,c,d,e,f,g){if(c!="alr"&&!this.cfg_extend){return 0;}
utag.DB("RE: "+c);if(c=="alr")utag.DB("All Tags EXTENSIONS");utag.DB(b);if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||f[c]==0){e=1}else{if(f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(er){utag.DB(er);utag.rpt['ex_'+d]=1;utag.ut.error({e:er.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
utag.DB(b);return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a+(c&&c.uids?":"+c.uids.join(","):""));b=b||{};utag.DB(b);if(!this.iflag){utag.DB("trigger:called before tags loaded");for(d in utag.loader.f){if(!(utag.loader.f[d]===1))utag.DB('Tag '+d+' did not LOAD')}
utag.loader.q.push({a:a,b:utag.handler.C(b),c:c});return;}
utag.ut.merge(b,this.df,0);utag.loader.RD(b,a);utag.cfg.noview=false;function sendTag(a,b,d){try{if(typeof utag.sender[d]!="undefined"){utag.DB("SENDING: "+d);utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(utag.loader.cfg[d].load!=2){utag.loader.sendq[d]=utag.loader.sendq[d]||[];utag.loader.sendq[d].push({"event":a,"data":utag.handler.C(b)});utag.loader.sendq.pending++;utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}
if(c&&c.uids){this.RE(a,b,"alr");for(f=0;f<c.uids.length;f++){d=c.uids[f];if(!utag.loader.OU(utag.loader.cfg[d].tid)){sendTag(a,b,d);}}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");this.LR(b);this.RE(a,b,"alr");for(f=0;f<utag.loader.cfgsort.length;f++){d=utag.loader.cfgsort[f];if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){sendTag(a,b,d);}}}else{this.RE(a,b,"alr");for(d in utag.loader.GV(utag.sender)){sendTag(a,b,d);}}
this.RE(a,b,"end");},C:function(a,b,c){b={};for(c in utag.loader.GV(a)){if(a[c]instanceof Array){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){if(!utag.v_id){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2);a+=this.pad(navigator.userAgent.length,3);a+=this.pad(document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e);a+="12345"};utag.v_id=a;}
return utag.v_id},hasOwn:function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a)},isEmptyObject:function(o,a){for(a in o){if(utag.ut.hasOwn(o,a))return false}
return true},isEmpty:function(o){var t=utag.ut.typeOf(o);if(t=="number"){return isNaN(o)}else if(t=="boolean"){return false}else if(t=="string"){return o.length===0}else return utag.ut.isEmptyObject(o)},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||c instanceof Array){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},encode:function(a,b){b="";try{b=encodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=escape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}},loader:function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){m.parentNode.removeChild(m);}
b=a.createElement("iframe");o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}
if(o.id){b.id=o.id};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l])}
b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}
if(typeof o.error=="function"){utag.loader.EV(b,"error",o.error);}
if(o.type!="img"){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}}};utag.o['lufthansa.lx-main']=utag;utag.cfg={template:"ut4.46.",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,noconsole:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),datasource:"##UTDATASOURCE##".replace("##"+"UTDATASOURCE##",""),path:"//tags.tiqcdn.com/utag/lufthansa/lx-main/prod/",utid:"lufthansa/lx-main/202302061501"};utag.cfg.v=utag.cfg.template+"202302061502";try{var _gaq=_gaq||[];var pageTracker=pageTracker||{_trackEvent:function(c,d,e,f,g){g={ga_eventCat:c,ga_eventAction:d,ga_eventLabel:e,ga_eventValue:f};utag.link(g,null,[6]);},_trackPageview:function(c){_gaq.push(['_trackPageview',c?c:null]);}}}catch(e){};utag.cond={100:0,101:0,108:0,109:0,10:0,110:0,11:0,12:0,165:0,166:0,170:0,171:0,178:0,179:0,180:0,181:0,182:0,183:0,187:0,188:0,189:0,190:0,191:0,193:0,199:0,201:0,202:0,203:0,204:0,206:0,32:0,49:0,51:0,62:0,63:0,70:0,73:0,84:0,85:0,97:0};utag.pagevars=function(ud){ud=ud||utag.data;try{ud['js_page.window.tmParam.option_name']=window.tmParam.option_name}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.from_2ndflight']=window.tmParam.from_2ndflight}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.from_3rdflight']=window.tmParam.from_3rdflight}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.from_4thflight']=window.tmParam.from_4thflight}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.to_2ndflight']=window.tmParam.to_2ndflight}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.to_3rdflight']=window.tmParam.to_3rdflight}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.to_4thflight']=window.tmParam.to_4thflight}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.booking_path']=window.tmParam.booking_path}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.booking_step']=window.tmParam.booking_step}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.product_name']=window.tmParam.product_name}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.product_price']=window.tmParam.product_price}catch(e){utag.DB(e)};try{ud['js_page.mmPageID']=mmPageID}catch(e){utag.DB(e)};try{ud['js_page.digitalData']=digitalData}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.levordref']=window.tmParam.levordref}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.gross_revenue']=window.tmParam.gross_revenue}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.currency_code']=window.tmParam.currency_code}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.net_fare_EUR']=window.tmParam.net_fare_EUR}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.tax_amount']=window.tmParam.tax_amount}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.page_url']=window.tmParam.page_url}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.page_type']=window.tmParam.page_type}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.from_1stflight']=window.tmParam.from_1stflight}catch(e){utag.DB(e)};try{ud['js_page.navigator.userAgent']=navigator.userAgent}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.to_1stflight']=window.tmParam.to_1stflight}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.departure_date']=window.tmParam.departure_date}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.gross_revenue_EUR']=window.tmParam.gross_revenue_EUR}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.return_date']=window.tmParam.return_date}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.booking_class']=window.tmParam.booking_class}catch(e){utag.DB(e)};try{ud['js_page.window.lhgData.page.pageInfo.pageId']=window.lhgData.page.pageInfo.pageId}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.adults_count']=window.tmParam.adults_count}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.option_comf']=window.tmParam.option_comf}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.pos']=window.tmParam.pos}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.pax_count']=window.tmParam.pax_count}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.booking_date']=window.tmParam.booking_date}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.net_fare']=window.tmParam.net_fare}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.optional_payment_charge']=window.tmParam.optional_payment_charge}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.ticket_service_charge']=window.tmParam.ticket_service_charge}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.international_surcharge']=window.tmParam.international_surcharge}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.journey_selection']=window.tmParam.journey_selection}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.children_count']=window.tmParam.children_count}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.infant_count']=window.tmParam.infant_count}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.page_name']=window.tmParam.page_name}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.option_asr']=window.tmParam.option_asr}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.option_bag']=window.tmParam.option_bag}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.option_hmb']=window.tmParam.option_hmb}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.option_ins']=window.tmParam.option_ins}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.customer_country']=window.tmParam.customer_country}catch(e){utag.DB(e)};try{ud['js_page.window.tmParam.fare_group']=window.tmParam.fare_group}catch(e){utag.DB(e)};};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){case'10':try{c[10]|=(d['cp.channelcloser']=='google')}catch(e){utag.DB(e)};break;case'100':try{c[100]|=(d['channel_closer']=='artefact')||(d['cp.channelcloser']=='artefact')}catch(e){utag.DB(e)};break;case'101':try{c[101]|=(typeof d['qp.aaaid']!='undefined'&&typeof d['qp.aaaid']!='undefined'&&d['qp.aaaid']!='')}catch(e){utag.DB(e)};break;case'108':try{c[108]|=(typeof d['dom.referrer']=='undefined')||(d['dom.referrer'].toString().toLowerCase().indexOf('mycockpit'.toLowerCase())<0&&d['dom.referrer'].toString().toLowerCase().indexOf('flug.check24'.toLowerCase())<0&&d['dom.referrer'].toString().toLowerCase().indexOf('crystal-travel'.toLowerCase())<0&&d['dom.referrer'].toString().toLowerCase().indexOf('misterfly'.toLowerCase())<0&&/^((?!@[A-Za-z0-9.-]+\.).)*$/.test(d['dom.referrer']))}catch(e){utag.DB(e)};break;case'109':try{c[109]|=(typeof d['cp.utag_main_aaaid']!='undefined'&&typeof d['cp.utag_main_aaaid']!='undefined'&&d['cp.utag_main_aaaid']!='')}catch(e){utag.DB(e)};break;case'11':try{c[11]|=(d['cp.channelcloser']=='gva')}catch(e){utag.DB(e)};break;case'110':try{c[110]|=(typeof d['transaction.total.voucher.voucherId']=='undefined')||(!/^ref/i.test(d['transaction.total.voucher.voucherId']))||(d['transaction.total.voucher.voucherId'].toString().toLowerCase().indexOf(',ref'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'12':try{c[12]|=(d['cp.channelcloser']=='kayak')}catch(e){utag.DB(e)};break;case'165':try{c[165]|=(d['dom.domain'].toString().toLowerCase().indexOf('book'.toLowerCase())>-1)||(d['dom.domain'].toString().toLowerCase().indexOf('wav'.toLowerCase())>-1)||(d['dom.domain'].toString().toLowerCase().indexOf('shop'.toLowerCase())>-1)||(d['dom.domain'].toString().toLowerCase().indexOf('pcm.uat06.amadeus.com'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'166':try{c[166]|=(d['dom.domain'].toString().toLowerCase().indexOf('book'.toLowerCase())<0&&d['dom.domain'].toString().toLowerCase().indexOf('wav'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'170':try{c[170]|=(typeof d['session.id']!='undefined')}catch(e){utag.DB(e)};break;case'171':try{c[171]|=(typeof d['session.id']=='undefined')}catch(e){utag.DB(e)};break;case'178':try{c[178]|=(typeof d['platformId']!='undefined'&&d['platformId']=='adcb2')}catch(e){utag.DB(e)};break;case'179':try{c[179]|=(typeof d['platformId']=='undefined')||(d['platformId']!='adcb2')}catch(e){utag.DB(e)};break;case'180':try{c[180]|=(d['page.pageInfo.pageName'].toString().toLowerCase()=='flight_search'.toLowerCase())||(d['page.pageInfo.pageName'].toString().toLowerCase()=='outbound_page'.toLowerCase())||(d['page.pageInfo.pageName'].toString().toLowerCase()=='inbound_page'.toLowerCase())||(d['page.pageInfo.pageName'].toString().toLowerCase()=='combined_page'.toLowerCase())||(d['page.pageInfo.pageName'].toString().toLowerCase()=='seatmap_page'.toLowerCase())||(d['page.pageInfo.pageName'].toString().toLowerCase()=='options_page'.toLowerCase())||(d['page.pageInfo.pageName'].toString().toLowerCase()=='login_page'.toLowerCase())||(d['page.pageInfo.pageName'].toString().toLowerCase()=='personal_page'.toLowerCase())||(d['page.pageInfo.pageName'].toString().toLowerCase()=='payment_page'.toLowerCase())||(d['page.pageInfo.pageName'].toString().toLowerCase()=='confirmation_page'.toLowerCase())||(typeof d['conversion.funnel.funnelStep']!='undefined')||(d['platformId']=='adcb2')}catch(e){utag.DB(e)};break;case'181':try{c[181]|=(typeof d['page.category.primaryCategory']!='undefined'&&d['page.category.primaryCategory'].toString().toLowerCase()!='Servicing'.toLowerCase()&&typeof d['js_page.digitalData']!='undefined')||(typeof d['js_page.digitalData']=='undefined')}catch(e){utag.DB(e)};break;case'182':try{c[182]|=(typeof d['mmPageID_firstPart']=='undefined')||(d['mmPageID_firstPart'].toString().toLowerCase().indexOf('PURF'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'183':try{c[183]|=(typeof d['mmPageID_firstPart']!='undefined'&&d['mmPageID_firstPart'].toString().toLowerCase()!='profile/my-account'.toLowerCase())}catch(e){utag.DB(e)};break;case'187':try{c[187]|=(typeof d['mmPageID_firstPart']!='undefined'&&d['mmPageID_firstPart'].toString().toLowerCase()!='PURF'.toLowerCase()&&d['mmPageID_firstPart'].toString().toLowerCase()!='EBCO'.toLowerCase()&&d['mmPageID_firstPart'].toString().toLowerCase()!='RBPD'.toLowerCase()&&d['mmPageID_firstPart'].toString().toLowerCase()!='UPCA'.toLowerCase()&&d['mmPageID_firstPart'].toString().toLowerCase()!='REPD'.toLowerCase())}catch(e){utag.DB(e)};break;case'188':try{c[188]|=(typeof d['platformId']!='undefined'&&d['platformId']=='adcb1'&&d['dom.url'].toString().toLowerCase().indexOf('firstname'.toLowerCase())<0&&d['dom.url'].toString().toLowerCase().indexOf('lastname'.toLowerCase())<0&&d['dom.url'].toString().toLowerCase().indexOf('filekey'.toLowerCase())<0&&d['dom.url'].toString().toLowerCase().indexOf('country'.toLowerCase())<0)||(typeof d['platformId']!='undefined'&&d['platformId']=='adcb2'&&d['dom.url'].toString().toLowerCase().indexOf('firstname'.toLowerCase())<0&&d['dom.url'].toString().toLowerCase().indexOf('lastname'.toLowerCase())<0&&d['dom.url'].toString().toLowerCase().indexOf('filekey'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'189':try{c[189]|=(typeof d['page.pageInfo.pageName']=='undefined')||(typeof d['page.pageInfo.pageName']!='undefined'&&d['page.pageInfo.pageName'].toString().toLowerCase()!='my-account'.toLowerCase())}catch(e){utag.DB(e)};break;case'190':try{c[190]|=(typeof d['mmPageID_firstPart']=='undefined')||(typeof d['mmPageID_firstPart']!='undefined'&&d['mmPageID_firstPart'].toString().toLowerCase().indexOf('passenger-receipt'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'191':try{c[191]|=(!/\/compensation$/i.test(d['dom.pathname'])&&!/\/fast-compensation$/i.test(d['dom.pathname']))}catch(e){utag.DB(e)};break;case'193':try{c[193]|=(/en|de|fr|it/.test(d['page.pageInfo.language'])&&typeof d['page.pageInfo.language']!='undefined'&&/customer-support|service-center|faq|contact-us|travel-and-corona|safe-travels|refund/.test(d['page.pageInfo.pageName'])&&typeof d['page.pageInfo.pageName']!='undefined')||(typeof d['page.pageInfo.language']!='undefined'&&/en/.test(d['page.pageInfo.language'])&&typeof d['country_code']!='undefined'&&d['country_code'].toString().toLowerCase()=='ch'.toLowerCase()&&typeof d['page.pageInfo.pageName']!='undefined'&&d['page.pageInfo.pageName'].toString().toLowerCase()=='homepage'.toLowerCase())||(typeof d['page.pageInfo.pageName']!='undefined'&&/customer-dashboard/.test(d['page.pageInfo.pageName'])&&typeof d['page.pageInfo.language']!='undefined'&&/en/.test(d['page.pageInfo.language'])&&typeof d['page.pageInfo.country']!='undefined'&&/lt/.test(d['page.pageInfo.country']))}catch(e){utag.DB(e)};break;case'199':try{c[199]|=(d['dom.domain'].toString().indexOf('miles-and-more.com')<0)}catch(e){utag.DB(e)};break;case'201':try{c[201]|=(d['ga_eventAction']=='submit all')||(d['ga_eventAction']=='submit selection')}catch(e){utag.DB(e)};break;case'202':try{c[202]|=(typeof d['ut.event']!='undefined'&&d['ut.event'].toString().toLowerCase()=='view'.toLowerCase())}catch(e){utag.DB(e)};break;case'203':try{c[203]|=(d['page.category.category1']!='magazine')||(d['dom.url'].toString().indexOf('magazine')<0)}catch(e){utag.DB(e)};break;case'204':try{c[204]|=(typeof d['cp.channelcloser']!='undefined'&&d['cp.channelcloser'].toString().toLowerCase().indexOf('sea_autotagged'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'206':try{c[206]|=(typeof d['page.category.category1']!='undefined'&&d['page.category.category1'].toString().toLowerCase()=='magazine'.toLowerCase())}catch(e){utag.DB(e)};break;case'32':try{c[32]|=(typeof d['page.pageInfo.pageName']!='undefined'&&d['page.pageInfo.pageName'].toString().toLowerCase()=='confirmation_page'.toLowerCase())||(typeof d['mmPageID_firstPart']!='undefined'&&d['mmPageID_firstPart'].toString().toLowerCase()=='BKCO'.toLowerCase())||(typeof d['page.pageInfo.pageID']!='undefined'&&typeof d['page.category.primaryCategory']!='undefined'&&d['page.pageInfo.pageID']=='CONFIRMATION'&&d['page.category.primaryCategory']=='Booking')}catch(e){utag.DB(e)};break;case'49':try{c[49]|=(typeof d['page.pageInfo.pageName']!='undefined'&&d['page.pageInfo.pageName'].toString().toLowerCase()!='confirmation_page'.toLowerCase())||(typeof d['mmPageID_firstPart']!='undefined'&&d['mmPageID_firstPart'].toString().toLowerCase()!='BKCO'.toLowerCase())||(typeof d['page.pageInfo.pageID']!='undefined'&&d['page.pageInfo.pageID'].toString().toLowerCase()!='CONFIRMATION'.toLowerCase())}catch(e){utag.DB(e)};break;case'51':try{c[51]|=(d['channel_closer']=='skyscanner')}catch(e){utag.DB(e)};break;case'62':try{c[62]|=(typeof d['cp.utag_main_kayak']!='undefined'&&d['cp.utag_main_kayak']!='')}catch(e){utag.DB(e)};break;case'63':try{c[63]|=(typeof d['transaction_double']=='undefined')||(typeof d['transaction_double']!='undefined'&&d['transaction_double'].toString().toLowerCase()!='yes'.toLowerCase())}catch(e){utag.DB(e)};break;case'70':try{c[70]|=(/swiss(air)?.com/.test(d['dom.domain']))}catch(e){utag.DB(e)};break;case'73':try{c[73]|=(typeof d['filter.category.category1']!='undefined'&&d['filter.category.category1'].toString().toLowerCase().indexOf('parser'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'84':try{c[84]|=(typeof d['platformId']!='undefined'&&d['platformId']=='adcb2')||(typeof d['page.pageInfo.pageId']!='undefined'&&d['page.pageInfo.pageId'].toString().toLowerCase()!='/book/paymentbook'.toLowerCase()&&d['page.pageInfo.pageId'].toString().toLowerCase()!='/book/payment'.toLowerCase()&&d['page.pageInfo.pageId'].toString().toLowerCase()!='/payment/confirmpayment'.toLowerCase()&&d['page.pageInfo.pageId'].toString().toLowerCase()!='/profile/payment'.toLowerCase()&&d['page.pageInfo.pageId'].toString().toLowerCase()!='/profile/data'.toLowerCase()&&d['page.pageInfo.pageId'].toString().toLowerCase()!='/profile/api-data'.toLowerCase()&&d['page.pageInfo.pageId'].toString().toLowerCase()!='/profile/login'.toLowerCase()&&d['page.pageInfo.pageId'].toString().toLowerCase()!='/profile/upgrade/login'.toLowerCase()&&d['page.pageInfo.pageId'].toString().toLowerCase()!='/book/passenger'.toLowerCase()&&d['page.pageInfo.pageId'].toString().toLowerCase()!='/book/login'.toLowerCase()&&typeof d['page.pageInfo.pageName']!='undefined'&&d['page.pageInfo.pageName'].toString().toLowerCase()!='personal_page'.toLowerCase()&&d['page.pageInfo.pageName'].toString().toLowerCase()!='payment_page'.toLowerCase()&&d['page.pageInfo.pageName'].toString().toLowerCase()!='login_page'.toLowerCase()&&d['dom.pathname'].toString().toLowerCase().indexOf('/login/resetpassword/'.toLowerCase())<0&&typeof d['mmPageID_firstPart']!='undefined'&&d['mmPageID_firstPart'].toString().toLowerCase().indexOf('PURF'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'85':try{c[85]|=(d['page.pageInfo.pageId'].toString().indexOf('confirmation-new')<0)||(typeof d['transaction_empty']!='undefined'&&d['transaction_empty'].toString().toLowerCase()!='yes'.toLowerCase()&&d['page.pageInfo.pageId'].toString().indexOf('confirmation-new')>-1)}catch(e){utag.DB(e)};break;case'97':try{c[97]|=(typeof d['dom.referrer']=='undefined'&&d['dom.pathname'].toString().toLowerCase().indexOf('/login/resetpassword/'.toLowerCase())<0)||(typeof d['dom.referrer']!='undefined'&&d['dom.pathname'].toString().toLowerCase().indexOf('/login/resetpassword/'.toLowerCase())<0)}catch(e){utag.DB(e)};break;}}};utag.pre=function(){utag.loader.initdata();utag.pagevars();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[function(a,b){try{if(1){b.app_webview='no';b.ga4_datasource="web";if(b['js_page.navigator.userAgent']&&b['js_page.navigator.userAgent']!==''){if(b['js_page.navigator.userAgent'].includes('GROUPAPP_LX')||b['js_page.navigator.userAgent'].includes('SWISS')){b.app_webview='yes';b.ga4_datasource="app";}}
var source;if(b.app_webview==='yes'){source='app';if(typeof b['qp.session_id']==='string'&&b['qp.session_id']!==''){b.ga_webview_session=b['qp.session_id'];}}else{source='web';}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(typeof window.lhgData==='object'&&typeof teal==='object'){if(typeof teal.flattenArray==='function'){if(window.lhgData.product){console.log("flatten product");teal.flattenArray("layover","product","");teal.flattenArray("segment","product","productInfo");teal.flattenArray("bundle","product","productInfo");}
if(window.lhgData.cart){console.log("flatten cart");teal.flattenArray("layover","cart.item","");teal.flattenArray("segment","cart.item","productInfo");}
if(window.lhgData.transaction){console.log("flatten transaction");teal.flattenArray("segment","transaction.item","productInfo");teal.flattenArray("layover","transaction.item","");}}
if(typeof teal.flattenObject==='function'){console.log("flatten to utag_data");utag_data=Object.assign(b,teal.flattenObject(window.lhgData));}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){teal.flattenObject(b,b);}}catch(e){utag.DB(e)}},function(a,b){try{if(1){utag_data['transaction_empty']='no';if(typeof utag_data['transaction.attributes.transactionId']!=='undefined'&&utag_data['transaction.attributes.transactionId']!==''){var today=new Date();var todayYYMMDD=today.getFullYear().toString().slice(-2);todayYYMMDD+=("0"+(today.getMonth()+1)).slice(-2);todayYYMMDD+=("0"+today.getDate()).slice(-2);if(utag_data['transaction.attributes.transactionId'].length>=6){var tid=utag_data['transaction.attributes.transactionId'].substr(0,6);if(todayYYMMDD!==tid)utag_data.transaction_double='yes';}}else{utag_data['transaction_empty']='yes';}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(typeof tmParam==='object'&&tmParam.page_name){if(tmParam.page_name==='home'||tmParam.page_name==='outbound_page'||tmParam.page_name==='combined_page'||tmParam.page_name==='flight_search'){utag.loader.SC("utag_main",{"departure_date":"delete;exp-0d"});utag.loader.SC("utag_main",{"return_date":"delete;exp-0d"});}else{var dep=utag.loader.RC('utag_main').departure_date;var ret=utag.loader.RC('utag_main').return_date;if(dep)tmParam.departure_date=dep;if(ret)tmParam.return_date=ret;}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){try{if(utag_data['user.profile.profileInfo.profileId']&&utag_data['user.profile.profileInfo.profileId']!==''){utag_data.login_status='logged in';}else{utag_data.login_status='logged out';}}catch(e){}
try{function setClassName(key){var c=key.toUpperCase();if(c.indexOf('F')>-1)b.booking_class_name='first';else if(c.indexOf('C')>-1)b.booking_class_name='business';else if(c.indexOf('Y')>-1)b.booking_class_name='economy';}
if(typeof window.tmParam!=='undefined'&&window.tmParam.booking_class){setClassName(window.tmParam.booking_class);}
else if(utag_data['filter.element.userInput']&&utag_data['filter.element.elementName']){var index=-1;for(var i=0;i<utag_data['filter.element.elementName'].length;i++){if(utag_data['filter.element.elementName'][i].toLowerCase()==='class'){index=i;break;}}
if(index>=0){setClassName(utag_data['filter.element.userInput'][index]);}}}catch(e){}
try{var fields=window.location.pathname.split('/');if(fields.length>2){if(fields[1].length===2&&fields[2].length===2)b.country_code=fields[1].toUpperCase();else if(fields.length>3){if(fields[2].length===2)b.country_code=fields[2].toUpperCase();}}}catch(e){}
try{if(typeof window.tmParam!=='undefined'){if(window.tmParam.adults_count)b.pax_adult_count=window.tmParam.adults_count;if(window.tmParam.children_count)b.pax_child_count=window.tmParam.children_count;if(window.tmParam.infant_count)b.pax_infant_count=window.tmParam.infant_count;if(b.pax_adult_count&&b.pax_child_count){b.pax_count_without_infant=parseInt(b.pax_adult_count)+parseInt(b.pax_child_count);if(b.pax_infant_count)b.pax_count=parseInt(b.pax_adult_count)+parseInt(b.pax_child_count)+parseInt(b.pax_infant_count);}}}catch(e){}
try{if(typeof window.tmParam!=='undefined'){if(typeof window.tmParam.departure_date!=='undefined'){b.departure_date=tmParam.departure_date;b.departure_date_YYYYMMDD=b.departure_date.replace(/-/g,'');}
if(typeof window.tmParam.return_date!=='undefined'){b.return_date=tmParam.return_date;b.return_date_YYYYMMDD=b.return_date.replace(/-/g,'');}}}catch(e){}
try{if(typeof window.tmParam!=='undefined'&&typeof window.tmParam.journey_selection!=='undefined'){if(window.tmParam.journey_selection==='flight-roundtrip')b.trip_type='RT';if(window.tmParam.journey_selection==='flight-one-way')b.trip_type='OW';if(window.tmParam.journey_selection===''&&b['conversion.funnel.funnelName']&&b['conversion.funnel.funnelName'].toLowerCase()==='bbm')b.trip_type='MS';}}catch(e){}
try{if(typeof utag_data.currency==='undefined'&&typeof utag_data['cart.price.currency']==='string'){utag_data.currency=utag_data['cart.price.currency'].toUpperCase();}}catch(e){}
try{if(typeof window.tmParam!=='undefined'&&typeof window.tmParam.levordref!=='undefined'){b.pnr_hashed=window.tmParam.levordref;}}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){try{b['random_number']=parseInt(Math.random()*1E13,0)}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){if(window.lhgData){utag.DB("adcb1");b['platformId']="adcb1";}else if(window.digitalData){utag.DB("adcb2");b['platformId']="adcb2";}else if(window.utag_data){utag.DB("lx0");b['platformId']="os0";}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var pii_data=["pnr","email","firstname","lastname","cin","locator"];var query_params=b["dom.query_string"].split(/&|;/);var clean_query=[];function validate(field){for(var i=0;i<pii_data.length;i++){var regexp=new RegExp("^"+pii_data[i]+"=");if(regexp.test(field)){return false;}}
return true;}
for(var i=0;i<query_params.length;i++){var field=query_params[i];if(validate(field)){clean_query.push(field);}else{var f=field.split("=");clean_query.push(f[0]+"=******")}}
b["clean.query_string"]=clean_query.join("&");b["clean.url"]=location.protocol+'//'+b['dom.domain']+b['dom.pathname']+(b['clean.query_string']?'?'+b['clean.query_string']:'')+(b['dom.hash']?'#'+b['dom.hash']:'');}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.domain'].toString().toLowerCase()=='book-uat.swiss.com'.toLowerCase()||b['dom.domain'].toString().toLowerCase()=='wav.swiss.com'.toLowerCase()||b['dom.domain'].toString().toLowerCase()=='book.swiss.com'.toLowerCase()){function concatCats(path){try{if(utag_data[path+'.category.category1']&&utag_data[path+'.category.category1'].length>0){var catAll=[],cat1=utag_data[path+'.category.category1'],cat2=utag_data[path+'.category.category2'],cat3=utag_data[path+'.category.category3'],cat4=utag_data[path+'.category.category4'],cat5=utag_data[path+'.category.category5'];if(typeof cat1==='object'){for(var i=0,len=cat1.length;i<len;i++){var fullCat=[cat1[i]];if(typeof cat2[i]==='string'&&cat2[i]!=='')fullCat.push(cat2[i]);if(typeof cat3[i]==='string'&&cat3[i]!=='')fullCat.push(cat3[i]);if(typeof cat4[i]==='string'&&cat4[i]!=='')fullCat.push(cat4[i]);if(typeof cat5[i]==='string'&&cat5[i]!=='')fullCat.push(cat5[i]);catAll.push(fullCat.join('/'));}}else if(typeof cat1==='string'){var fullCat=[cat1];if(typeof cat2==='string'&&cat2!=='')fullCat.push(cat2);if(typeof cat3==='string'&&cat3!=='')fullCat.push(cat3);if(typeof cat4==='string'&&cat4!=='')fullCat.push(cat4);if(typeof cat5==='string'&&cat5!=='')fullCat.push(cat5);catAll.push(fullCat.join('/'));}
utag_data[path+'.categoryAll']=catAll;}}catch(e){}}
concatCats('product');concatCats('cart.item');concatCats('transaction.item');concatCats('filter');}}catch(e){utag.DB(e)}},function(a,b){try{if(1){utag.DB('utag_data Init: start');try{var na_string='(not set)';var no_datalayer='(no lhgdata)';var orig_suffix='_ORIG';var tmp;try{if(typeof(utag_data["cp.dwmwrcookie"])!=='undefined'&&utag_data["cp.dwmwrcookie"]!==''){var cp_dwmwr=utag_data["cp.dwmwrcookie"];utag.DB('cp dwmwr:');utag.DB(cp_dwmwr);var erg=/utm_campaign=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!==''){utag_data.utm_campaign=erg[1];utag_data['qp.utm_campaign']=erg[1];}
erg=/utm_source=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!=='')utag_data.utm_source=erg[1];erg=/utm_medium=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!==''){utag_data.utm_medium=erg[1];utag_data['qp.utm_medium']=erg[1];}
erg=/utm_term=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!==''){utag_data.utm_term=erg[1];utag_data['qp.utm_term']=erg[1];}
erg=/aaaid=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!==''){utag_data.aaaid=erg[1];utag_data["qp.aaaid"]=erg[1];}
erg=/ns_campaign=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!=='')utag_data.ns_campaign=erg[1];erg=/clickID=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!=='')utag_data.clickID=erg[1];erg=/utm_content=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!=='')utag_data.utm_content=erg[1];erg=/WT\.mc_id=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!=='')utag_data.wt_campaign=erg[1];erg=/MSE_LH\.clickid=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!=='')utag_data.mse_clickid=erg[1];erg=/internalcampaign=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!=='')utag_data.intcamp=erg[1];erg=/intcamp=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!=='')utag_data.intcamp=erg[1];erg=/ses_mark=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!=='')utag_data.ses_mark=erg[1];erg=/gclid=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!=='')utag_data.gclid=erg[1];erg=/gclsrc=([^&]*)/i.exec(cp_dwmwr);if(erg!==null&&erg[1]!=='')utag_data.gclsrc=erg[1];}}catch(e){}
var getRandom=function(min,max){var r;do{r=Math.random();}
while(r==1.0);return min+parseInt(r*(max-min+1));};utag_data._random=getRandom(10000,99999);utag_data._one=1;utag_data._blank='';utag_data.portal='lh';utag_data['dom.domain']=utag_data['dom.domain']||location.hostname;utag_data['dom.referrer']=utag_data['dom.referrer']||document.referrer;utag_data['dom.title']=utag_data['dom.title']||""+document.title;utag_data['dom.query_string']=utag_data['dom.query_string']||(""+location.search).substring(1);utag_data['dom.hash']=utag_data['dom.hash']||(""+location.hash).substring(1);utag_data['dom.url']=utag_data['dom.url']||""+document.URL;utag_data['dom.pathname']=utag_data['dom.pathname']||""+location.pathname;utag_data['dom.viewport_height']=utag_data['dom.viewport_height']||(window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960));utag_data['dom.viewport_width']=utag_data['dom.viewport_width']||(window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960));utag_data.pathname_cleaned=(utag_data['dom.pathname'].indexOf(';jsessionid=')>-1)?utag_data['dom.pathname'].split(';jsessionid=')[0]:utag_data['dom.pathname'];utag_data.mmPageID_firstPart=window.mmPageID?window.mmPageID.split('_')[0]:'';}catch(e){utag.DB(e)};try{if(utag_data['page.pageInfo.country']){utag_data.market=utag_data['page.pageInfo.country'].toUpperCase();}else if(utag_data.wt_dcsext_market){utag_data.market=utag_data.wt_dcsext_market.toUpperCase();}else if(utag_data['meta.X-Portal-Site']){utag_data.market=utag_data['meta.X-Portal-Site'].toUpperCase();}else if(window.mmPageID&&window.mmPageID.split('_').length>=3){tmp=window.mmPageID.split('_');tmp=tmp[tmp.length-2].toUpperCase();utag_data.market=tmp.length===2?tmp:na_string;}else{utag_data.market=na_string;}
if(utag_data.market==='UK')utag_data.market='GB';if(typeof utag_data.market==='string')utag_data['page.pageInfo.country']=utag_data.market.toLowerCase();if(utag_data['page.pageInfo.language']){utag_data.language=utag_data['page.pageInfo.language'].toLowerCase();}else if(typeof utag_data.wt_dcsext_language==='string'){utag_data.language=utag_data.wt_dcsext_language.split('_')[0].toLowerCase();}else if(utag_data['meta.X-Portal-Language']){utag_data.language=utag_data['meta.X-Portal-Language'].toLowerCase();}else if(window.mmPageID&&window.mmPageID.split('_').length>=3){tmp=window.mmPageID.split('_');tmp=tmp[tmp.length-1].toLowerCase();utag_data.language=tmp.length===2?tmp:na_string;}else{utag_data.language=na_string;}
if(utag_data.language==='gb')utag_data.language='en';else if(utag_data.language==='ka')utag_data.language='hk';else if(utag_data.language==='mi')utag_data.language='zh';if(typeof utag_data.language==='string')utag_data['page.pageInfo.language']=utag_data.language.toLowerCase();var currentDate=new Date();var s_c_day=("0"+currentDate.getDate()).slice(-2);var s_c_month=("0"+(currentDate.getMonth()+1)).slice(-2);var s_c_year=currentDate.getFullYear().toString();utag_data.date_of_bookingDMY=s_c_day+s_c_month+s_c_year;utag_data.date_of_booking=s_c_year+'-'+s_c_month+'-'+s_c_day;utag_data.date_of_bookingYMD=s_c_year+s_c_month+s_c_day;utag_data.timestamp=Date.now().toString();utag_data.pagetype='';var pageName=utag_data['page.pageInfo.pageName']||'';utag_data.current_page=pageName;if(window.mmPageID){if(window.mmPageID.indexOf('_bS-')===2){utag_data.mmPageID_SEOpage='yes';utag_data.pagetype="parser";utag_data.current_page="SEO page";}else{utag_data.mmPageID_SEOpage='no';}}}catch(e){utag.DB(e)};try{utag_data.personalizationConsent='0';var consent_cookie=window.utag.gdpr.getCookieValues()||{};if(consent_cookie&&consent_cookie.consent=='true'){if(consent_cookie.c4==='1')utag_data.personalizationConsent='1';}}catch(e){utag.DB(e)};if(utag_data['dom.domain']==='www.lufthansa.com'||utag_data['dom.domain']==='www-dcep-prep.lufthansa.com'||utag_data['dom.domain']==='www-dcep-qa.lufthansa.com'){try{if(pageName==='homepage')utag_data.pagetype='home';}catch(e){utag.DB(e)};}else{try{var step=false,legs=-1,flights=-1;if(utag_data['transaction.item.category.category1']){step='transaction';}else if(utag_data['cart.item.category.category1']){step='cart';}else if(utag_data['filter.element.userInput']){step='filter';}
var LCabName={'economy':[1,'demall'],'premium economy':[3,'demall'],'business':[4,'decall'],'first':[5,'defall']};if(utag_data.mmPageID_firstPart==='FOFP'||utag_data.mmPageID_firstPart==='FFPP'||utag_data.mmPageID_firstPart==='FOMS'||utag_data.mmPageID_firstPart==='FOSD'){utag_data.pagetype='searchresults';}else if(utag_data.mmPageID_firstPart==='BKCO'){utag_data.pagetype="purchase";}else{if(window.location.pathname.indexOf('air-lh/servicing/')>-1){utag_data.pagetype="product";}else{utag_data.pagetype="cart";}}}catch(e){utag.DB(e)};try{if(typeof(clientSideData)!=='undefined'&&typeof(clientSideData.PAGE)!=='undefined'&&typeof(clientSideData.PAGE.DATA)!=='undefined'){if(utag_data.mmPageID_firstPart==='BKCO')utag_data.booking_type=clientSideData.PAGE.DATA.IS_BOOKING_ON_HOLD?'boh':'sale';if(clientSideData.PAGE.DATA.FLIGHT_IS_CONTINENTAL)utag_data.BFT='K';if(clientSideData.PAGE.DATA.FLIGHT_IS_DOMESTIC)utag_data.BFT='D';if(clientSideData.PAGE.DATA.FLIGHT_IS_INTERNATIONAL)utag_data.BFT='IK';if(step==='filter'){tmp=clientSideData.PAGE.DATA.TRIP_TYPE||'';if(tmp==='R')utag_data.trip_type='rt';else if(tmp==='O')utag_data.trip_type='ow';else if(tmp==='M')utag_data.trip_type='ms';}
}else{if(utag_data.wt_dcsext_bft)utag_data.BFT=utag_data.wt_dcsext_bft.replace(/;/g,'|');if(step==='filter'&&utag_data.wt_dcsext_bftriptype){tmp=utag_data.wt_dcsext_bftriptype||'';if(tmp==='RT')utag_data.trip_type='rt';else if(tmp==='OW')utag_data.trip_type='ow';else if(tmp==='MS')utag_data.trip_type='ms';}}}catch(e){utag.DB(e)};if(step&&(step==='cart'||step==='transaction')){try{if(utag_data[step+'.item.productInfo.segment.number']){var highest=0;var index;var len=utag_data[step+'.item.productInfo.segment.number'].length;for(var i=0;i<len;i++){index=parseInt(utag_data[step+'.item.productInfo.segment.number'][i]);if(index>highest)highest=index;}
legs=highest;utag_data.legs_amt=legs.toString();}
if(utag_data[step+'.item.productInfo.segment.flightAssociation']){var highest=0;var index;var len=utag_data[step+'.item.productInfo.segment.flightAssociation'].length;for(var i=0;i<len;i++){index=parseInt(utag_data[step+'.item.productInfo.segment.flightAssociation'][i]);if(index>highest)highest=index;}
flights=highest;}
if(utag_data[step+'.item.productInfo.segment.origin']&&utag_data[step+'.item.productInfo.segment.destination']){tmp='';var ori=[],des=[];for(var i=0;i<legs;i++){tmp+=utag_data[step+'.item.productInfo.segment.origin'][i]+'-'+utag_data[step+'.item.productInfo.segment.destination'][i]+';';ori.push(utag_data[step+'.item.productInfo.segment.origin'][i]);des.push(utag_data[step+'.item.productInfo.segment.destination'][i]);}
utag_data.flight_itinery=tmp.slice(0,-1);utag_data.origins=ori.join('|');utag_data.destinations=des.join('|');}
if(utag_data[step+'.item.productInfo.segment.oCarrier']){tmp=[];for(var i=0;i<legs;i++){tmp.push(utag_data[step+'.item.productInfo.segment.oCarrier'][i]);}
utag_data.carrier_list=tmp.join('|');}}catch(e){utag.DB(e)};try{if(utag_data[step+'.item.attributes.paxAdult']){utag_data.pax_adult_amt=utag_data[step+'.item.attributes.paxAdult'][0];}
if(utag_data[step+'.item.attributes.paxChild']){utag_data.pax_child_amt=utag_data[step+'.item.attributes.paxChild'][0];}
if(utag_data[step+'.item.attributes.paxInfant']){utag_data.pax_baby_amt=utag_data[step+'.item.attributes.paxInfant'][0];}
utag_data.pax_amt=(parseInt(utag_data.pax_adult_amt)+parseInt(utag_data.pax_child_amt)+parseInt(utag_data.pax_baby_amt)).toString();utag_data.tickets=(parseInt(utag_data.pax_adult_amt)+parseInt(utag_data.pax_child_amt)).toString();}catch(e){utag.DB(e)};try{if(utag_data[step+'.item.productInfo.departure']){utag_data.outboundDate=utag_data[step+'.item.productInfo.departure'][0].split(' ')[0];if(flights&&flights>1){utag_data.inboundDate=utag_data[step+'.item.productInfo.departure'][flights-1].split(' ')[0];}}}catch(e){utag.DB(e)};try{if(utag_data[step+'.item.productInfo.origin']){utag_data.departure_airport=utag_data[step+'.item.productInfo.origin'][0];}
if(utag_data[step+'.item.productInfo.destination']){utag_data.destination_airport=utag_data[step+'.item.productInfo.destination'][0];}}catch(e){utag.DB(e)};try{if(utag_data[step+'.item.productInfo.segment.class']){tmp=[];for(var i=0;i<legs;i++){tmp.push(utag_data[step+'.item.productInfo.segment.class'][i]);}
utag_data.booking_class_detail=tmp.join('|');}
if(utag_data[step+'.item.productInfo.bundle']){tmp=[];for(var i=0;i<flights;i++){tmp.push(utag_data[step+'.item.productInfo.bundle'][i]);}
utag_data.cabin_class_detail=tmp.join('|');var len=tmp.length;var newCab;var cleanCabs=[];var highestCab='';for(var i=0;i<len;i++){newCab=tmp[i].toLowerCase();if(newCab.indexOf('premium economy')>-1)cleanCabs.push('premium economy');else if(newCab.indexOf('economy')>-1)cleanCabs.push('economy');else if(newCab.indexOf('business')>-1)cleanCabs.push('business');else if(newCab.indexOf('first')>-1)cleanCabs.push('first');}
len=cleanCabs.length;if(len>0){highestCab=cleanCabs[0];for(var i=1;i<len;i++){newCab=cleanCabs[i];if(LCabName[newCab][0]>LCabName[highestCab][0])highestCab=newCab;}
utag_data.cabin_class=highestCab;utag_data.booking_class=LCabName[highestCab][1];}}}catch(e){utag.DB(e)};try{if(utag_data[step+'.item.productInfo.farebase']){var y_lgt=0;var n_lgt=0;tmp=[];for(var i=0;i<flights;i++){if(utag_data[step+'.item.productInfo.farebase'][i].indexOf('lgt')>-1)y_lgt++;else n_lgt++;tmp.push(utag_data[step+'.item.productInfo.farebase'][i]);}
if(y_lgt&&n_lgt)utag_data.bag_status=1;if(y_lgt&&!n_lgt)utag_data.bag_status=2;if(!y_lgt&&n_lgt)utag_data.bag_status=3;utag_data.farebase_codes=tmp.join('|');}}catch(e){utag.DB(e)};try{if(utag_data[step+'.item.categoryAll']){tmp=utag_data[step+'.item.categoryAll'][0]||'';if(tmp.indexOf('roundtrip')>=0){utag_data.trip_type='rt';}else if(tmp.indexOf('oneway')>=0){utag_data.trip_type='ow';}else if(tmp.indexOf('openjaw')>=0){utag_data.trip_type='ms';}else if(tmp.indexOf('multistop')>=0){utag_data.trip_type='ms';}else{utag_data.trip_type='na';}}}catch(e){utag.DB(e)};try{if(utag_data['cart.item.price.currency']&&utag_data['cart.price.currency'+orig_suffix]){utag_data.currency=utag_data['cart.price.currency'+orig_suffix];}else if(utag_data['transaction.total.currency'+orig_suffix]){utag_data.currency=utag_data['transaction.total.currency'+orig_suffix];}else if(utag_data['cart.item.price.currency']){utag_data.currency=utag_data['cart.price.currency'];}
else if(utag_data['transaction.total.currency']){utag_data.currency=utag_data['transaction.total.currency'];}
if(utag_data['transaction.total.netFare'])utag_data['transaction.total.netfare']=utag_data['transaction.total.netFare'];if(utag_data['transaction.total.netFare'])utag_data.BFNetfareEUR=parseFloat(utag_data['transaction.total.netFare']).toFixed(2);if(utag_data['transaction.total.netFare'+orig_suffix])utag_data.BFNetfare=parseFloat(utag_data['transaction.total.netFare'+orig_suffix]).toFixed(2);if(utag_data['transaction.total.transactionTotal'])utag_data.revenueEUR=parseFloat(utag_data['transaction.total.transactionTotal']).toFixed(2);else if(utag_data['cart.price.total']&&utag_data['cart.price.total']!=='0.00')utag_data.revenueEUR=parseFloat(utag_data['cart.price.total']).toFixed(2);if(utag_data['transaction.total.transactionTotal'+orig_suffix])utag_data.revenue=parseFloat(utag_data['transaction.total.transactionTotal'+orig_suffix]).toFixed(2);else if(utag_data['cart.price.total'+orig_suffix]&&utag_data['cart.price.total'+orig_suffix]!=='0.00')utag_data.revenue=parseFloat(utag_data['cart.price.total'+orig_suffix]).toFixed(2);if(utag_data['transaction.total.fees'])utag_data.TSCEUR=parseFloat(utag_data['transaction.total.fees']).toFixed(2);if(utag_data['transaction.total.fees'+orig_suffix])utag_data.TSC=parseFloat(utag_data['transaction.total.fees'+orig_suffix]).toFixed(2);if(utag_data['transaction.total.opc'])utag_data.OPCEUR=parseFloat(utag_data['transaction.total.opc']).toFixed(2);if(utag_data['transaction.total.opc'+orig_suffix])utag_data.OPC=parseFloat(utag_data['transaction.total.opc'+orig_suffix]).toFixed(2);if(utag_data['transaction.total.tax'])utag_data.taxEUR=parseFloat(utag_data['transaction.total.tax']).toFixed(2);if(utag_data['transaction.total.tax'+orig_suffix])utag_data.tax=parseFloat(utag_data['transaction.total.tax'+orig_suffix]).toFixed(2);if(utag_data['transaction.total.surcharge'])utag_data.YQEUR=parseFloat(utag_data['transaction.total.surcharge']).toFixed(2);if(utag_data['transaction.total.surcharge'+orig_suffix])utag_data.YQ=parseFloat(utag_data['transaction.total.surcharge'+orig_suffix]).toFixed(2);if(typeof(utag_data.revenue)!=='undefined'&&parseInt(utag_data.revenue)===parseInt(utag_data.revenue)){utag_data.BFRev_INT=parseInt(utag_data.revenue).toString();}
if(typeof(utag_data.revenueEUR)!=='undefined'&&parseInt(utag_data.revenueEUR)===parseInt(utag_data.revenueEUR)){utag_data.BFRev_INTEUR=parseInt(utag_data.revenueEUR).toString();}
if(utag_data.TSCEUR&&utag_data.taxEUR&&utag_data['transaction.total.conversionFees']&&utag_data.YQEUR){tmp=parseFloat(utag_data.TSCEUR)+parseFloat(utag_data.taxEUR)+parseFloat(utag_data['transaction.total.conversionFees'])+parseFloat(utag_data.YQEUR);utag_data.taxesEUR=tmp.toFixed(2);}
if(utag_data.TSC&&utag_data.tax&&utag_data['transaction.total.conversionFees'+orig_suffix]&&utag_data.YQ){tmp=parseFloat(utag_data.TSC)+parseFloat(utag_data.tax)+parseFloat(utag_data['transaction.total.conversionFees'+orig_suffix])+parseFloat(utag_data.YQ);utag_data.taxes=tmp.toFixed(2);}}catch(e){utag.DB(e)};try{if(utag_data.BFNetfareEUR&&utag_data.revenueEUR){var net=parseFloat(utag_data.BFNetfareEUR);var rev=parseFloat(utag_data.revenueEUR);if(net===net&&rev===rev){if(net>=rev)utag_data.netfare_error_blocker='yes';}}}catch(e){utag.DB(e)};try{var anc_list=[];var anc_price_list=[];if(utag_data[step+'.item.category.category1']){var flightPrice=0;var ca=utag_data[step+'.item.category.category1'];for(var i=0;i<ca.length;i++){if(ca[i]==='flight'){flightPrice+=parseFloat(utag_data[step+'.item.price.basePrice'][i]);}}
if(flightPrice>0){anc_list.push('flight');anc_price_list.push(flightPrice.toFixed(2));}}
if(utag_data[step+'.item.categoryAll']){var ancNames={'ancillary/non flight related/travel services/insurance':'insu','ancillary/non flight related/travel services/car':'car','ancillary/flight related/asr':'seat','ancillary/flight related/upgrade/atc upgrade':'upgrade','ancillary/flight related/upgrade/cash upgrade':'upgrade','ancillary/flight related/baggage':'baggage','ancillary/flight related/other inflight services/catering':'meal','ancillary/flight related/other ground services/ground transport/airport transfer':'railAndFly'};var ancPrices={'insu':[0,0],'car':[0,0],'seat':[0,0,0,0],'upgrade':[0,0],'baggage':[0,0],'meal':[0,0],'railAndFly':[0,0]};utag_data.anc_insu='no';utag_data.anc_car='no';utag_data.anc_seat='no';utag_data.anc_upgrade='no';utag_data.anc_baggage='no';utag_data.anc_meal='no';utag_data.anc_railAndFly='no';var key,pv=utag_data[step+'.item.attributes.variant'],ca=utag_data[step+'.item.categoryAll'];for(var i=0;i<ca.length;i++){if(ca[i]in ancNames){key=ancNames[ca[i]];utag_data['anc_'+key]='yes';tmp=parseFloat(utag_data[step+'.item.price.basePrice'][i]);ancPrices[key][0]+=tmp;ancPrices[key][1]+=1;if(key==='seat'){if(tmp>0){ancPrices[key][2]+=1;if(pv&&pv[i]){if(pv[i]!=='')pv[i]+=' ';pv[i]+='chargeable';}}else{ancPrices[key][3]+=1;if(pv&&pv[i]){if(pv[i]!=='')pv[i]+=' ';pv[i]+='free';}}}}}
if(utag_data.anc_seat==='yes'){utag_data.anc_price_seat=ancPrices['seat'][0].toFixed(2);utag_data.anc_amt_seat=ancPrices['seat'][1];utag_data.anc_amt_seat_cost=ancPrices['seat'][2];utag_data.anc_amt_seat_free=ancPrices['seat'][3];anc_list.push('seat');anc_price_list.push(utag_data.anc_price_seat);}
if(utag_data.anc_baggage==='yes'){utag_data.anc_price_baggage=ancPrices['baggage'][0].toFixed(2);utag_data.anc_amt_baggage=ancPrices['baggage'][1];anc_list.push('baggage');anc_price_list.push(utag_data.anc_price_baggage);}
if(utag_data.anc_upgrade==='yes'){utag_data.anc_price_upgrade=ancPrices['upgrade'][0].toFixed(2);utag_data.anc_amt_upgrade=ancPrices['upgrade'][1];anc_list.push('upgrade');anc_price_list.push(utag_data.anc_price_upgrade);}
if(utag_data.anc_insu==='yes'){utag_data.anc_price_insu=ancPrices['insu'][0].toFixed(2);utag_data.anc_amt_insu=ancPrices['insu'][1];anc_list.push('insu');anc_price_list.push(utag_data.anc_price_insu);}
if(step==='transaction')utag_data.insu=utag_data.anc_insu;if(utag_data.anc_car==='yes'){utag_data.anc_price_car=ancPrices['car'][0].toFixed(2);utag_data.anc_amt_car=ancPrices['car'][1];anc_list.push('car');anc_price_list.push(utag_data.anc_price_car);}
if(utag_data.anc_meal==='yes'){utag_data.anc_price_meal=ancPrices['meal'][0].toFixed(2);utag_data.anc_amt_meal=ancPrices['meal'][1];anc_list.push('meal');anc_price_list.push(utag_data.anc_price_meal);}
if(utag_data.anc_railAndFly==='yes'){utag_data.anc_price_railAndFly=ancPrices['railAndFly'][0].toFixed(2);utag_data.anc_amt_railAndFly=ancPrices['railAndFly'][1];anc_list.push('railAndFly');anc_price_list.push(utag_data.anc_price_railAndFly);}}
utag_data.anc_list=anc_list.join(';');utag_data.anc_price_list=anc_price_list.join(';');}catch(e){utag.DB(e)};}else if(step&&step==='filter'){try{legs=0;if(utag_data['filter.element.elementName']&&utag_data['filter.element.userInput']){var filter={};var len=Math.min(utag_data['filter.element.elementName'].length,utag_data['filter.element.userInput'].length);for(var i=0;i<len;i++){filter[utag_data['filter.element.elementName'][i]]=utag_data['filter.element.userInput'][i];}
utag_data.flight_itinery=filter['origin']+'-'+filter['destination'];utag_data.pax_adult_amt=filter['adults'];utag_data.pax_child_amt=filter['children'];utag_data.pax_baby_amt=filter['infants'];utag_data.pax_amt=(parseInt(utag_data.pax_adult_amt)+parseInt(utag_data.pax_child_amt)+parseInt(utag_data.pax_baby_amt)).toString();utag_data.outboundDate=filter['outbound-date'];if(filter['inbound-date']){utag_data.inboundDate=filter['inbound-date'];}
utag_data.departure_airport=filter['origin'];utag_data.destination_airport=filter['destination'];utag_data.cabin_class=filter['class'].toLowerCase();utag_data.booking_class=LCabName[utag_data.cabin_class][1]||'';utag_data.cabin_class_detail='';utag_data.booking_class_detail='';}}catch(e){utag.DB(e)};}
try{if(typeof utag_data.outboundDate==='string'&&utag_data.outboundDate.length==10){var s_o_day=utag_data.outboundDate.substr(8,2);var s_o_month=utag_data.outboundDate.substr(5,2);var s_o_year=utag_data.outboundDate.substr(0,4);utag_data.outboundDateYDM=s_o_year+s_o_month+s_o_day;utag_data.outboundDateMY=s_o_month+'-'+s_o_year;utag_data.outboundDateDMY=s_o_day+'-'+s_o_month+'-'+s_o_year;utag_data.outboundDateDMYdot=s_o_day+'.'+s_o_month+'.'+s_o_year;}
if(typeof utag_data.inboundDate==='string'&&utag_data.inboundDate.length==10){var s_i_day=utag_data.inboundDate.substr(8,2);var s_i_month=utag_data.inboundDate.substr(5,2);var s_i_year=utag_data.inboundDate.substr(0,4);utag_data.inboundDateYMD=s_i_year+s_i_month+s_i_day;utag_data.inboundDateDMY=s_i_day+'-'+s_i_month+'-'+s_i_year;}
if(s_o_year&&s_c_year){var depDate=new Date(s_o_year,s_o_month-1,s_o_day);var bookDate=new Date(s_c_year,s_c_month-1,s_c_day);var diffDays=Math.round(Math.abs((bookDate.getTime()-depDate.getTime())/(24*60*60*1000)));utag_data.daysUntilDep=diffDays;if(s_i_year){var retDate=new Date(s_i_year,s_i_month-1,s_i_day);diffDays=Math.round(Math.abs((depDate.getTime()-retDate.getTime())/(24*60*60*1000)));utag_data.trip_duration=diffDays;var weekday=depDate.getDay();if(utag_data.daysUntilDep>=42){if(utag_data.trip_duration>=3){utag_data.estimated_trip_reason='leis';}else{if(weekday==5||weekday==6){utag_data.estimated_trip_reason='leis';}else{utag_data.estimated_trip_reason='corp';}}}else{if(utag_data.trip_duration>=7){utag_data.estimated_trip_reason='leis';}else{utag_data.estimated_trip_reason='corp';}}}}}catch(e){utag.DB(e)};try{if(utag_data.mmPageID_firstPart==='BKCO')utag_data.confirmation_type=utag_data.booking_type;else if(utag_data.mmPageID_firstPart==='RBCO'||(utag_data.mmPageID_firstPart==='BKGD'&&utag_data['transaction.transactionId']&&utag_data['transaction.transactionId']!==''))utag_data.confirmation_type='Rebook';else if(utag_data.mmPageID_firstPart==='RFCO')utag_data.confirmation_type='Refund';else if(utag_data.mmPageID_firstPart==='REPC')utag_data.confirmation_type='ReservationConfirmation';else if(utag_data.mmPageID_firstPart==='UPCO'||utag_data.mmPageID_firstPart==='UPCC')utag_data.confirmation_type='Upgrade';}catch(e){utag.DB(e)};}
try{if(utag_data.pagetype==='')utag_data.pagetype='product';var re_domain=new RegExp("^\\w+:\/\/([^\/:]+)[\\w\\W]*$");utag_data.refdomain=utag_data['dom.referrer'].replace(re_domain,'$1');if(utag_data.refdomain==='-')utag_data.refdomain='';if(typeof jQuery==='function'&&typeof jQuery.fn!=='undefined'&&typeof jQuery.fn.jquery!=='undefined'){utag_data.jQueryVersion=jQuery.fn.jquery;}}catch(e){utag.DB(e)};utag.DB('utag_data Init: end');}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['platformId']!='undefined'&&b['platformId']!='adcb2')){try{var na_string='(not set)';var no_datalayer='(no lhgdata)';var login_status=na_string;var login_type=na_string;var membership_status=na_string;var permissions=na_string;var customerStatus='ANONYMOUS';if(utag_data['user.profile.loginStatus']){if(utag_data['user.profile.loginStatus'].toString()==='true'||utag_data['user.profile.loginStatus'].toString()==='1'){login_status='logged in';if(typeof utag_data['user.profile.loginType']==='string'){if(utag_data['user.profile.loginType']==="travelid basic"){login_type="TravelID Basic";}else if(utag_data['user.profile.loginType']==="travelid ffp"){login_type="TravelID FFP";}else if(utag_data['user.profile.loginType']==='UDH'){login_type='personal profile';}else{login_type=utag_data['user.profile.loginType'];}}
if(typeof utag_data['user.profile.membership.status']==='string'){if(utag_data['user.profile.membership.status']===''||utag_data['user.profile.membership.status']==='none'){customerStatus=membership_status='no MAM account | airline ID only';}else if(utag_data['user.profile.membership.status']==='mam'){customerStatus=membership_status="base";}else{customerStatus=membership_status=utag_data['user.profile.membership.status'].toLowerCase();}}
if(typeof utag_data['user.profile.profileInfo.permissions']==='string'){if(utag_data['user.profile.profileInfo.permissions']===''){permissions='no permissions';}else{permissions=utag_data['user.profile.profileInfo.permissions'];}}}else{login_status=login_type=membership_status=permissions='logged out';}}else{if(window.lhgData){login_status=login_type=membership_status=permissions=na_string;}else{login_status=login_type=membership_status=permissions=no_datalayer;}}
b.customerStatus=utag_data.customerStatus=customerStatus;b.logged_in=utag_data.logged_in=login_status;b['user.profile.loginType']=utag_data['user.profile.loginType']=login_type;b['user.profile.membership.status']=utag_data['user.profile.membership.status']=membership_status;b['user.profile.profileInfo.permissions']=utag_data['user.profile.profileInfo.permissions']=permissions;if(b['dom.domain'].includes("miles-and-more")&&typeof b['page.pageInfo.pageId']==='undefined'){var market=b['page.pageInfo.country']||'xx';var lang=b['page.pageInfo.language']||'xx';var pname=b['page.pageInfo.pageName']||na_string;b['page.pageInfo.pageId']=pname+'_'+market+'_'+lang;}}catch(e){utag.DB(e)
gtag('event','crash',{'event_category':'debug','event_label':'OneID ext -'+e});}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['platformId']!='undefined'&&b['platformId']=='adcb2')){try{if(typeof utag_data['qp.WT.mc_id']==='string')utag_data.wt_campaign=utag_data['qp.WT.mc_id'];else if(typeof utag_data['qp.wt.mc_id']==='string')utag_data.wt_campaign=utag_data['qp.wt.mc_id'];if(typeof utag_data['qp.utm_campaign']==='string')utag_data.utm_campaign=utag_data['qp.utm_campaign'];if(typeof utag_data['qp.utm_content']==='string')utag_data.utm_content=utag_data['qp.utm_content'];if(typeof utag_data['qp.utm_source']==='string')utag_data.utm_source=utag_data['qp.utm_source'];if(typeof utag_data['qp.utm_medium']==='string')utag_data.utm_medium=utag_data['qp.utm_medium'];if(typeof utag_data['qp.utm_term']==='string')utag_data.utm_term=utag_data['qp.utm_term'];if(typeof utag_data['qp.aaaid']==='string')utag_data.aaaid=utag_data['qp.aaaid'];if(typeof utag_data['qp.ns_campaign']==='string')utag_data.ns_campaign=utag_data['qp.ns_campaign'];if(typeof utag_data['qp.clickID']==='string')utag_data.clickID=utag_data['qp.clickID'];if(typeof utag_data['qp.MSE_LH.clickid']==='string')utag_data.mse_clickid=utag_data['qp.MSE_LH.clickid'];if(typeof utag_data['qp.internalcampaign']==='string')utag_data.intcamp=utag_data['qp.internalcampaign'];if(typeof utag_data['qp.intcamp']==='string')utag_data.intcamp=utag_data['qp.intcamp'];if(typeof utag_data['qp.ses_mark']==='string')utag_data.ses_mark=utag_data['qp.ses_mark'];}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['platformId']!='undefined'&&b['platformId']=='adcb2')){var convertPrices={'cart.price.priceBreakdown.tax.surcharge.amount':1,'cart.price.pricePerTravellerType.totalPrice.amount':1,'cart.price.totalPrice.amount':1,'product.productInfo.productDetails.ancillaryService.price.totalPrice.amount':1,'product.productInfo.productDetails.flightTicket.bound.price.priceBreakdown.baseFarePrice.amount':1,'product.productInfo.productDetails.flightTicket.bound.price.pricePerTravellerType.totalPrice.amount':1,'product.productInfo.productDetails.flightTicket.bound.price.totalPrice.amount':1,'transaction.payment.price.priceBreakdown.baseFarePrice.amount':1,'transaction.payment.price.pricePerTravellerType.totalPrice.amount':1,'transaction.payment.price.totalPrice.amount':1,'transaction.total.priceBreakdown.ancillaryServicePrice.amount':1,'transaction.total.priceBreakdown.baseFarePrice.amount':1,'transaction.total.priceBreakdown.serviceFee.amount':1,'transaction.total.priceBreakdown.tax.surcharge.amount':1,'transaction.total.priceBreakdown.tax.totalTax.amount':1,'transaction.total.pricePerTravellerType.totalPrice.amount':1,'transaction.total.totalPrice.amount':1};var convertCurrencies={'currency':1,'cart.price.pricePerTravellerType.totalPrice.currency':1,'cart.price.priceBreakdown.tax.surcharge.currency':1,'cart.price.totalPrice.currency':1,'digitalTouchpoint.touchpointInfo.currency':1,'product.productInfo.productDetails.ancillaryService.price.totalPrice.currency':1,'product.productInfo.productDetails.flightTicket.bound.price.totalPrice.currency':1,'product.productInfo.productDetails.flightTicket.bound.price.priceBreakdown.baseFarePrice.currency':1,'product.productInfo.productDetails.flightTicket.bound.price.pricePerTravellerType.totalPrice.currency':1,'transaction.payment.price.priceBreakdown.baseFarePrice.currency':1,'transaction.payment.price.priceBreakdown.ancillaryServicePrice.currency':1,'transaction.payment.price.pricePerTravellerType.totalPrice.currency':1,'transaction.payment.price.totalPrice.currency':1,'transaction.total.priceBreakdown.ancillaryServicePrice.currency':1,'transaction.total.priceBreakdown.baseFarePrice.currency':1,'transaction.total.priceBreakdown.serviceFee.currency':1,'transaction.total.priceBreakdown.tax.surcharge.currency':1,'transaction.total.priceBreakdown.tax.totalTax.currency':1,'transaction.total.pricePerTravellerType.totalPrice.currency':1,'transaction.total.totalPrice.currency':1};var orig_suffix='_ORIG';var eur_code='CHF';try{if(utag_data['digitalTouchpoint.touchpointInfo.currency']&&utag_data['digitalTouchpoint.touchpointInfo.currency'+orig_suffix]){utag_data.currency=utag_data['digitalTouchpoint.touchpointInfo.currency'+orig_suffix];}
else if(utag_data['cart.price.totalPrice.currency']&&utag_data['cart.price.totalPrice.currency'+orig_suffix]){utag_data.currency=utag_data['cart.price.totalPrice.currency'+orig_suffix];}
else if(utag_data['transaction.total.totalPrice.currency']&&utag_data['transaction.total.totalPrice.currency'+orig_suffix]){utag_data.currency=utag_data['transaction.total.totalPrice.currency'+orig_suffix];}
else if(utag_data['digitalTouchpoint.touchpointInfo.currency']){utag_data.currency=utag_data['digitalTouchpoint.touchpointInfo.currency'];}
else if(utag_data['cart.price.totalPrice.currency']){utag_data.currency=utag_data['cart.price.totalPrice.currency'];}
else if(utag_data['transaction.total.totalPrice.currency']){utag_data.currency=utag_data['transaction.total.totalPrice.currency'];}
if(typeof utag_data.currency==='string'&&utag_data.currency.length>0){var doArr;var flag=false;var xchange=parseFloat(tealiumiq_currency.convert("1",utag_data.currency,"CHF"));if(xchange.toString()==='1'){var notEUR=false;}else{var notEUR=true;}
if(utag_data['transaction.total.priceBreakdown.baseFarePrice.amount']){utag_data['transaction.total.priceBreakdown.baseFarePrice_EUR']=tealiumiq_currency.convert(utag_data['transaction.total.priceBreakdown.baseFarePrice.amount'],utag_data.currency,"EUR");}
try{var additionalEURConv=["BFNetfareEUR","revenueEUR","taxesEUR","YQEUR","OPCEUR","BFRev_INTEUR"];for(var z=0;z<additionalEURConv.length;z++){var eurkey=additionalEURConv[z];if(eurkey){if(utag_data[eurkey]){utag_data[eurkey]=tealiumiq_currency.convert(utag_data[eurkey],utag_data.currency,"EUR");}}}}
catch(ex){}
for(var key in convertCurrencies){if(convertCurrencies.hasOwnProperty(key)&&utag_data[key]){if(typeof utag_data[key]==='object'){doArr=false;if(typeof utag_data[key+orig_suffix]!=='object'||(typeof utag_data[key+orig_suffix]==='object'&&utag_data[key+orig_suffix].length!==utag_data[key].length)){doArr=true;utag_data[key+orig_suffix]=[];}
var len=utag_data[key].length;for(var i=0;i<len;i++){if(doArr){utag_data[key+orig_suffix].push(utag_data[key][i]);}
if(notEUR&&utag_data[key+orig_suffix][i]===utag_data[key][i]){utag_data[key][i]=eur_code;}}}else{if(typeof utag_data[key+orig_suffix]!=='string'){utag_data[key+orig_suffix]=utag_data[key];}
if(notEUR&&utag_data[key+orig_suffix]===utag_data[key]){utag_data[key]=eur_code;}}}}
for(var key in convertPrices){if(convertPrices.hasOwnProperty(key)&&utag_data[key]){if(typeof utag_data[key]==='object'){doArr=false;if(typeof utag_data[key+orig_suffix]!=='object'||(typeof utag_data[key+orig_suffix]==='object'&&utag_data[key+orig_suffix].length!==utag_data[key].length)){doArr=true;utag_data[key+orig_suffix]=[];}
var len=utag_data[key].length;for(var i=0;i<len;i++){if(typeof utag_data[key][i]==='number')utag_data[key][i]=utag_data[key][i].toString();if(utag_data[key][i]==='')utag_data[key][i]='0.00';if(utag_data[key][i].indexOf('.')===-1)utag_data[key][i]=utag_data[key][i]+'.00';if(utag_data[key][i].split('.')[1]&&utag_data[key][i].split('.')[1].length===1)utag_data[key][i]=utag_data[key][i]+'0';if(doArr){utag_data[key+orig_suffix].push(parseFloat(utag_data[key][i]).toFixed(2));}
if(notEUR&&utag_data[key+orig_suffix][i]===utag_data[key][i]){utag_data[key][i]=(utag_data[key][i]*xchange).toFixed(2);flag=true;}}}else{if(typeof utag_data[key]==='number')utag_data[key]=utag_data[key].toString();if(utag_data[key]==='')utag_data[key]='0.00';if(utag_data[key].indexOf('.')===-1)utag_data[key]=utag_data[key]+'.00';if(utag_data[key].split('.')[1]&&utag_data[key].split('.')[1].length===1)utag_data[key]=utag_data[key]+'0';if(typeof utag_data[key+orig_suffix]==='undefined'){utag_data[key+orig_suffix]=parseFloat(utag_data[key]).toFixed(2);}
if(notEUR&&utag_data[key+orig_suffix]===utag_data[key]){utag_data[key]=(utag_data[key]*xchange).toFixed(2);flag=true;}}}}
if(flag)utag_data.currency_was_converted='yes';}}catch(e){utag.DB('DEBUG: currency conversion extension crashed: '+e);gtag('event','crash',{'event_category':'debug','event_label':'cc '+e});}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['platformId']!='undefined'&&b['platformId']=='adcb2')){try{var na_string='(not set)';function getFormattedDateTime(datetime){if(typeof datetime==='string'){var date=new Date(datetime);var year=date.getFullYear();var month=('0'+(date.getMonth()+1)).slice(-2);var day=('0'+date.getDate()).slice(-2);return year+'-'+month+'-'+day;}else{return na_string;}}
var readCookie=function(cookieName){var re=new RegExp('[; ]'+cookieName+'=([^\\s;]*)');var sMatch=(' '+document.cookie).match(re);if(cookieName&&sMatch)return unescape(sMatch[1]);return'';};function getConcatenatedWithPipe(arr){if(arr.length>0){return arr.join('|');}else{return na_string;}}
var flights=-1,query_string='',anchor_tags='',arrival='',departure='',days_to_dep='',destination='',origin='',ond='',origin_con='',destination_con='',pax_age_group='',pax_total='',trip_type='',com_fare_family='',clientID='',trip_reason='',cabin='',journey_length='',bundle='',farebase_code='',coupon_status='';var dep_weekDay='',trip_duration='',traveller_count=typeof b['traveller.travellerID']!=='undefined'?b['traveller.travellerID'].length:0;b.consent_value=na_string;b.consent_timestamp=na_string;var consent_cookie=window.utag.gdpr.getCookieValues()||{};if(consent_cookie&&consent_cookie.consent=='true'){b.consent_value="s".concat(consent_cookie.c2).concat('|c').concat(consent_cookie.c3).concat('|p').concat(consent_cookie.c4);b.consent_timestamp=consent_cookie.ts;}
var market=b['digitalTouchpoint.touchpointInfo.market']||na_string;b['digitalTouchpoint.touchpointInfo.market']=market.toLowerCase();var entity=b['digitalTouchpoint.touchpointInfo.airlineCode']||na_string;b['digitalTouchpoint.touchpointInfo.airlineCode']=entity.toLowerCase();var pname=b['page.pageInfo.pageName']||na_string,slang=b['digitalTouchpoint.touchpointInfo.language']||na_string,smarket=b['digitalTouchpoint.touchpointInfo.market']||na_string;b['page.pageInfo.pageName']=pname.toLowerCase()
b.ga_pagename_market_lang=(pname+'_'+smarket+'_'+slang).toLowerCase();b.ga_pathname_cleaned=(window.location.pathname.indexOf(';jsessionid=')>-1)?window.location.pathname.split(';jsessionid=')[0]:window.location.pathname;if(typeof b['clean.query_string']==='string'&&b['clean.query_string']!==''){query_string='?'+b['clean.query_string'];}
if(typeof b['dom.hash']==='string'&&b['dom.hash']!==''){anchor_tags='#'+b['dom.hash'];}
if(b['product.productInfo.productDetails.flightTicket.bound.departure.dateTime']&&b['product.productInfo.productDetails.flightTicket.bound.departure.dateTime'].length>0&&b['product.productInfo.productDetails.flightTicket.bound.arrival.dateTime']&&b['product.productInfo.productDetails.flightTicket.bound.arrival.dateTime'].length>0){var last_index=b['product.productInfo.productDetails.flightTicket.bound.arrival.dateTime'].length-1;departure=getFormattedDateTime(b['product.productInfo.productDetails.flightTicket.bound.departure.dateTime'][0]);arrival=getFormattedDateTime(b['product.productInfo.productDetails.flightTicket.bound.arrival.dateTime'][last_index]);}else if(b['searchInput.searchInputInfo.flightDetails.departure.dateTime']&&b['searchInput.searchInputInfo.flightDetails.departure.dateTime'].length>0){var last_index=b['searchInput.searchInputInfo.flightDetails.departure.dateTime'].length-1;departure=getFormattedDateTime(b['searchInput.searchInputInfo.flightDetails.departure.dateTime'][0]);arrival=getFormattedDateTime(b['searchInput.searchInputInfo.flightDetails.departure.dateTime'][last_index]);}
if(departure){var bookDate=new Date();var depDate=new Date(departure);days_to_dep=Math.round(Math.abs((bookDate.getTime()-depDate.getTime())/(24*60*60*1000)));}
if(b['product.productInfo.productDetails.flightTicket.bound.arrival.airportCode']&&b['product.productInfo.productDetails.flightTicket.bound.arrival.airportCode'].length>0){destination=b['product.productInfo.productDetails.flightTicket.bound.arrival.airportCode'][0]||na_string;}else if(b['searchInput.searchInputInfo.flightDetails.arrival.locationCode']&&b['searchInput.searchInputInfo.flightDetails.arrival.locationCode'].length>0){destination=b['searchInput.searchInputInfo.flightDetails.arrival.locationCode'][0]||na_string;}
destination=destination.toLowerCase();if(b['product.productInfo.productDetails.flightTicket.bound.departure.airportCode']&&b['product.productInfo.productDetails.flightTicket.bound.departure.airportCode'].length>0){origin=b['product.productInfo.productDetails.flightTicket.bound.departure.airportCode'][0]||na_string;}else if(b['searchInput.searchInputInfo.flightDetails.departure.locationCode']&&b['searchInput.searchInputInfo.flightDetails.departure.locationCode'].length>0){origin=b['searchInput.searchInputInfo.flightDetails.departure.locationCode'][0]||na_string;}
origin=origin.toLowerCase();if(origin&&destination){ond=origin+'-'+destination;}
if(b['product.productInfo.productDetails.flightTicket.bound.departure.airportCode']&&b['product.productInfo.productDetails.flightTicket.bound.departure.airportCode'].length>0){origin_con=getConcatenatedWithPipe(b['product.productInfo.productDetails.flightTicket.bound.departure.airportCode']);}else if(b['searchInput.searchInputInfo.flightDetails.departure.locationCode']&&b['searchInput.searchInputInfo.flightDetails.departure.locationCode'].length>0){origin_con=getConcatenatedWithPipe(b['searchInput.searchInputInfo.flightDetails.departure.locationCode']);}
origin_con=origin_con.toLowerCase();if(b['product.productInfo.productDetails.flightTicket.bound.arrival.airportCode']&&b['product.productInfo.productDetails.flightTicket.bound.arrival.airportCode'].length>0){destination_con=getConcatenatedWithPipe(b['product.productInfo.productDetails.flightTicket.bound.arrival.airportCode']);}else if(b['searchInput.searchInputInfo.flightDetails.arrival.locationCode']&&b['searchInput.searchInputInfo.flightDetails.arrival.locationCode'].length>0){destination_con=getConcatenatedWithPipe(b['searchInput.searchInputInfo.flightDetails.arrival.locationCode']);}
destination_con=destination_con.toLowerCase();var tt_short="";if(b['product.productInfo.productDetails.flightTicket.tripType']&&b['product.productInfo.productDetails.flightTicket.tripType'].length>0){tt_short=b['product.productInfo.productDetails.flightTicket.tripType'];}else if(b['searchInput.searchInputInfo.flightDetails.tripType']&&b['searchInput.searchInputInfo.flightDetails.tripType'].length>0){var tt_lastIndex=b['searchInput.searchInputInfo.flightDetails.tripType'].length-1;tt_short=b['searchInput.searchInputInfo.flightDetails.tripType'][tt_lastIndex];}
if(tt_short.indexOf('O')>=0){trip_type='oneway';}else if(tt_short.indexOf('R')>=0){trip_type='roundtrip';}else if(tt_short.indexOf('J')>=0){trip_type='openjaw'}else if(tt_short.indexOf('M')>=0){trip_type='multistop';}else{trip_type='other';}
try{if(window.digitalData&&typeof digitalData.searchInput==='object'&&typeof digitalData.searchInput.searchInputInfo==='object'&&typeof digitalData.searchInput.searchInputInfo.flightDetails==='object'&&digitalData.searchInput.searchInputInfo.flightDetails.length>0){var last_flight_entry=digitalData.searchInput.searchInputInfo.flightDetails[digitalData.searchInput.searchInputInfo.flightDetails.length-1];var pax_length=last_flight_entry&&last_flight_entry['passenger']?last_flight_entry['passenger'].length:0;var pax_amounts={'adt':0,'b15':0,'chd':0,'inf':0};var pax_age_arr=[];pax_total=0;for(var i=0;i<pax_length;i++){var pax_obj=last_flight_entry['passenger'][i];var pax_type=pax_obj&&pax_obj['passengerTypeCode']?pax_obj['passengerTypeCode'].toLowerCase():na_string;var pax_num=pax_obj&&pax_obj['numberOfPassengers']?pax_obj['numberOfPassengers']:na_string;if(typeof pax_amounts[pax_type]!=='undefined'&&typeof pax_num==='number'){pax_amounts[pax_type]=pax_amounts[pax_type]+pax_num;pax_total=pax_total+pax_num;pax_age_arr.push(pax_type+':'+pax_num);}}
if(pax_age_arr.length>0){pax_age_group=pax_age_arr.join('|');}
b.pax_amt=pax_total;b.pax_adult_amt=pax_amounts['adt'];b.pax_child_amt=pax_amounts['chd'];b.pax_baby_amt=pax_amounts['inf'];b.tickets=pax_amounts['adt']+pax_amounts['chd'];}}catch(e){utag.DB('DEBUG: following error in hs extension occured: '+e);gtag('event','crash',{'event_category':'debug','event_label':'pax age group'+e});}
if(b['searchInput.searchInputInfo.flightDetails.commercialFareFamily.code']&&b['searchInput.searchInputInfo.flightDetails.commercialFareFamily.code'].length>0){var last_index=b['searchInput.searchInputInfo.flightDetails.commercialFareFamily.code'].length-1;com_fare_family=b['searchInput.searchInputInfo.flightDetails.commercialFareFamily.code'][last_index]||na_string;}
if(departure&&arrival){var arr_date=new Date(arrival);var dep_date=new Date(departure);dep_weekDay=dep_date.getDay();trip_duration=Math.round(Math.abs((arr_date.getTime()-dep_date.getTime())/(24*60*60*1000)));}
if(typeof dep_weekDay==='number'&&typeof days_to_dep==='number'&&typeof trip_duration==='number'){if(days_to_dep>=42){if(trip_duration>=3){trip_reason='leis';}else{if(dep_weekDay==5||dep_weekDay==6){trip_reason='leis';}else{trip_reason='corp';}}}else{if(trip_duration>=7){trip_reason='leis';}else{trip_reason='corp';}}}
clientID=readCookie('_ga').split('.').slice(-2).join('.');b['digitalTouchpoint.touchpointInfo.sessionID']=b['tealium_random']||null;if(b['product.productInfo.productDetails.flightTicket.journeyLength']&&b['product.productInfo.productDetails.flightTicket.journeyLength'][0]){journey_length=b['product.productInfo.productDetails.flightTicket.journeyLength'][0];}
if(b['product.productInfo.productDetails.flightTicket.bound.fareFamilyName']&&b['product.productInfo.productDetails.flightTicket.bound.fareFamilyName'].length>0){bundle=getConcatenatedWithPipe(b['product.productInfo.productDetails.flightTicket.bound.fareFamilyName']);}
if(b['page.pageInfo.pageID']==='CONFIRMATION'){if(b['product.productInfo.productDetails.flightTicket.bound.segment.fareBasis']&&b['product.productInfo.productDetails.flightTicket.bound.segment.fareBasis'].length>0){farebase_code=getConcatenatedWithPipe(b['product.productInfo.productDetails.flightTicket.bound.segment.fareBasis']);farebase_code=farebase_code.toLowerCase();}
else if(b['product.productInfo.productDetails.flightTicket.fareBasis']&&b['product.productInfo.productDetails.flightTicket.fareBasis'].length>0){farebase_code=getConcatenatedWithPipe(b['product.productInfo.productDetails.flightTicket.fareBasis']);farebase_code=farebase_code.toLowerCase();}
else{farebase_code=na_string;}}
if(b['product.productInfo.productDetails.flightTicket.bound.segment.cabin']){cabin=getConcatenatedWithPipe(b['product.productInfo.productDetails.flightTicket.bound.segment.cabin']);}
if(traveller_count>0&&b['product.productInfo.productDetails.flightTicket.bound.segment.coupon.status']&&b['product.productInfo.productDetails.flightTicket.bound.segment.coupon.status'].length>0){var coupon_status_src=b['product.productInfo.productDetails.flightTicket.bound.segment.coupon.status'];var coupon_status_arr=[];for(var i=0;i<coupon_status_src.length;i=i+traveller_count){coupon_status_arr.push(coupon_status_src[i]);}
coupon_status=getConcatenatedWithPipe(coupon_status_arr);}
b.carrier_list='';if(b['product.productInfo.productDetails.flightTicket.bound.segment.operatedBy.airlineCode']&&b['product.productInfo.productDetails.flightTicket.bound.segment.operatedBy.airlineCode'].length>0){b.carrier_list=getConcatenatedWithPipe(b['product.productInfo.productDetails.flightTicket.bound.segment.operatedBy.airlineCode']);}
b.booking_class_detail='';if(b['product.productInfo.productDetails.flightTicket.bound.segment.bookingClass']&&b['product.productInfo.productDetails.flightTicket.bound.segment.bookingClass'].length>0){b.booking_class_detail=getConcatenatedWithPipe(b['product.productInfo.productDetails.flightTicket.bound.segment.bookingClass']);}
b.customerStatus='ANONYMOUS';if(typeof b['user.profile.profileInfo.loginStatus']!=='undefined'){if(b['user.profile.profileInfo.loginStatus'].toString()==='true'){b.ga_loginStatus='logged in';b.customerStatus=na_string;b.ga_loginType=na_string;b.ga_membership_status=na_string;b.ga_profileId=null;b.ga_profile_permissions=na_string;}else{b.ga_loginStatus=b.ga_loginType=b.ga_membership_status=b.ga_profile_permissions='logged out';}}else{b.ga_loginStatus=b.ga_loginType=b.ga_membership_status=b.ga_profile_permissions=na_string;}
if(query_string){b.ga_hs_querystring=query_string;}
if(anchor_tags){b.ga_hs_anchor=anchor_tags;}
if(arrival){b.ga_hs_arrival=arrival;}
if(departure){b.ga_hs_departure=departure;}
if(days_to_dep){b.daysUntilDep=days_to_dep;}
if(destination){b.ga_hs_destination=destination;}
if(origin){b.ga_hs_origin=origin;}
if(ond){b.ga_hs_ond=ond;}
if(origin_con){b.ga_hs_origin_con=origin_con;}
if(destination_con){b.ga_hs_destination_con=destination_con;}
if(pax_age_group){b.ga_hs_paxAgeGroup=pax_age_group;}
if(pax_total){b.ga_hs_pax=pax_total;}
if(trip_type){b.ga_hs_triptype=trip_type;}
if(com_fare_family){b.ga_hs_com_ff=com_fare_family;}
if(cabin){b.ga_hs_cabin=cabin;}
if(trip_reason){b.ga_hs_trip_reason=trip_reason;}
if(clientID){b.ga_ss_clientId=clientID;}
if(journey_length){b.ga_journeyLength=journey_length;}
if(bundle){b.ga_hs_bundle=bundle;}
if(farebase_code){b.ga_hs_farebase=farebase_code;}
if(coupon_status){b.ga_hs_couponStatus=coupon_status;}}catch(e){utag.DB('DEBUG: following error in hs extension occured: '+e);gtag('event','crash',{'event_category':'debug','event_label':'hs ext -'+e});}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['platformId']!='undefined'&&b['platformId']=='adcb2')){try{var funnel=b['page.category.primaryCategory'];var supported_funnels=['Booking','MMB'];var tid=b['transaction.PNR.transactionId'];var track_transaction=typeof tid==='string'&&b['page.pageInfo.pageID']==='CONFIRMATION'&&supported_funnels.includes(funnel);if(track_transaction){var cookie_prefix='tid=';var cookie_val=cookie_prefix+tid+';';if(document.cookie.indexOf(cookie_val)>=0){track_transaction=false;}
var d=new Date();d.setTime(d.getTime()+(7*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=cookie_val+expires+';';}
if(track_transaction){if(funnel==="Booking"){b.event_action='purchase';b.order_id=tid;b.booking_counter=1;}else if(funnel==="MMB"){b.booking_counter=null;b['transaction.total.priceBreakdown.tax.totalTax.amount']=null
b['transaction.total.priceBreakdown.serviceFee.amount']=null;b['transaction.total.priceBreakdown.tax.surcharge.amount']=null;b['transaction.total.priceBreakdown.baseFarePrice.amount']=null;b['transaction.total.priceBreakdown.baseFarePrice_EUR']=null;if(false){b.event_action='purchase';b.order_id=tid;}else{var is_UPGD_booking=false;var UPGD_index=0;var anc_status=b['product.productInfo.productDetails.ancillaryService.status'];var serviceCodes=b['product.productInfo.productDetails.ancillaryService.serviceCode'];if(anc_status&&serviceCodes){for(var i=0;i<serviceCodes.length;i++){var item=serviceCodes[i];if(item==="UPGD"&&anc_status[i]==="selected"){is_UPGD_booking=true;UPGD_index=i;break;}}}
if(anc_status&&anc_status.length>0&&anc_status.includes('selected')){b.event_action='purchase';b.order_id=tid;var transaction_revenue=0;var initial_transaction_revenue=0;var anc_revenues=b['product.productInfo.productDetails.ancillaryService.price.totalPrice.amount'];var anc_init_revenues=b['product.productInfo.productDetails.ancillaryService.price.totalPrice.amount_ORIG'];if(anc_revenues&&anc_revenues.length>0){for(var i=0;i<anc_revenues.length;i++){if(typeof anc_status[i]!=='undefined'&&anc_status[i]==="selected"&&typeof anc_revenues[i]!=='undefined'&&parseFloat(anc_revenues[i])&&(!is_UPGD_booking||i===UPGD_index)){transaction_revenue+=parseFloat(anc_revenues[i])}}}
if(anc_init_revenues&&anc_init_revenues.length>0){for(var i=0;i<anc_init_revenues.length;i++){if(typeof anc_status[i]!=='undefined'&&anc_status[i]==="selected"&&typeof anc_init_revenues[i]!=='undefined'&&parseFloat(anc_init_revenues[i])&&(!is_UPGD_booking||i===UPGD_index)){initial_transaction_revenue+=parseFloat(anc_init_revenues[i])}}}
b['transaction.total.totalPrice.amount']=transaction_revenue;b['transaction.total.totalPrice.amount_ORIG']=initial_transaction_revenue;}else{track_transaction=false;b['transaction.total.totalPrice.amount']=null;b['transaction.total.totalPrice.amount_ORIG']=null;}}}
if(funnel==='MMB'){b.ga_hs_paymentMethod=null;b.ga_hs_methodOfPayment=null}else{if(b['transaction.payment.paymentType']){var paymentTypes=b['transaction.payment.paymentType'];var paymentTypes_arr=[];for(var i=0;i<paymentTypes.length;i++){var paymentMethods=b['transaction.payment.methodOfPayment'];var paymentMethod=paymentMethods&&paymentMethods[i]?paymentMethods[i]:"";if(typeof paymentTypes[i]==='string'&&paymentTypes[i].length>0){var pt_short=paymentTypes[i].toLowerCase();paymentTypes_arr.push(pt_short);}else{paymentTypes_arr.push('(not set)');}
}
b.ga_hs_paymentMethod=paymentTypes_arr.length>0?paymentTypes_arr.join('|'):'(not set)';}
if(b['transaction.payment.methodOfPayment']){var paymentMethods=b['transaction.payment.methodOfPayment'];var paymentMethods_arr=[];for(var i=0;i<paymentMethods.length;i++){if(typeof paymentMethods[i]==='string'&&paymentMethods[i].length>0){paymentMethods_arr.push(paymentMethods[i].toLowerCase());}else{paymentMethods_arr.push('(not set)');}}
b.ga_hs_methodOfPayment=paymentMethods_arr.length>0?paymentMethods_arr.join('|'):'(not set)';}}}
if(a==='link'||!track_transaction){b.order_id=null;b.booking_counter=null;b.ga_hs_paymentMethod=null;b.ga_hs_methodOfPayment=null;b['transaction.total.totalPrice.currency']=null;b['transaction.total.totalPrice.currency_ORIG']=null;b['transaction.total.totalPrice.amount']=null;b['transaction.total.totalPrice.amount_ORIG']=undefined;b['transaction.total.priceBreakdown.serviceFee.amount']=null;b['transaction.total.priceBreakdown.tax.totalTax.amount']=null;b['transaction.total.priceBreakdown.tax.surcharge.amount']=null;b['transaction.total.priceBreakdown.baseFarePrice.amount']=null;}
if(!b.event_category||b.event_category!=='error'){b.ga_errorType=null;b.ga_errorCode=null;b.ga_errorMessage=null;b.error_counter=null;}
if((b.event_category==='error'&&b.event_action!=='FormErrorOccurred')||(b.ga_eventCategory==='consent manager'&&b.ga_eventAction==='view')){b.event_noninteraction=true;}else{b.event_noninteraction=false;}}catch(e){utag.DB('DEBUG: following error in hs extension occured: '+e);gtag('event','crash',{'event_category':'debug','event_label':'error transaction ext -'+e});}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['platformId']!='undefined'&&b['platformId']=='adcb2')){try{var na_string='(not set)';var funnel=b['page.category.primaryCategory'];var products=digitalData.product;var f_path='product.productInfo.productDetails.flightTicket.bound.';var anc_path='product.productInfo.productDetails.ancillaryService.';var ttype=b['ga_hs_triptype']||na_string;var ttype_short=na_string;var traveller=b['traveller.passengerTypeCode']&&b['traveller.passengerTypeCode'].length>0?b['traveller.passengerTypeCode']:'';var sub_cat=b['page.category.primaryCategory']||na_string;var flight_count=0;var anc_count=0;var seat_count=0;var baggage_count=0;var upgrade_count=0;function getTimeString(dateString){var date=new Date(dateString);var hours=('0'+date.getHours()).slice(-2);var minutes=('0'+date.getMinutes()).slice(-2);var seconds=('0'+date.getSeconds()).slice(-2);return hours+':'+minutes+':'+seconds;}
function getDateString(dateString){var date=new Date(dateString);var year=date.getFullYear();var month=('0'+(date.getMonth()+1)).slice(-2);var day=('0'+date.getDate()).slice(-2);return year+'-'+month+'-'+day;}
function getDateAndTimeFormat(dateString){if(typeof dateString==='string'){return getDateString(dateString)+' '+getTimeString(dateString);}else{return na_string;}}
function getWeekDayAndTimeFormat(dateString){if(typeof dateString==='string'){var week_days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];var date=new Date(dateString);return week_days[date.getDay()]+' '+getTimeString(dateString);}else{return na_string;}}
function getConcatenatedCategories(c1,c2,c3,c4){var fullCat=[];if(typeof c1==='string'&&c1!=='')fullCat.push(c1);if(typeof c2==='string'&&c2!=='')fullCat.push(c2);if(typeof c3==='string'&&c3!=='')fullCat.push(c3);if(typeof c4==='string'&&c4!=='')fullCat.push(c4);return fullCat.join('/');}
function getConcatenatedWithPipe(arr){if(arr.length>0){return arr.join('|');}else{return na_string;}}
if(ttype==='oneway'){ttype_short='OW';}else if(ttype==='roundtrip'){ttype_short='RT';}else if(ttype==='complex'){ttype_short='CP';}
var p_names=[];var p_ids=[];var p_quantities=[];var p_cats=[];var p_variants=[];var p_brands=[];var p_revenues=[];var p_arrivals=[];var p_bookingClasses=[];var p_bundles=[];var p_departures=[];var p_destinations=[];var p_origins=[];var p_paxAgeGroups=[];var p_segIDs=[];var p_segOperatingCarriers=[];var p_layoverAirports=[];var p_segArrivals=[];var p_segDepartures=[];var p_segDestinations=[];var p_segAssociations=[];var p_segFlightNums=[];var p_segCarriers=[];var p_segNums=[];var p_segOrigins=[];var p_segCouponStatus=[];var p_farebaseCodes=[]
var p_cabins=[];var flight_quantities=[];var seg_quantities=[];var anc_quantities=[];var coupon_quantities=[];if(b['page.pageInfo.pageID']==='CONFIRMATION'&&b['event_action']==='purchase'&&products&&traveller&&typeof funnel==='string'){function pushAttributes(attr){p_names.push(attr.name);p_ids.push(attr.id);p_quantities.push(attr.quantity);p_cats.push(attr.category);p_variants.push(attr.variant);p_brands.push(attr.brand);p_revenues.push(attr.revenue);p_arrivals.push(attr.arrival);p_bookingClasses.push(attr.seg_bkClass);p_bundles.push(attr.bundle);p_departures.push(attr.departure);p_destinations.push(attr.destination);p_origins.push(attr.origin);p_paxAgeGroups.push(attr.paxAgeGroup);p_segIDs.push(attr.seg_ID);p_segOperatingCarriers.push(attr.segOperatingCarrier);p_layoverAirports.push(attr.layover);p_segArrivals.push(attr.seg_arrival);p_segDepartures.push(attr.seg_departure);p_segDestinations.push(attr.seg_destination);p_segAssociations.push(attr.seg_f_association);p_segFlightNums.push(attr.seg_flightNum);p_segCarriers.push(attr.seg_carrier);p_cabins.push(attr.cabin);p_segNums.push(attr.seg_number);p_segOrigins.push(attr.seg_origin);p_segCouponStatus.push(attr.segCouponStatus);p_farebaseCodes.push(attr.seg_farebaseCode);flight_quantities.push(attr.f_quantity);seg_quantities.push(attr.seg_quantity);anc_quantities.push(attr.anc_quantity);coupon_quantities.push(attr.c_quantity);}
function setProductAttributes(p_cat,anc_cat,p_index,f_index,seg_index,anc_index,segments){var bound_IDs=b['product.productInfo.productDetails.flightTicket.bound.boundID'];var bound_length=bound_IDs.length||0;var bound_type=na_string;var ond=na_string;var flightCodeAndNum=[];var attr={'category':na_string,'name':na_string,'id':na_string,'quantity':na_string,'variant':na_string,'brand':na_string,'revenue':na_string,'origin':na_string,'destination':na_string,'departure':na_string,'arrival':na_string,'paxAgeGroup':na_string,'bundle':na_string,'seg_ID':[],'segOperatingCarrier':[],'seg_bkClass':[],'seg_origin':[],'segCouponStatus':[],'seg_destination':[],'seg_departure':[],'seg_arrival':[],'seg_f_association':[],'seg_flightNum':[],'seg_carrier':[],'seg_number':[],'seg_farebaseCode':[],'layover':[],'cabin':[],'f_quantity':na_string,'seg_quantity':na_string,'anc_quantity':na_string,'c_quantity':na_string}
if(bound_length>0){bound_type=f_index===0||(f_index<bound_length-1)?'outbound':'inbound';}
if(b[f_path+'departure.airportCode']&&b[f_path+'arrival.airportCode']){var origin=b[f_path+'departure.airportCode'][f_index]||na_string;var destination=b[f_path+'arrival.airportCode'][f_index]||na_string;ond=origin+' '+destination;attr.origin=origin.toLowerCase();attr.destination=destination.toLowerCase();}
if(b[f_path+'departure.dateTime']&&b[f_path+'departure.dateTime'][f_index]){attr.departure=getDateAndTimeFormat(b[f_path+'departure.dateTime'][f_index]);}
if(b[f_path+'arrival.dateTime']&&b[f_path+'arrival.dateTime'][f_index]){attr.arrival=getDateAndTimeFormat(b[f_path+'arrival.dateTime'][f_index]);}
if(segments[0].operatedBy&&segments[0].operatedBy.airlineCode){attr.brand=segments[0].operatedBy.airlineCode.toLowerCase();}
if(b.ga_hs_paxAgeGroup){attr.paxAgeGroup=b.ga_hs_paxAgeGroup;}
if(b[f_path+'fareFamilyName']){attr.bundle=b[f_path+'fareFamilyName'][f_index]||na_string;}
for(var k=0;k<segments.length;k++){try{attr.seg_ID.push(segments[k].segmentID?segments[k].segmentID:na_string);attr.seg_bkClass.push(segments[k].bookingClass?segments[k].bookingClass.toLowerCase():na_string);attr.seg_origin.push((segments[k].departure&&segments[k].departure.airportCode)?segments[k].departure.airportCode.toLowerCase():na_string);attr.segCouponStatus.push(segments[k].coupon&&segments[k].coupon[0]&&segments[k].coupon[0].status?segments[k].coupon[0].status:na_string);attr.seg_destination.push((segments[k].arrival&&segments[k].arrival.airportCode)?segments[k].arrival.airportCode.toLowerCase():na_string);attr.seg_departure.push((segments[k].departure&&segments[k].departure.dateTime)?getDateAndTimeFormat(segments[k].departure.dateTime):na_string);attr.seg_arrival.push((segments[k].arrival&&segments[k].arrival.dateTime)?getDateAndTimeFormat(segments[k].arrival.dateTime):na_string);attr.seg_f_association.push(f_index+1);attr.seg_flightNum.push(segments[k].marketingFlightNumber?segments[k].marketingFlightNumber:na_string);attr.seg_carrier.push(segments[k].marketingAirlineCode?segments[k].marketingAirlineCode.toLowerCase():na_string);attr.seg_farebaseCode.push(segments[k].fareBasis?segments[k].fareBasis.toLowerCase():na_string)
attr.segOperatingCarrier.push((segments[0].operatedBy&&segments[0].operatedBy.airlineCode)?segments[0].operatedBy.airlineCode.toLowerCase():na_string);attr.cabin.push(segments[k].cabin?segments[k].cabin:na_string);flightCodeAndNum.push((segments[k].marketingAirlineCode&&segments[k].marketingFlightNumber)?segments[k].marketingAirlineCode+segments[k].marketingFlightNumber:na_string);if(k>0){attr.layover.push((segments[k].departure&&segments[k].departure.airportCode)?segments[k].departure.airportCode.toLowerCase():na_string);}
if(b[f_path+'segment.segmentID']&&segments[k].segmentID&&b[f_path+'segment.segmentID'].indexOf(segments[k].segmentID)>-1){attr.seg_number.push(b[f_path+'segment.segmentID'].indexOf(segments[k].segmentID)+1)}else{attr.seg_number.push(na_string);}}catch(e){utag.DB('DEBUG: Product tracking extension crashed: '+e);gtag('event','crash',{'event_category':'debug','event_label':'product tracking extension error pt1'});}}
attr.seg_ID=getConcatenatedWithPipe(attr.seg_ID);attr.seg_bkClass=getConcatenatedWithPipe(attr.seg_bkClass);attr.seg_origin=getConcatenatedWithPipe(attr.seg_origin);attr.segCouponStatus=getConcatenatedWithPipe(attr.segCouponStatus);attr.seg_destination=getConcatenatedWithPipe(attr.seg_destination);attr.seg_departure=getConcatenatedWithPipe(attr.seg_departure);attr.seg_arrival=getConcatenatedWithPipe(attr.seg_arrival);attr.seg_f_association=getConcatenatedWithPipe(attr.seg_f_association);attr.seg_flightNum=getConcatenatedWithPipe(attr.seg_flightNum);attr.seg_carrier=getConcatenatedWithPipe(attr.seg_carrier);attr.seg_farebaseCode=getConcatenatedWithPipe(attr.seg_farebaseCode);attr.segOperatingCarrier=getConcatenatedWithPipe(attr.segOperatingCarrier);attr.cabin=getConcatenatedWithPipe(attr.cabin);attr.layover=getConcatenatedWithPipe(attr.layover);attr.seg_number=getConcatenatedWithPipe(attr.seg_number);flightCodeAndNum=getConcatenatedWithPipe(flightCodeAndNum);if(p_cat==='FlightTicket'){var cat1='flight';var cat2=ttype;var cat3=sub_cat.toLowerCase();var cat4="chargeable";attr.category=getConcatenatedCategories(cat1,cat2,cat3,cat4);attr.name=cat1+' '+ond+' '+bound_type;attr.id=cat1+' '+ond+' '+ttype_short+' '+flightCodeAndNum+' '+bound_type;if(b[f_path+'departure.dateTime']&&b[f_path+'departure.dateTime'][f_index]){attr.variant=getWeekDayAndTimeFormat(b[f_path+'departure.dateTime'][f_index]);}
attr.quantity=traveller.length;attr.f_quantity=attr.quantity;attr.seg_quantity=segments.length*attr.f_quantity;attr.anc_quantity=0;attr.c_quantity=attr.seg_quantity+attr.anc_quantity;pushAttributes(attr);}
else if(p_cat==='AncillaryService'){var cat1='ancillary';var cat2=na_string;var cat3=sub_cat.toLowerCase();if(b[anc_path+'categoryCode']&&b[anc_path+'categoryCode'][anc_index]){cat2=b[anc_path+'categoryCode'][anc_index].toLowerCase();}
var anc_costModel=na_string;var boundTypeOrSegmentId=na_string;var product_variant=na_string;if(anc_cat==='SEAT'||anc_cat==='UPGD'){var isChargeable=products[p_index].productInfo.productDetails.ancillaryService.isChargeable;anc_costModel=isChargeable?"chargeable":"free-of-charge";boundTypeOrSegmentId='seg'+(seg_index+1);var characteristics=products[p_index].productInfo.productDetails.ancillaryService.characteristics;characteristics=characteristics?characteristics.map(a=>a.value):false;product_variant=characteristics?getConcatenatedWithPipe(characteristics):na_string;}
else if(anc_cat==='FBAG'||anc_cat==='SBAG'||anc_cat==='MBAG'){var anc_price_obj=products[p_index].productInfo.productDetails.ancillaryService.price;var anc_price=anc_price_obj?anc_price_obj.totalPrice.amount:0;anc_costModel=anc_price&&anc_price>0?"chargeable":"free-of-charge";boundTypeOrSegmentId=bound_type;product_variant=anc_cat;}
var anc_productID=na_string;if(b[anc_path+'serviceCode']&&b[anc_path+'serviceCode'][anc_index]&&b[anc_path+'serviceID']&&b[anc_path+'serviceID'][anc_index]){anc_productID=b[anc_path+'serviceCode'][anc_index]+'_'+b[anc_path+'serviceID'][anc_index];}
var cat4=anc_costModel;var anc_type=b[anc_path+'serviceCode'][anc_index]||na_string;attr.category=getConcatenatedCategories(cat1,cat2,cat3,cat4);attr.name=cat1+' '+ond+' '+boundTypeOrSegmentId+' '+anc_type;attr.id=anc_productID;attr.quantity=1;attr.variant=product_variant;attr.f_quantity=0;attr.seg_quantity=0;attr.anc_quantity=1;attr.c_quantity=attr.seg_quantity+attr.anc_quantity;if(b[anc_path+'price.totalPrice.amount']&&b[anc_path+'price.totalPrice.amount'][anc_index]){attr.revenue=b[anc_path+'price.totalPrice.amount'][anc_index];}
pushAttributes(attr);}}
for(var i=0;i<products.length;i++){var cat=b['product.category.primaryCategory']?b['product.category.primaryCategory'][i]:na_string;if(funnel==='Booking'&&cat==='FlightTicket'){var bounds=products[i].productInfo.productDetails.flightTicket.bound;for(var j=0;j<bounds.length;j++){flight_count++;var anc_cat='';var p_index=i;var f_index=j;var anc_index=0;var seg_index=0;var segments=bounds[j].segment;if(segments){setProductAttributes(cat,anc_cat,p_index,f_index,seg_index,anc_index,segments);}}}
else if(cat==='AncillaryService'){anc_count++;var anc_cat='';var p_index=i;var f_index=null;var seg_index=null;var anc_index=anc_count-1;var segments=[];var anc_status=b[anc_path+'status'];var serviceCodes=b[anc_path+"serviceCode"];var do_not_track=false;if(b[anc_path+'serviceCode']&&b[anc_path+'serviceCode'][anc_index]){anc_cat=b[anc_path+'serviceCode'][anc_index];}
if(funnel==="MMB"&&anc_status&&anc_status[anc_index]&&serviceCodes){var is_paid=anc_status[anc_index].includes('paid');var is_UPGD_booking=false;for(var j=0;j<serviceCodes.length;j++){var item=serviceCodes[j];if(item==="UPGD"&&anc_status[j]==="selected"){is_UPGD_booking=true;break;}}
do_not_track=is_paid||(is_UPGD_booking&&anc_cat!=='UPGD');}
if(anc_cat==='SEAT'||anc_cat==='UPGD'){if(anc_cat==='SEAT'){seat_count++;}
else if(anc_cat==='UPGD'){upgrade_count++;}
var anc_segID='';var f_seg_index=null;var bound=null;if(products[i].productInfo.productDetails.ancillaryService.segmentID){anc_segID=products[i].productInfo.productDetails.ancillaryService.segmentID;}
if(b['product.productInfo.productDetails.flightTicket.bound.segment.segmentID']){seg_index=b['product.productInfo.productDetails.flightTicket.bound.segment.segmentID'].indexOf(anc_segID)
if(seg_index===-1)seg_index=null;}
for(var j=0;j<products.length;j++){if(products[j].productInfo.productDetails.flightTicket){var bounds=products[j].productInfo.productDetails.flightTicket.bound;for(var k=0;k<bounds.length;k++){var segs=bounds[k].segment
for(var l=0;l<segs.length;l++){if(segs[l].segmentID===anc_segID){bound=products[j].productInfo.productDetails.flightTicket.bound;f_index=k;f_seg_index=l;break;}}}}}
if(bound&&typeof seg_index==='number'&&!do_not_track){segments.push(bound[f_index].segment[f_seg_index]);setProductAttributes(cat,anc_cat,p_index,f_index,seg_index,anc_index,segments);}}
else if(anc_cat==='FBAG'||anc_cat==='SBAG'||anc_cat==='MBAG'){baggage_count++;var bound_ID=products[i].productInfo.productDetails.ancillaryService.boundID||null;seg_index=0;if(bound_ID&&b[f_path+'boundID']){var bound_ids=b[f_path+'boundID'];for(var j=0;j<bound_ids.length;j++){if(bound_ID===bound_ids[j]){f_index=j;break;}}}
if(typeof f_index==='number'){for(var j=0;j<products.length;j++){if(products[j].productInfo.productDetails.flightTicket){segments=products[j].productInfo.productDetails.flightTicket.bound[f_index].segment;}}}
if(segments.length>0&&!do_not_track){setProductAttributes(cat,anc_cat,p_index,f_index,seg_index,anc_index,segments);}}}}
if(p_names.length>0){b.ga_product_name=p_names;}
if(p_ids.length>0){b.ga_product_id=p_ids;}
if(p_quantities.length>0){b.ga_product_quantity=p_quantities;}
if(p_cats.length>0){b.ga_product_category=p_cats;}
if(p_variants.length>0){b.ga_product_variant=p_variants;}
if(p_brands.length>0){b.ga_product_brand=p_brands;}
if(p_revenues.length>0){b.ga_product_revenue=p_revenues;}
if(p_arrivals.length>0){b.ga_product_arr=p_arrivals;}
if(p_bookingClasses.length>0){b.ga_product_bkClass=p_bookingClasses;}
if(p_departures.length>0){b.ga_product_dep=p_departures;}
if(p_destinations.length>0){b.ga_product_dest=p_destinations;}
if(p_origins.length>0){b.ga_product_origin=p_origins;}
if(p_paxAgeGroups.length>0){b.ga_product_paxAgeGroup=p_paxAgeGroups;}
if(p_segIDs.length>0){b.ga_product_segID=p_segIDs;}
if(p_segOperatingCarriers.length>0){b.ga_product_segOperatingCarr=p_segOperatingCarriers;}
if(p_layoverAirports.length>0){b.ga_product_layoverAP=p_layoverAirports;}
if(p_segArrivals.length>0){b.ga_product_segArr=p_segArrivals;}
if(p_segDepartures.length>0){b.ga_product_segDep=p_segDepartures;}
if(p_segDestinations.length>0){b.ga_product_segDest=p_segDestinations;}
if(p_segAssociations.length>0){b.ga_product_segAss=p_segAssociations;}
if(p_segFlightNums.length>0){b.ga_product_segFlightNums=p_segFlightNums;}
if(p_segCarriers.length>0){b.ga_product_segCarrier=p_segCarriers;}
if(p_segNums.length>0){b.ga_product_segNum=p_segNums;}
if(p_segOrigins.length>0){b.ga_product_segOrigin=p_segOrigins;}
if(p_segCouponStatus.length>0){b.ga_product_segCouponStatus=p_segCouponStatus;}
if(p_cabins.length>0){b.ga_product_cabin=p_cabins;}
if(p_farebaseCodes.length>0){b.ga_product_farebase=p_farebaseCodes;}
if(p_bundles.length>0){b.ga_product_bundle=p_bundles;}
if(flight_quantities.length>0){b.ga_flight_quantity=flight_quantities;}
if(seg_quantities.length>0){b.ga_flight_seg_quantity=seg_quantities;}
if(anc_quantities.length>0){b.ga_anc_quantity=anc_quantities;}
if(coupon_quantities.length>0){b.ga_coupon_quantity=coupon_quantities;}}}catch(e){utag.DB('DEBUG: Product tracking extension crashed: '+e);gtag('event','crash',{'event_category':'debug','event_label':'product tracking extension error'});}
}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['platformId']!='undefined'&&b['platformId']=='adcb2')){try{var na_string='(not set)';b['page.pageInfo.pageId']=b['ga_pagename_market_lang'];b.mmPageID_firstPart=b['page.pageInfo.pageID'];b["conversion.funnel.funnelName"]=b["page.category.primaryCategory"];if(b['page.pageInfo.pageID']==="FPPOUTBOUND"||b['page.pageInfo.pageID']==="FPPINBOUND"){b['pagetype']='searchresults';}else if(b['page.pageInfo.pageID']==='CONFIRMATION'&&b['page.category.primaryCategory']==='Booking'){b['pagetype']="purchase";}else{if(b['page.category.primaryCategory']!=='Booking'){b['pagetype']="product";}else{b['pagetype']="cart";}}
b.current_page=b['page.pageInfo.pageName']||na_string;b['page.pageInfo.country']=b['digitalTouchpoint.touchpointInfo.market'];b["country_code"]=b["digitalTouchpoint.touchpointInfo.market"];b.market=na_string;if(b['digitalTouchpoint.touchpointInfo.market']&&b['digitalTouchpoint.touchpointInfo.market']!==na_string){b.market=b['digitalTouchpoint.touchpointInfo.market'].toUpperCase();}
if(b.market==='UK')b.market='GB';b.language=b['digitalTouchpoint.touchpointInfo.language']||na_string;b['page.pageInfo.language']=b.language;b.logged_in=b.ga_loginStatus;b['user.profile.loginType']=b.ga_loginType;b['user.profile.membership.status']=b.ga_membership_status;b['user.profile.profileInfo.profileId']=b.ga_profileId;b['user.profile.profileInfo.permissions']=b.ga_profile_permissions;b.outboundDate=b.ga_hs_departure;b.inboundDate=b.ga_hs_arrival;b.destination_airport=b.ga_hs_destination;b.departure_airport=b.ga_hs_origin;b.trip_type=b.ga_hs_triptype;b.BFT=na_string;b.booking_class=b.ga_hs_com_ff;b.cabin_class=b.cabin_class_detail=b.ga_hs_cabin;b.farebase_codes=b.ga_hs_farebase;b.estimated_trip_reason=b.ga_hs_trip_reason;if(typeof b.outboundDate==='string'&&b.outboundDate.length==10){var s_o_day=b.outboundDate.substr(8,2);var s_o_month=b.outboundDate.substr(5,2);var s_o_year=b.outboundDate.substr(0,4);b.outboundDateYDM=s_o_year+s_o_month+s_o_day;b.outboundDateMY=s_o_month+'-'+s_o_year;b.outboundDateDMY=s_o_day+'-'+s_o_month+'-'+s_o_year;b.outboundDateDMYdot=s_o_day+'.'+s_o_month+'.'+s_o_year;}
if(typeof b.inboundDate==='string'&&b.inboundDate.length==10){var s_i_day=b.inboundDate.substr(8,2);var s_i_month=b.inboundDate.substr(5,2);var s_i_year=b.inboundDate.substr(0,4);b.inboundDateYMD=s_i_year+s_i_month+s_i_day;b.inboundDateDMY=s_i_day+'-'+s_i_month+'-'+s_i_year;}
b['cart.price.total']=b.revenueEUR=b['cart.price.totalPrice.amount'];b["cart.item.price.basePrice"]=b["product.productInfo.productDetails.flightTicket.bound.price.totalPrice.amount"];b["cart.item.productInfo.bookingClass"]=b["product.productInfo.productDetails.flightTicket.bound.segment.bookingClass"];b["cart.item.productInfo.bundle"]=b["product.productInfo.productDetails.flightTicket.bound.fareFamilyName"];b["cart.item.productInfo.arrival"]=b["product.productInfo.productDetails.flightTicket.bound.arrival.dateTime"];b["cart.item.productInfo.departure"]=b["product.productInfo.productDetails.flightTicket.bound.departure.dateTime"];b["cart.item.productInfo.destination"]=b["product.productInfo.productDetails.flightTicket.bound.arrival.airportCode"];b["cart.item.productInfo.origin"]=b["product.productInfo.productDetails.flightTicket.bound.departure.airportCode"];b['cart.item.productInfo.segment_flightNumber']=b['product.productInfo.productDetails.flightTicket.bound.segment.marketingFlightNumber'];if(window.digitalData&&window.digitalData["transaction"]){b["transaction.item.price.basePrice"]=b["transaction.total.priceBreakdown.baseFarePrice.amount"];b["transaction.item.productInfo.arrival"]=b["product.productInfo.productDetails.flightTicket.bound.arrival.airportCode"];b["transaction.item.productInfo.bookingClass"]=b["product.productInfo.productDetails.flightTicket.bound.segment.bookingClass"];b["transaction.item.productInfo.bundle"]=b["product.productInfo.productDetails.flightTicket.bound.fareFamilyName"];b["transaction.item.productInfo.departure"]=b["product.productInfo.productDetails.flightTicket.bound.segment.departure.dateTime"];b["transaction.item.productInfo.destination"]=b["product.productInfo.productDetails.flightTicket.bound.departure.airportCode"];b["transaction.item.productInfo.origin"]=b["product.productInfo.productDetails.flightTicket.bound.arrival.airportCode"];b['transaction.item.productInfo.segment_flightNumber']=b['product.productInfo.productDetails.flightTicket.bound.segment.marketingFlightNumber'];b["transaction.total.netFare"]=b["transaction.total.priceBreakdown.baseFarePrice.amount"];b["transaction.total.netFare_EUR"]=b['BFNetfareEUR']=b["transaction.total.priceBreakdown.baseFarePrice_EUR"];b["transaction.total.netFare_ORIG"]=b['BFNetfare']=b["transaction.total.priceBreakdown.baseFarePrice.amount_ORIG"];b["transaction.total.transactionTotal"]=b.revenueEUR=b["transaction.total.totalPrice.amount"];b["transaction.total.transactionTotal_ORIG"]=b.revenue=b["transaction.total.totalPrice.amount_ORIG"];b.taxesEUR=b['transaction.total.priceBreakdown.tax.totalTax.amount'];b.taxes=b['transaction.total.priceBreakdown.tax.totalTax.amount_ORIG'];b["transaction.total.surcharge"]=b.YQEUR=b["transaction.total.priceBreakdown.tax.surcharge.amount"];b["transaction.total.surcharge_ORIG"]=b.YQ=b["transaction.total.priceBreakdown.tax.surcharge.amount_ORIG"]
b['transaction.total.currency']=b['transaction.total.totalPrice.currency'];b["transaction.transactionId"]=b["random_number"];b['transaction.pnr']=b.random_number;b['transaction.attributes.payment.paymentMethod']=b.ga_hs_paymentMethod;}
b['error.errorInfo.errorCode']=b.ga_errorCode;b['error.errorInfo.message']=b.ga_errorMessage;var bClass={'f':'f','a':'f','o':'f','j':'c','c':'c','d':'c','z':'c','p':'c','i':'c','r':'c','y':'y','b':'y','m':'y','u':'y','h':'y','q':'y','v':'y','w':'y','s':'y','t':'y','x':'y','n':'y','l':'y','k':'y'};var booking_class=b["product.productInfo.productDetails.flightTicket.bound.segment.bookingClass"];var oCarrier=b['product.productInfo.productDetails.flightTicket.bound.segment.operatedBy.airlineCode'];var oCarrier_lower=(oCarrier&&oCarrier.length>0)?oCarrier.map(x=>x.toLowerCase()):na_string;b['booking.attributes.cabinClass']=(booking_class&&booking_class.length>0&&bClass[booking_class[0].toLowerCase()])?bClass[booking_class[0].toLowerCase()]:na_string;b['booking.attributes.operatingCarriers']=typeof oCarrier_lower=='object'?oCarrier_lower.join(','):oCarrier_lower;b['booking.attributes.origin']=b.departure_airport;b['booking.attributes.destination']=b.destination_airport;b['booking.attributes.departure']=b.outboundDate;b['booking.attributes.arrival']=b.inboundDate;b['booking.attributes.paxTotal']=b.pax_amt;b['booking.attributes.paxAdult']=b.pax_adult_amt;b['booking.attributes.paxChild']=b.pax_child_amt;b['booking.attributes.paxInfant']=b.pax_baby_amt;b['booking.attributes.tripType']=b.trip_type;}
catch(ex){console.log(ex);gtag('event','crash',{'event_category':'debug','event_label':'B2 marketing mapping ext -'+e});}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['qp.utm_medium']!='undefined'&&b['qp.utm_medium']=='fse'&&typeof b['qp.utm_term']!='undefined'&&/^artefact/.test(b['qp.utm_term'])&&typeof b['qp.aaaid']!='undefined'&&b['cp.CONSENTMGR'].toString().indexOf('c2:1')>-1)||(typeof b['qp.utm_medium']!='undefined'&&b['qp.utm_medium']=='affiliate'&&typeof b['qp.utm_term']!='undefined'&&/^artefact/.test(b['qp.utm_term'])&&typeof b['qp.aaaid']!='undefined'&&b['cp.CONSENTMGR'].toString().indexOf('c2:1')>-1)){utag.loader.SC('utag_main',{'aaaid':b['qp.aaaid']+';exp-'+((new Date()).getTime()+(14*864e5))+'u'});b['cp.utag_main_aaaid']=b['qp.aaaid'];}}catch(e){utag.DB(e);}},function(a,b,c,d,e,f,g,h,i,j,t,o){o={channel:'',category:'',exp:14};if(a=='view'){if(b['qp.utm_term']=='adara'){o.channel='adara';o.category='displayads'}
else if(b['qp.utm_term']=='metaapes'){o.channel='aff';o.category='affiliate'}
else if(b['qp.utm_term']=='google'&&b['qp.utm_medium']=='fse'){o.channel='google';o.category='affiliate'}
else if(b['qp.utm_term']=='gva'){o.channel='gva';o.category='displayads'}
else if(b['qp.utm_term']=='kayak'&&b['qp.utm_medium']=='fse'){o.channel='kayak';o.category='affiliate'}
else if(b['qp.utm_term']=='mindshare'&&b['qp.utm_medium']=='display'){o.channel='mindshare';o.category='displayads'}
else if(b['qp.utm_term']=='newsletter'){o.channel='newsletter';o.category='email'}
else if(/(^(http(s)*:\/\/)(www\.)*)(google|bing|((?!answers)\.)*yahoo|ask|search\.aol|baidu)\.(com|fr|de|us|co\.uk|ch|it)(\/)*/.test(b['dom.referrer'])){o.channel='seo';o.category='naturalsearch'}
else if(b['qp.utm_term']=='plannet'){o.channel='plannet';o.category='displayads'}
else if(b['qp.utm_term']=='bluesummit'&&/.*ret.*/.test(b['qp.utm_campaign'])){o.channel='bs_ret';o.category='displayads'}
else if(b['qp.utm_term']=='salecycle'){o.channel='salecycle';o.category='email'}
else if(b['qp.utm_medium']=='paidsearch'){o.channel='sea';o.category='paidsearch'}
else if(b['qp.utm_term']=='skyscanner'){o.channel='skyscanner';o.category='affiliate'}
else if(/^(.*)?(twitter|facebook|instagram|linkedin|plus\.google|t)\.(com|co).*/.test(b['dom.referrer'])){o.channel='social';o.category='socialmedia'}
else if(b['qp.utm_term']=='sojern'){o.channel='sojern';o.category='displayads'}
else if(b['qp.utm_term']=='swisscard'){o.channel='swisscard';o.category='affiliate'}
else if(typeof b['qp.gclid']!='undefined'&&b['qp.gclid']!=''){o.channel='sea_autotagged';o.category='paidsearch'}
else if(b['qp.utm_term']=='bluesummit'&&/.*pre.*/.test(b['qp.utm_campaign'])){o.channel='bs_pre';o.category='displayads'}
else if(typeof b['qp.utm_medium']!='undefined'&&/fse|affiliate/.test(b['qp.utm_medium'])&&typeof b['qp.utm_term']!='undefined'&&/^artefact/i.test(b['qp.utm_term'])){o.channel='artefact';o.category='affiliate'}
else if(b['qp.utm_term']=='google'&&b['qp.utm_medium']=='fse'){o.channel='gfs';o.category='affiliate'}
else if(b['qp.utm_medium']=='seo'){o.channel='seo';o.category='naturalsearch'}
var dd=(isNaN(utag.cfg.domain.replace('.','')))?utag.cfg.domain:location.hostname;dd=' domain='+dd+'; path=/;';if(o.channel!=''){var exp=new Date().getTime()+1209600000;var expd=new Date(new Date().getTime()+1209600000).toGMTString();if(typeof b['cp.channelflow']=='undefined'&&b['cp.channelflow']!=''){b['cp.channelflow']=o.channel+'|'+o.category+'|'+exp;}else{var ncf=[];var bcf=b['cp.channelflow'].split(',');for(var i=bcf.length-1;i>-1;i--){var chan=bcf[i].split('|');if(i==(bcf.length-1)&&chan[0]==o.channel&&chan[1]==o.category){bcf[i]=o.channel+'|'+o.category+'|'+exp;}else if(i==(bcf.length-1)&&chan[0]!=o.channel){ncf.push(o.channel+'|'+o.category+'|'+exp);}else if(parseInt(chan[2])<=(new Date().getTime()-86400000*o.exp)){bcf.splice(i,1);}}
bcf=bcf.concat(ncf);b['cp.channelflow']=bcf.join();}
document.cookie='channelflow='+b['cp.channelflow']+';'+' expires='+expd+';'+dd;if(typeof b['cp.channeloriginator']=='undefined'){b['cp.channeloriginator']=o.channel;document.cookie='channeloriginator='+o.channel+';'+' expires='+expd+';'+dd;}
b['cp.channelcloser']=o.channel;document.cookie='channelcloser='+o.channel+';'+' expires='+expd+';'+dd;}
if(typeof b['cp.channelflow']!='undefined'){c=b['cp.channelflow'].split(','),e=[],f=[];for(d=0;d<c.length;d++){g=c[d].split('|');if(!g[2]||g[2]==0||parseInt(g[2])>=(new Date().getTime()-86400000*o.exp)){e.push(g[0]);f.push(g[1])}};if(e.length>0){b['channel_originator']=e[0];b['channel_category_originator']=f[0];b['channel_closer']=e[e.length-1];b['channel_category_closer']=f[f.length-1];b['channel_path']=e.join(',');b['channel_category_path']=f.join(',');if(e.length==1){b['channel_influencer']=e[0];b['channel_category_influencer']=f[0];}else{e.pop();f.pop();e.shift();f.shift();t={};g=[];h=[];for(i=0;i<e.length;i++){if(t[e[i]+'|'+f[i]]!=1){g.push(e[i]);h.push(f[i])}else t[e[i]+'|'+f[i]]=1};e=g;f=h;b['channel_influencer']=e.join(',');b['channel_category_influencer']=f.join(',');b['channel_influencer_length']=e.length;}}else{b['channel_originator']='';b['channel_category_originator']='';b['channel_closer']='';b['channel_category_closer']='';b['channel_influencer']='';b['channel_category_influencer']='';b['channel_path']='';b['channel_category_path']='';}
var c={o:'0',i:'0',c:'100'},cc={o:0,i:0,c:0},cv=b[''];if(parseFloat(cv)>0){cc.o=cv*parseFloat(c.o/100);if(b['channel_influencer_length']<1)b['channel_influencer_length']=1;cc.i=parseFloat((cv*parseFloat(c.i/100))/b['channel_influencer_length']);cc.c=cv*parseFloat(c.c/100);for(i in utag.loader.GV(cc)){cc[i]=cc[i].toFixed(2);}};b['channel_influencer_credit']=cc.i;b['channel_originator_credit']=cc.o;b['channel_closer_credit']=cc.c;}}},function(a,b){try{if(1){b['key']='a9k3f8stzxpkc9rrnsgyv7c7'}}catch(e){utag.DB(e);}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[260]=='undefined'){utag.runonce.ext[260]=1;if(1){(function(){window.lhgEvent={fire:function(customData,eventCategory,eventAction,eventLabel,eventValue=null,tealiumEventName=null){try{if(customData){let tmp=Object.assign({},utag.data);if(tealiumEventName)tmp.tealium_event=tealiumEventName;tmp.ga_eventCategory=tmp.event_category=eventCategory;tmp.ga_eventAction=tmp.event_action=eventAction;tmp.ga_eventLabel=tmp.event_label=eventLabel;if(eventValue)tmp.ga_eventValue=eventValue;tmp=Object.assign(tmp,customData);tmp['error.errorInfo.elementName']=null;tmp['error.errorInfo.type']=null;tmp['error.errorInfo.errorCode']=null;tmp['error.errorInfo.message']=null;tmp.ga_errorType=null;tmp.ga_errorCode=null;tmp.ga_errorMessage=null;utag.link(tmp);}}
catch(ex){}}};})();}}}catch(e){utag.DB(e)}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[268]=='undefined'){utag.runonce.ext[268]=1;if(typeof b['platformId']!='undefined'){if(typeof digitalData!=='undefined'){function retrackPage(){var pageType='';if(window.location.pathname.indexOf('/booking/availability/0')>-1){pageType='FPPOUTBOUND';}else if(window.location.pathname.indexOf('/booking/availability/1')>-1){pageType='FPPINBOUND';}else if(window.location.pathname.indexOf('/booking/cart')>-1){pageType='SHOPPINGCART';}else if(window.location.pathname.indexOf('/booking/traveler/')>-1){pageType='TRAVELER';}else if(window.location.pathname.indexOf('/booking/services/BAGGAGE')>-1){pageType='BAGGAGE';}else if(window.location.pathname.indexOf('/booking/seatmap/')>-1){pageType='SEATMAP';}else if(window.location.pathname.indexOf('/services/ACKI')>-1){pageType='ACKI';}else if(window.location.pathname.indexOf('/booking/confirmation')>-1){pageType='CONFIRMATION';}else if(digitalData.page.pageInfo.pageID!==undefined){pageType=digitalData.page.pageInfo.pageID;}
if(pageType.length>0){window.monetateQ.push(["setPageType",pageType]);}
monetateQ.push(['setCustomVariables',[{name:'market',value:digitalData.digitalTouchpoint.touchpointInfo.market},{name:'language',value:digitalData.digitalTouchpoint.touchpointInfo.language}]]);var reviewObject={};if(typeof digitalData.searchInput!=='undefined'){var flightSearchArray=digitalData.searchInput.searchInputInfo.flightDetails;var passNum=0;for(i=0;i<flightSearchArray[flightSearchArray.length-1].passenger.length;i++){passNum+=flightSearchArray[flightSearchArray.length-
1].passenger[i].numberOfPassengers;}
var adultsNum=0;var childNum=0;var infantNum=0;for(i=0;i<flightSearchArray[flightSearchArray.length-1].passenger.length;i++){if(flightSearchArray[flightSearchArray.length-
1].passenger[i].passengerTypeCode=='ADT'){adultsNum=flightSearchArray[flightSearchArray.length-
1].passenger[i].numberOfPassengers;}
if(flightSearchArray[flightSearchArray.length-
1].passenger[i].passengerTypeCode=='CHD'){childNum=flightSearchArray[flightSearchArray.length-
1].passenger[i].numberOfPassengers;}
if(flightSearchArray[flightSearchArray.length-
1].passenger[i].passengerTypeCode=='INF'){infantNum=flightSearchArray[flightSearchArray.length-
1].passenger[i].numberOfPassengers;}}}
if(pageType=='FPPOUTBOUND'||pageType=='FPPINBOUND'){if(flightSearchArray[flightSearchArray.length-1].tripType=='O'){reviewObject={'depDate':[flightSearchArray[flightSearchArray.length-
1].departure.dateTime.replaceAll('-','')],'destination':[flightSearchArray[flightSearchArray.length-
1].arrival.locationCode.toLowerCase()],'origin':[flightSearchArray[flightSearchArray.length-
1].departure.locationCode.toLowerCase()],'travelers':[passNum],'adults':[adultsNum],'infants':[infantNum],'minors':[childNum],}}else if(flightSearchArray[flightSearchArray.length-1].tripType=='R'){reviewObject={'depDate':[flightSearchArray[flightSearchArray.length-
2].departure.dateTime.replaceAll('-','')],'destination':[flightSearchArray[flightSearchArray.length-
2].arrival.locationCode.toLowerCase()],'origin':[flightSearchArray[flightSearchArray.length-
2].departure.locationCode.toLowerCase()],'travelers':[passNum],'adults':[adultsNum],'infants':[infantNum],'minors':[childNum],'retDate':[flightSearchArray[flightSearchArray.length-
1].departure.dateTime.replaceAll('-','')],}}
if(reviewObject.retDate[0]===''){delete reviewObject.retDate}
if(reviewObject.minors.toString()=="0"){delete reviewObject.minors}
if(reviewObject.infants.toString()=="0"){delete reviewObject.infants}
window.monetateQ.push(['addFlightSearch',reviewObject]);}
var ancCartTable=[];var ancillaryExists=false;var flightPid='';var flightPrice='';if(digitalData.product.length>0){for(var i=0;i<digitalData.product.length;i++){if(digitalData.product[i].category.primaryCategory=='FlightTicket'){var serviceClass='Economy';if(typeof digitalData.product[i].productInfo.productDetails.flightTicket.bound[0].segment[0].bookingClass!==undefined){serviceClass=digitalData.product[i].productInfo.productDetails.flightTicket.bound[0].segment[0].bookingClass;switch(serviceClass){case'Y':case'B':case'M':case'U':case'H':case'Q':case'V':case'W':case'S':case'T':case'X':case'N':case'L':case'K':serviceClass='Economy'
break;case'J':case'C':case'D':case'Z':case'P':case'I':case'R':serviceClass='Business'
break;case'F':case'A':case'O':serviceClass='First'
break;default:serviceClass='Economy'}}
reviewObject={'depDate':[digitalData.product[i].productInfo.productDetails.flightTicket.bound[0].departure.dateTime.split('T')[0].replaceAll('-','')],'destination':[digitalData.product[i].productInfo.productDetails.flightTicket.bound[0].arrival.airportCode.toLowerCase()],'origin':[digitalData.product[i].productInfo.productDetails.flightTicket.bound[0].departure.airportCode.toLowerCase()],'travelers':[passNum],'adults':[adultsNum],'infants':[infantNum],'minors':[childNum],'retDate':[digitalData.product[i].productInfo.productDetails.flightTicket.bound[1].arrival.dateTime.split('T')[0].replaceAll('-','')],'serviceClass':[serviceClass]}
if(reviewObject.retDate[0]===''){delete reviewObject.retDate}
if(reviewObject.minors.toString()=="0"){delete reviewObject.minors}
if(reviewObject.infants.toString()=="0"){delete reviewObject.infants}
flightPid=digitalData.product[i].productInfo.productDetails.flightTicket.bound[0].departure.airportCode.toLowerCase()+'-'+digitalData.product[i].productInfo.productDetails.flightTicket.bound[0].arrival.airportCode.toLowerCase()+';'+digitalData.product[i].productInfo.productDetails.flightTicket.bound[1].departure.airportCode.toLowerCase()+'-'+digitalData.product[i].productInfo.productDetails.flightTicket.bound[1].arrival.airportCode.toLowerCase()+'-'+digitalData.product[i].productInfo.productDetails.flightTicket.tripType.toLowerCase();flightPrice=tealiumiq_currency.convert(digitalData.product[0].productInfo.productDetails.flightTicket.itineraryPrice.totalPrice.amount.toString(),digitalData.product[0].productInfo.productDetails.flightTicket.itineraryPrice.totalPrice.currency,'EUR');}
else if(digitalData.product[i].category.primaryCategory=='AncillaryService'){ancillaryExists=true;var newAncillary={};if(typeof digitalData.transaction!=='undefined'){newAncillary.purchaseId=utag.data.random_number.toString();}
newAncillary.productId=digitalData.product[i].productInfo.productDetails.ancillaryService.serviceCode+"_"+digitalData.product[i].productInfo.productDetails.ancillaryService.serviceID;newAncillary.quantity=digitalData.product[i].productInfo.productDetails.ancillaryService.quantity;newAncillary.unitPrice=tealiumiq_currency.convert(digitalData.product[i].productInfo.productDetails.ancillaryService.price.totalPrice.amount.toString(),digitalData.product[i].productInfo.productDetails.ancillaryService.price.totalPrice.currency,'EUR');newAncillary.currency="EUR";ancCartTable.push(newAncillary);}}}
if(pageType=='SHOPPINGCART'||pageType=='TRAVELER'){window.monetateQ.push(['addFlightReview',reviewObject,flightPid,1,flightPrice,'EUR']);if(ancillaryExists){window.monetateQ.push(["addCartRows",ancCartTable]);}}
if(pageType=='CONFIRMATION'){window.monetateQ.push(['addFlightBooking',reviewObject,utag.data.random_number.toString(),flightPid,1,flightPrice,'EUR']);if(ancillaryExists){window.monetateQ.push(["addPurchaseRows",ancCartTable]);}}
window.monetateQ.push(['trackData']);}
let previousUrl='';const observer=new MutationObserver(function(mutations){if(previousUrl==''){previousUrl=location.href;}else if(location.href!==previousUrl){previousUrl=location.href;retrackPage();}});const config={subtree:true,childList:true};observer.observe(document,config);window.onload=function(){retrackPage();}}
function capitalizePax(str){return str.charAt(0).toUpperCase()+str.slice(1);}
function kiboConvert(myPrice){return parseFloat(myPrice)*kiboExchange;}
if(typeof lhgData.page.pageInfo.pageId!='undefined'&&lhgData.page.pageInfo.pageId.indexOf('payment')<0&&typeof monetateT=='number'){var kiboExchange=parseFloat(utag_data.exchangeRate)
window.monetateQ=window.monetateQ||[];var pageType=(utag.data.current_page=='homepage')?'main':(utag.data.pagetype=='purchase')?utag.data.pagetype:utag.data.current_page.replace(/\s+/g,'');window.monetateQ.push(["setPageType",pageType]);if(utag.data['conversion.funnel.funnelName']=='booking flow'){var reviewObject={'depDate':[utag.data.outboundDateYDM],'destination':[utag.data.destination_airport],'origin':[utag.data.departure_airport],'travelers':[utag.data.pax_amt],'adults':[utag.data.pax_adult_amt],'infants':[utag.data.pax_baby_amt],'minors':[utag.data.pax_child_amt],'retDate':[(utag.data.trip_type=="rt")?utag.data.inboundDateYMD:''],'serviceClass':[utag.data.cabin_class.split(' ').map(capitalizePax).join(' ')]
};if(reviewObject.retDate[0]===''){delete reviewObject.retDate}
if(reviewObject.minors.toString()=="0"){delete reviewObject.minors}
if(reviewObject.infants.toString()=="0"){delete reviewObject.infants}
if(utag.data['conversion.funnel.funnelStep']=='ffpp'){window.monetateQ.push(['addFlightSearch',reviewObject]);}
if(utag.data.current_page!=='flight selection'&&utag.data.pagetype=='cart'){var flightTotal=0;lhgData.cart.item.forEach(function(val,i){if(val.category.category1=="flight"){flightTotal+=kiboConvert(val.price.basePrice);}});if(flightTotal>0){window.monetateQ.push(['addFlightReview',reviewObject,utag.data.flight_itinery+"-"+utag.data.trip_type,1,flightTotal.toFixed(2),'EUR']);}
var ancCartRows={};var ancCartTable=[];var ancillaryExists=false;lhgData.cart.item.forEach(function(val,i){if(val.category.category1=='ancillary'){ancillaryExists=true;var newAncillary={};newAncillary.productId=val.productInfo.productId.replace(/(^\w{1})|(\s+\w{1})/g,letter=>letter.toUpperCase()).split(" ").join("");newAncillary.quantity=val.attributes.quantity;newAncillary.unitPrice=(kiboConvert(val.price.basePrice)).toFixed(2);newAncillary.currency="EUR";ancCartTable.push(newAncillary);}});if(ancillaryExists){window.monetateQ.push(["addCartRows",ancCartTable]);}}
if(utag.data.current_page!=='flight selection'&&utag.data.pagetype=='purchase'&&utag.data['conversion.funnel.funnelStep']=='bkco'){var flightTotal=0;lhgData.transaction.item.forEach(function(val,i){if(val.category.category1=="flight"){flightTotal+=kiboConvert(val.price.basePrice);}});if(flightTotal>0){window.monetateQ.push(['addFlightBooking',reviewObject,utag.data['transaction.transactionId'],utag.data.flight_itinery,1,flightTotal.toFixed(2),'EUR']);}
var ancCartRows={};var ancCartTable=[];var ancillaryExists=false;lhgData.transaction.item.forEach(function(val,i){if(val.category.category1=='ancillary'){ancillaryExists=true;var newAncillary={};newAncillary.purchaseId=utag.data['transaction.transactionId'];newAncillary.productId=val.productInfo.productId.replace(/(^\w{1})|(\s+\w{1})/g,letter=>letter.toUpperCase()).split(" ").join("");newAncillary.quantity=val.attributes.quantity;newAncillary.unitPrice=(kiboConvert(val.price.basePrice)).toFixed(2);newAncillary.currency="EUR";ancCartTable.push(newAncillary);}});if(ancillaryExists){window.monetateQ.push(["addPurchaseRows",ancCartTable]);}}}
monetateQ.push(['setCustomVariables',[{name:'market',value:utag.data.market},{name:'language',value:utag.data.language}]]);window.monetateQ.push(["trackData"]);}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var readCookie=function(cookieName){var re=new RegExp('[; ]'+cookieName+'=([^\\s;]*)');var sMatch=(' '+document.cookie).match(re);if(cookieName&&sMatch)return unescape(sMatch[1]);return'';};try{b.clientID=readCookie('_ga').split('.').slice(-2).join('.');}catch(error){}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['platformId']!='adcb2'){var convertPrices={'product.price.basePrice':1,'cart.price.total':1,'cart.price.subtotal':1,'cart.item.price.basePrice':1,'transaction.total.netFare':1,'transaction.total.opc':1,'transaction.total.conversionFees':1,'transaction.total.fees':1,'transaction.total.promotionDiscount':1,'transaction.total.surcharge':1,'transaction.total.tax':1,'transaction.total.transactionTotal':1,'transaction.item.price.basePrice':1,'transaction.total.netfare':1};var convertCurrencies={'currency':1,'cart.price.currency':1,'cart.item.price.currency':1,'product.price.currency':1,'transaction.total.currency':1,'transaction.item.price.currency':1};var orig_suffix='_ORIG';var eur_code='chf';try{if(utag_data['transaction.total.netFare']){utag_data['transaction.total.netFare_EUR']=tealiumiq_currency.convert(utag_data['transaction.total.netFare'],utag_data.currency,"EUR");utag_data['debug_string']="Converted "+utag_data.currency+" to EUR | "+utag_data['transaction.total.netFare'];}
var additionalEURConv=["BFNetfareEUR","revenueEUR","taxesEUR","YQEUR","OPCEUR","BFRev_INTEUR"];for(var z=0;z<additionalEURConv.length;z++){var eurkey=additionalEURConv[z];if(eurkey){if(utag_data[eurkey]){utag_data[eurkey]=tealiumiq_currency.convert(utag_data[eurkey],utag_data.currency,"EUR");}}}
}
catch(ex){}
if(typeof utag_data.exchangeRate!=='undefined'&&utag_data.exchangeRate!==''){var doArr;var flag=false;var xchange=parseFloat(tealiumiq_currency.convert("1","CHF",utag_data.currency));if(xchange!=0.0){xchange=1.0/xchange;}
if(xchange.toString()==='1'){var notEUR=false;}else{var notEUR=true;}
for(var key in convertCurrencies){if(convertCurrencies.hasOwnProperty(key)&&utag_data[key]){if(typeof utag_data[key]==='object'){doArr=false;if(typeof utag_data[key+orig_suffix]!=='object'||(typeof utag_data[key+orig_suffix]==='object'&&utag_data[key+orig_suffix].length!==utag_data[key].length)){doArr=true;utag_data[key+orig_suffix]=[];}
var len=utag_data[key].length;for(var i=0;i<len;i++){if(doArr){utag_data[key+orig_suffix].push(utag_data[key][i]);}
if(notEUR&&utag_data[key+orig_suffix][i]===utag_data[key][i]){utag_data[key][i]=eur_code;}}}else{if(typeof utag_data[key+orig_suffix]!=='string'){utag_data[key+orig_suffix]=utag_data[key];}
if(notEUR&&utag_data[key+orig_suffix]===utag_data[key]){utag_data[key]=eur_code;}}}}
for(var key in convertPrices){if(convertPrices.hasOwnProperty(key)&&utag_data[key]){if(typeof utag_data[key]==='object'){doArr=false;if(typeof utag_data[key+orig_suffix]!=='object'||(typeof utag_data[key+orig_suffix]==='object'&&utag_data[key+orig_suffix].length!==utag_data[key].length)){doArr=true;utag_data[key+orig_suffix]=[];}
var len=utag_data[key].length;for(var i=0;i<len;i++){if(typeof utag_data[key][i]==='number')utag_data[key][i]=utag_data[key][i].toString();if(utag_data[key][i]==='')utag_data[key][i]='0.00';if(utag_data[key][i].indexOf('.')===-1)utag_data[key][i]=utag_data[key][i]+'.00';if(doArr){utag_data[key+orig_suffix].push(utag_data[key][i]);}
if(notEUR&&utag_data[key+orig_suffix][i]===utag_data[key][i]){utag_data[key][i]=(utag_data[key][i]*xchange).toFixed(2);flag=true;}}}else{if(typeof utag_data[key]==='number')utag_data[key]=utag_data[key].toString();if(utag_data[key]==='')utag_data[key]='0.00';if(utag_data[key].indexOf('.')===-1)utag_data[key]=utag_data[key]+'.00';if(typeof utag_data[key+orig_suffix]==='undefined'){utag_data[key+orig_suffix]=utag_data[key];}
if(notEUR&&utag_data[key+orig_suffix]===utag_data[key]){utag_data[key]=(utag_data[key]*xchange).toFixed(2);flag=true;}}}}
if(flag)utag_data.currency_was_converted='yes';}}}catch(e){utag.DB(e)}},function(a,b){try{if(typeof b['product.productInfo.productName']!='undefined'&&b['product.productInfo.productName']!=''){if (utag.data['product.productInfo.productName'] && utag.data['ut.event'] == 'view'){utag.data['product.productInfo.listPosition']=[];utag.data['product.productInfo.productName'].forEach(function(el, i){var pos=i+1;utag.data['product.productInfo.listPosition'][i] = pos.toString();});}}}catch(e){utag.DB(e)}},function(a,b){try{if(typeof b['product.price.currency']!='undefined'&&b['product.price.currency']!=''||typeof b['cart.item.price.currency']!='undefined'&&b['cart.item.price.currency']!=''||typeof b['transaction.total.currency']!='undefined'&&b['transaction.total.currency']!=''){if (utag.data['product.price.currency']&&typeof utag.data['product.price.currency']!=='string'){var currStr=utag.data['product.price.currency'].join();currStr=currStr.substr(0,3).toUpperCase();currStr.toUpperCase;utag.data['currency']=currStr;}
if (utag.data['cart.price.currency']&&typeof utag.data['cart.price.currency']!=='string'){var currStr=utag.data['cart.price.currency'].toString().toUpperCase();utag.data['currency']=currStr;}
if (utag.data['transaction.total.currency']){var currStr=utag.data['transaction.total.currency'].toString().toUpperCase();utag.data['currency']=currStr;}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){function concatCats(path){try{if(utag_data[path+'.category.category1']&&utag_data[path+'.category.category1'].length>0){utag.data[path+'.categoryAll']=[];var catAll=utag.data[path+'.categoryAll'],cat1=utag_data[path+'.category.category1'],cat2=utag_data[path+'.category.category2'],cat3=utag_data[path+'.category.category3'],cat4=utag_data[path+'.category.category4'],cat5=utag_data[path+'.category.category5'];if(typeof cat1==="object"){cat1.forEach(function(element,i){var fullCat=[];fullCat.push(element,cat2[i],cat3[i],cat4[i],cat5[i]);fullCat.forEach(function(element){if(element.length<1){var index=fullCat.indexOf(element);fullCat.splice(index,1);}});fullCat=fullCat.join('/');if(fullCat.endsWith('/')){fullCat=fullCat.substr(0,fullCat.length-1);}
catAll.push(fullCat);});}else if(typeof cat1==="string"){var fullCat=[];fullCat.push(cat1,cat2,cat3,cat4,cat5);catAll.push(fullCat.filter(function(el){return el!=="";}).join("/"));}}}catch(e){}}
concatCats('product');concatCats('cart.item');concatCats('transaction.item');concatCats('filter');utag.data['filter.categoryAll']=utag.data['filter.categoryAll'].join("");}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if (utag.data['product.price.basePrice'] && utag.data['ut.event'] == 'view'){utag.data['product.price.basePrice'].forEach(function(el, i){if(utag.data['product.price.basePrice'][i].indexOf(',')>-1){var formattedPrice = el.replace(',', '.');utag.data['product.price.basePrice'][i] = formattedPrice;}});}
if (utag.data['cart.item.price.basePrice'] && utag.data['ut.event'] == 'view'){utag.data['cart.item.price.basePrice'].forEach(function(el, i){if(utag.data['cart.item.price.basePrice'][i].indexOf(',') > -1){var formattedPrice = el.replace(',', '.');utag.data['cart.item.price.basePrice'][i] = formattedPrice;}});}
if (utag.data['cart.price.subtotal'] && utag.data['cart.price.subtotal'].indexOf(',') > -1 && utag.data['ut.event'] == 'view'){var formattedPrice = utag.data['cart.price.subtotal'].replace(',', '.');utag.data['cart.price.subtotal'] = formattedPrice;}
if (utag.data['cart.price.total'] && utag.data['cart.price.total'].indexOf(',') > -1 && utag.data['ut.event'] == 'view'){var formattedPrice = utag.data['cart.price.total'].replace(',', '.');utag.data['cart.price.total'] = formattedPrice;}
if (utag.data['cart.price.promotion.promotionDiscount'] && utag.data['cart.price.promotion.promotionDiscount'][0].indexOf(',') > -1 && utag.data['ut.event'] == 'view'){utag.data['cart.price.promotion.promotionDiscount'].forEach(function(el, i){var formattedPrice = el.replace(',', '.');utag.data['cart.price.promotion.promotionDiscount'][i] = formattedPrice;});}
if (utag.data['transaction.total.conversionFees'] && utag.data['transaction.total.conversionFees'].indexOf(',') > -1 && utag.data['ut.event'] == 'view'){var formattedPrice = utag.data['transaction.total.conversionFees'].replace(',', '.');utag.data['transaction.total.conversionFees'] = formattedPrice;}
if (utag.data['transaction.total.fees'] && utag.data['transaction.total.fees'].indexOf(',') > -1 && utag.data['ut.event'] == 'view'){var formattedPrice = utag.data['transaction.total.fees'].replace(',', '.');utag.data['transaction.total.fees'] = formattedPrice;}
if (utag.data['transaction.total.opc'] && utag.data['transaction.total.opc'].indexOf(',') > -1 && utag.data['ut.event'] == 'view'){var formattedPrice = utag.data['transaction.total.opc'].replace(',', '.');utag.data['transaction.total.opc'] = formattedPrice;}
if (utag.data['transaction.total.surcharge'] && utag.data['transaction.total.surcharge'].indexOf(',') > -1 && utag.data['ut.event'] == 'view'){var formattedPrice = utag.data['transaction.total.surcharge'].replace(',', '.');utag.data['transaction.total.surcharge'] = formattedPrice;}
if (utag.data['transaction.total.tax'] && utag.data['transaction.total.tax'].indexOf(',') > -1 && utag.data['ut.event'] == 'view'){var formattedPrice = utag.data['transaction.total.tax'].replace(',', '.');utag.data['transaction.total.tax'] = formattedPrice;}
if (utag.data['transaction.total.transactionTotal'] && utag.data['transaction.total.transactionTotal'].indexOf(',') > -1 && utag.data['ut.event'] == 'view'){var formattedPrice = utag.data['transaction.total.transactionTotal'].replace(',', '.');utag.data['transaction.total.transactionTotal'] = formattedPrice;}
if (utag.data['transaction.item.price.basePrice'] && utag.data['ut.event'] == 'view'){utag.data['transaction.item.price.basePrice'].forEach(function(el, i){if(utag.data['transaction.item.price.basePrice'][i].indexOf(',') > -1){var formattedPrice = el.replace(',', '.');utag.data['transaction.item.price.basePrice'][i] = formattedPrice;}});}}}catch(e){utag.DB(e)}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[206]=='undefined'){utag.runonce.ext[206]=1;if(/(.+)_[a-z]{2}_[a-z]{2}/.test(b['page.pageInfo.pageId'])){window.utag_eventData={tileLookup:{'WEX':['booking','weather'],'LNG':['booking','lounge'],'BID':['ancillary','bid upgrade'],'UPG':['ancillary','cash upgrade'],'ASR':['ancillary','advanced seat reservation'],'FBG':['ancillary','first bag'],'HTL':['ancillary','hotel'],'CAR':['ancillary','car'],'ELS':['ancillary','extra leg space'],'PZS':['ancillary','preferred zone seat'],'MSC':['ancillary','mobile sim card'],'TNA':['ancillary','tours and activities'],'INS':['ancillary','insurance'],'ALC':['ancillary','a la carte dining'],'SYT':['inspirational','top 10 sights'],'ETQ':['inspirational','travel etiquette'],'INF':['inspirational','infant teaser'],'JOU':['inspirational','ejournal'],'BGG':['inspirational','baggage'],'RES':['inspirational','restaurant'],'GTA':['inspirational','getting around'],'HLT':['inspirational','health'],'GFT':['inspirational','general fleet'],'GET':['inspirational','general lh express'],'FCT':['inspirational','first class terminal'],'SLT':['inspirational','senator lounge'],'BLT':['inspirational','business lounge'],'WLT':['inspirational','welcome lounge'],'CLT':['inspirational','children teaser'],'FET':['inspirational','family entertainment'],'LHI':['inspirational','lh id teaser'],'MAT':['inspirational','general mobile app'],'FNT':['inspirational','general fly net'],'IFT':['inspirational','inflight entertainment'],'FIE':['inspirational','food and beverage intercont eco'],'FIP':['inspirational','food and beverage intercont premium eco'],'FIB':['inspirational','food and beverage intercont business'],'FIF':['inspirational','food and beverage intercont first'],'FCE':['inspirational','food and beverage cont eco'],'FCB':['inspirational','food and beverage cont business']},nfcMode:'regular next flight',nfcType:'collapsed',daysUntilDep:'',origin:'',destination:'',decisionID:'',tiles:0,loginPortletBlocker:false,debugEventStack:"",load:0
};window.utag_eventCallback=function(a,u,s,p){try{window.utag_eventData.debugEventStack+="|"+a;let tv='',ea='',ec='',el='',ev=undefined,cd={},fire=false,error=false;const nfcStr='next flight component';const nftStr='next flight teaser';if(a==='app/FlightManager/Flight/SUBMIT_SEARCH_REQUESTED'){if(p){fire=true;tv='co click flightmanager';ec='flightmanager';el='search flights';ea='submit';cd.eventClick='1';if(p.flightSegments&&p.flightSegments.length>0){cd['booking.attributes.origin']=p.flightSegments[0].originCode?p.flightSegments[0].originCode.toLowerCase():'';cd['booking.attributes.destination']=p.flightSegments[0].destinationCode?p.flightSegments[0].destinationCode.toLowerCase():'';cd['booking.attributes.departure']=p.flightSegments[0].travelDatetime?p.flightSegments[0].travelDatetime.substr(0,10):'';if(p.flightSegments.length>1)cd['booking.attributes.arrival']=p.flightSegments[1].travelDatetime?p.flightSegments[1].travelDatetime.substr(0,10):'';}
cd['booking.attributes.adult']=p.adults||0;cd['booking.attributes.child']=p.children||0;cd['booking.attributes.infant']=p.infants||0;cd['booking.attributes.pax']=cd['booking.attributes.adult']+cd['booking.attributes.child']+cd['booking.attributes.infant']||0;if(p.cabin==='E')cd['booking.attributes.booking_class']='economy';else if(p.cabin==='N')cd['booking.attributes.booking_class']='premium economy';else if(p.cabin==='B')cd['booking.attributes.booking_class']='business';else if(p.cabin==='F')cd['booking.attributes.booking_class']='first';else cd['booking.attributes.booking_class']='';}
}else if(a==='app/Enrolment/CREATE_LHID'){fire=true;tv='co click enrolment';ec='account enrolment';ea='create profile';cd.eventClick='1';if(p&&p.offerAllow){el='lhid permission granted';}else{el='lhid permission not granted';}
}else if(a==='app/Enrolment/ASK_ME_LATER_ENROLMENT'){fire=true;tv='co click enrolment';ec='account enrolment';ea='click';el='register later';cd.eventClick='1';}else if(a==='app/Enrolment/CONNECT_MAM_ENROLMENT'){fire=true;tv='co click enrolment';ec='account enrolment';ea='click';el='connect with mm account';cd.eventClick='1';}else if(a==='app/Enrolment/ACCOUNT_ACTIVATION_SUCCESS'){fire=true;tv='co view enrolment';ec='account enrolment';ea='view';el='account activated';}else if(a==='app/Enrolment/CREATE_MAM_1'){fire=true;tv='co view enrolment';ec='account enrolment mm';ea='view';el='step 1 - personal data';}else if(a==='app/Enrolment/CREATE_MAM_2'){fire=true;tv='co view enrolment';ec='account enrolment mm';ea='view';el='step 2 - personal data address';}else if(a==='app/Enrolment/CREATE_MAM_3'){fire=true;tv='co view enrolment';ec='account enrolment mm';ea='view';el='step 3 - account data and communication';}else if(a==='app/Enrolment/CREATE_MAM_COMPLETE'){fire=true;tv='co view enrolment';ec='account enrolment mm';ea='view';el='step 4 - confirmation';if(p&&p.mamOffers){el+=' with offers allowed';}else{el+=' with offers denied';}
}else if(a==='app/LoginForm/TRACK_LOGIN_SUBMIT_SUCCESS'){fire=true;tv='co click login';ec='user account';ea='log in';cd.eventClick='1';utag_data.logged_in='logged in';cd['user.profile.loginStatus']='true';cd['user.profile.loginType']='personal profile';if(lhgData&&lhgData.user&&lhgData.user.profile){lhgData.user.profile.loginStatus='true';lhgData.user.profile.loginType='personal profile';}
if(p&&p.rememberMe){el='persistent';if(lhgData&&lhgData.user&&lhgData.user.profile)lhgData.user.profile.loginPersistence='true';}else{el='not persistent';if(lhgData&&lhgData.user&&lhgData.user.profile)lhgData.user.profile.loginPersistence='false';}
window.utag_eventData.loginPortletBlocker=true;}else if(a==='LOGOUT_USER'){fire=true;tv='co click login';ec='user account';ea='log out';cd.eventClick='1';utag_data.logged_in='logged out';cd['user.profile.loginStatus']='false';cd['user.profile.loginType']='none';cd['user.profile.profileInfo.profileId']='';cd.ss_userId='';if(lhgData&&lhgData.user&&lhgData.user.profile){lhgData.user.profile.loginStatus='false';lhgData.user.profile.loginType='none';if(lhgData.user.profile.profileInfo)lhgData.user.profile.profileInfo.profileId=undefined;}}else if(a==='app/LoginForm/TRACK_LOGIN_SUBMIT_FAIL'){fire=true;error=true;tv='co click login';ec='user account';ea='log in attempt';cd.eventClick='1';utag_data.logged_in='logged out';cd['user.profile.loginStatus']='false';cd['user.profile.loginType']='none';if(p&&p.rememberMe){el='persistent';if(lhgData&&lhgData.user&&lhgData.user.profile)lhgData.user.profile.loginPersistence='true';}else{el='not persistent';if(lhgData&&lhgData.user&&lhgData.user.profile)lhgData.user.profile.loginPersistence='false';}
cd['error.errorInfo.elementName']='application';cd['error.errorInfo.type']='server';cd['error.errorInfo.errorCode']='';let tmp=document.querySelector('#error-id-dcep-lh-loginModule-loginLHID, #error-id-dcep-lh-loginModule-loginLMAM');if(tmp){cd['error.errorInfo.message']=tmp.textContent;}else{cd['error.errorInfo.message']='The user ID and password or the Miles & More card number and PIN you have entered are not valid. Please check your entry and try again.';}}else if(a==='app/QuickActions/CheckIn/SUBMIT_CHECKIN_REQUESTED'){fire=true;tv='co click quick actions';ec='quick actions';ea='click';el='check in';}
else if(a==='app/LoginPortlet/TOGGLE_MODAL'){fire=true;tv='co click login portlet';ec='login portlet';ea='click';el='open';cd.eventClick='1';}
else if(a==='app/LoginPortlet/CLOSE_MODAL'){if(window.utag_eventData.loginPortletBlocker){window.utag_eventData.loginPortletBlocker=false;}
else{fire=true;tv='co click login portlet';ec='login portlet';ea='click';el='close';cd.eventClick='1';}}
else if(a==='app/RecentSearches/DELETE_RECENT_FLIGHT'){if(p){fire=true;tv='co click recent searches';ec='recent searches';ea='click';el='delete';cd.eventClick='1';if(p.originCode)cd['booking.attributes.origin']=p.originCode.toLowerCase();if(p.destinationCode)cd['booking.attributes.destination']=p.destinationCode.toLowerCase();}}
else if(a==='app/RecentSearches/TRIGGER_RECENT_SEARCH'){if(p){fire=true;tv='co click recent searches';ec='recent searches';ea='click';el='submit';cd.eventClick='1';if(p.originCode)cd['booking.attributes.origin']=p.originCode.toLowerCase();if(p.destinationCode)cd['booking.attributes.destination']=p.destinationCode.toLowerCase();}}
else if(a==='app/FlightManager/Holiday/SUBMIT_SEARCH'){if(p&&p.params){fire=true;tv='co click flightmanager';ec='flightmanager';el='holiday';ea='search';cd.eventClick='1';if(p.params["from"])cd['booking.attributes.origin']=p.params["from"].toLowerCase();if(p.params["to"])cd['booking.attributes.destination']=p.params["to"].toLowerCase();}}
else if(a==='app/FlightManager/Car/SUBMIT_SEARCH_REQUESTED'){if(p){fire=true;tv='co click flightmanager';ec='flightmanager';el='car';ea='search';cd.eventClick='1';}}
else if(a==='app/FlightManager/Hotel/SUBMIT_SEARCH_REQUESTED'){if(p){fire=true;tv='co click flightmanager';ec='flightmanager';el='hotel';ea='search';cd.eventClick='1';}}
else if(a==='app/FlightManager/UPDATE_ACTIVE_TAB'){if(p){fire=true;tv='co click flightmanager';ec='flightmanager';el='open | '+p.toLowerCase();ea='click';cd.eventClick='1';}}
else if(a==='app/FareTeaserDynamic/UPDATE_ACTIVE_TAB'){if(p){fire=true;tv='co click fare teaser dynamic';ec='fare teaser dynamic';el='open | '+p.toLowerCase();ea='click';cd.eventClick='1';}}
else if(a==='app/QuickActions/UPDATE_ACTIVE_TAB'){if(p){fire=true;tv='co click quickactions';ec='quick actions';el='open | '+p.toLowerCase();ea='click';cd.eventClick='1';}}
else if(a==='app/BestPriceSearch/shared/MONTH_CHANGE'){if(p){fire=true;tv='co click best price search';ec='best price search';el='month change';ea='click';cd.eventClick='1';if(p.origin)cd['booking.attributes.origin']=p.origin.toLowerCase();if(p.destination)cd['booking.attributes.destination']=p.destination.toLowerCase();}}
else if(a==='app/QuickActions/MY_BOOKINGS_LINK_CLICK'){fire=true;tv='co click quickactions';ec='quick actions';el='my bookings';ea='click';}
else if(a==='app/QuickActions/FlightStatus/SUBMIT_FLIGHT_STATUS'){if(p){fire=true;tv='co click quickactions';ec='quick actions';el='flight status';ea='click';}}
else if((a=='app/BaggageCalculator/SUBMIT_BAGGAGE_REQUESTED')||(a=='app/BaggageCalculator/SUBMIT_BAGGAGE_DROPDOWN_REQUESTED')){if(p){let valueObj=p["values"];if(valueObj){valueObj=valueObj["baggageCalculator"];if(valueObj){ea="click";ec="baggage_calculator";el="see-free-baggage";fire=true;tv="co click baggage calculator";cd.eventClick='1';let origin=valueObj["origin"];let dest=valueObj["destination"];let airline=valueObj["airline"];let tclass=valueObj["travelClass"];if((a=='app/BaggageCalculator/SUBMIT_BAGGAGE_DROPDOWN_REQUESTED')){el="class switch - "+tclass.toLowerCase();}
let adults=0;let children=0;let infants=0;let infantsSeat=0;let travelers=valueObj["baggageTraveller"];let status={BASICMM:0,SEN:0,HON:0,SILVERSA:0,NOMM:0,GOLDSA:0,SWISSGOLF:0,FREQ:0};if(travelers){for(var i=0;i<travelers.length;i++){let itm=travelers[i];if(itm){if(itm["travellerType"]=="CHILD")children++;else if(itm["travellerType"]=="INF")infants++;else if(itm["travellerType"]=="INFS")infantsSeat++;else adults++;let istatus=itm["customerStatus"];status[istatus]=status[istatus]+1;}}}
let filter=[];filter.push(origin+"-"+dest);filter.push(airline);filter.push("adults-"+adults);filter.push("children-"+children);filter.push("infants-"+infants);filter.push("infantsseat-"+infantsSeat);for(var key in status){filter.push(key+"-"+status[key]);}
filter.push(tclass);let filterString=filter.join("/").toLowerCase();cd["filter.element.userInput"]=filterString;}}}}
else if(a==='app/PersonalisedPreflightInformation/UPDATE_ACTIVE_TAB'){if(p){fire=true;tv='co click ppfi';ec=nfcStr;ea='click';el="weather|"+p+" tab";}}
else if(a==='app/WeatherData/UPDATE_SELECTED_CLIMATE_GRAPH'){if(p){let params=JSON.parse(JSON.stringify(p));if(params){if(params["name"]){fire=true;tv='co click ppfi';ec=nfcStr;ea='click';el="weather|climate graph|"+params.name;}}}}
else if(a==='app/VoucherExchange/VOUCHER_EXCHANGE_TICKET_FETCH_SUCCEEDED'){fire=true;tv='co voucher exchange';ec='refund voucher';ea='step 2';el='fetch ticket successful';}
else if(a==='app/VoucherExchange/VOUCHER_EXCHANGE_TICKET_FETCH_FAILED'){fire=true;tv='co voucher exchange';ec='refund voucher';ea='step 2';el='fetch ticket fail';}
else if(a==='app/VoucherExchange/SAVE_TICKET_SELECTION'){fire=true;tv='co voucher exchange';ec='refund voucher';ea='step 2';el='change ticket selection';}
else if(a==='app/VoucherExchange/VOUCHER_EXCHANGE_SUBMIT_TICKET_SELECTION'){fire=true;tv='co voucher exchange';ec='refund voucher';ea='step 3';el='summary';}
else if(a==='app/VoucherExchange/VOUCHER_EXCHANGE_VOUCHER_FETCH_SUCCEEDED'){fire=true;tv='co voucher exchange';ec='refund voucher';ea='step 4';el='fetch voucher successful';}
else if(a==='app/VoucherExchange/VOUCHER_EXCHANGE_VOUCHER_FETCH_FAILED'){fire=true;tv='co voucher exchange';ec='refund voucher';ea='step 4';el='fetch voucher fail';}
else if(a==='app/VoucherExchange/PDF_DOWNLOAD_REQUESTED'){fire=true;tv='co voucher exchange';ec='refund voucher';ea='step 4';el='request pdf';}
else if(a==='app/VoucherExchange/PDF_DOWNLOAD_FAILED'){fire=true;tv='co voucher exchange';ec='refund voucher';ea='step 4';el='request pdf fail';}
else if(a==='app/HealthDocumentInspector/FETCH_PNR_DETAILS_REQUESTED'){fire=true;tv='co ddc click btn in step0 provide flight info';ec='digital doc check';ea='click';el='PNR DETAILS REQUESTED';}
else if(a==='app/HealthDocumentInspector/FETCH_PNR_DETAILS_SUCCEEDED'){fire=true;tv='co ddc display of step1 Passengers details';ec='digital doc check';ea='show';el='FETCH PNR DETAILS SUCCEEDED';}
else if(a==='app/HealthDocumentInspector/SAVE_PASSENGER_DETAILS'){fire=true;tv='co ddc click to step2 Upload certificates';ec='digital doc check';ea='click';el='SAVE PASSENGER DETAILS';}
else if(a==='app/HealthDocumentInspector/SAVE_CERTIFICATE_DETAILS'){fire=true;tv='co ddc click to step3 Upload additional entry documents';ec='digital doc check';ea='click';el='SAVE CERTIFICATE DETAILS';}
else if(a==='app/HealthDocumentInspector/SAVE_ADDITIONAL_CERTIFICATE'){fire=true;tv='co ddc click to step3 Upload additional entry documents';ec='digital doc check';ea='click';el='SAVE ADDITIONAL CERTIFICATE';}
else if(a==='app/HealthDocumentInspector/SAVE_BORDER_ENTRY_DOCUMENTS'){fire=true;tv='co ddc click to step4 consent and submit';ec='digital doc check';ea='click';el='SAVE BORDER ENTRY DOCUMENTS';}
else if(a==='app/HealthDocumentInspector/CHECK_FORM_IS_CHANGED'){fire=true;tv='co ddc click to step4 consent and submit';ec='digital doc check';ea='click';el='CHECK FORM IS CHANGED';}
else if(a==='app/HealthDocumentInspector/SUBMIT_USER_CONSENT_FORM_REQUESTED'){fire=true;tv='co ddc click last step consent and submit';ec='digital doc check';ea='click';el='SUBMIT USER CONSENT FORM REQUESTED';}
else if(a==='app/HealthDocumentInspector/UPLOAD_HEALTH_DOCUMENT_FORM_REQUESTED'){fire=true;tv='co ddc click last step consent and submit';ec='digital doc check';ea='click';el='UPLOAD HEALTH DOCUMENT FORM REQUESTED';}
else if(a==='app/HealthDocumentInspector/UPLOAD_HEALTH_DOCUMENT_FORM_SUCCEEDED'){fire=true;tv='co ddc show last step Thank you Upload successfull';ec='digital doc check';ea='show';el='UPLOAD HEALTH DOCUMENT FORM SUCCEEDED';}
else if(a==='@@redux-form/SET_SUBMIT_FAILED'&&(document.querySelectorAll(".healthdocumentinspector .progress-bar-container .col:not(.inactive) .index-indicator.text-center").length>0||document.querySelectorAll(".healthdocumentinspector .tab-links a").length>0)){fire=true;var myStep=(document.querySelectorAll(".healthdocumentinspector .progress-bar-container .col:not(.inactive) .index-indicator.text-center").length>0)?document.querySelector(".healthdocumentinspector .progress-bar-container .col:not(.inactive) .index-indicator.text-center").innerText:(document.querySelector(".healthdocumentinspector .tab-links .tab-nav-link-wrapper:nth-child(1) a").classList.value.indexOf("tab-active")>=0?"1 booking code":"2 ticket number");tv='co ddc error first step'+myStep+' fields empty';ec='digital doc check';ea='error';el=(myStep=="1")?'PNR DETAILS EMPTY':'ERROR FORM STEP'+myStep;}else if(a.indexOf("HealthDocumentInspector")>0){var step=parseInt(document.querySelector("div.container.contentpage-wrapper div.healthdocumentinspector div.progress-bar-container div.progress-bar-wrapper > span").getAttribute("style").split(":")[1].replace(/\D+/g,''))/25;var eventLabel=a.split("/HealthDocumentInspector/")[1].replace(/_/g," ").toLowerCase();fire=true;tv='co ddc click step '+step+' - '+eventLabel;ec='digital doc check';ea='click';el=eventLabel.toUpperCase();}else if(a.indexOf("b2t")==0){var ga_params=a.split("/").pop().split("_");if(ga_params.length===3){fire=true;tv=ga_params[2].replace(/-/g," ");ec=ga_params[0].replace(/-/g," ");ea=ga_params[1].replace(/-/g," ");el=ga_params[2].replace(/-/g," ");}}
if(fire){let tmp={};if(typeof(utag_data)==="object"){tmp=utag_data;}
tmp.tealium_event=tv;tmp.event_category=ec;tmp.event_action=ea;tmp.event_label=el;tmp.event_value=ev;if(cd){for(let key in cd){if(cd.hasOwnProperty(key)){tmp[key]=cd[key];}}}
cd={};if(!error){delete tmp['error.errorInfo.elementName'];delete tmp['error.errorInfo.type'];delete tmp['error.errorInfo.errorCode'];delete tmp['error.errorInfo.message'];}
utag.link(tmp);}
return true;}catch(e){utag.DB(e)};};window.utag_linkCallback=function(c,p){try{let tv='',ea='',ec='',el='',ev=undefined,cd={},fire=false;if(c==='MegaDropdown'){if(p&&p.technicalName){fire=true;tv='co click navigation';ec='navigation main';ea='click';el=p.technicalName;cd.eventClick='1';}}else if(c==='HeaderNavigation'){if(p&&p.technicalName){fire=true;tv='co click navigation';ec='navigation main';ea='click';el=p.technicalName;cd.eventClick='1';}
}else if(c==='Footer'){if(p&&p.technicalName){fire=true;tv='co click footer';ec='navigation footer';ea='click';el=p.technicalName;cd.eventClick='1';}
}else if(c==='Stage'){if(p&&p.technicalName){fire=true;tv='co click stage';ec='stage teaser';ea='click';el=p.technicalName;cd.eventClick='1';}
}else if(c==='Teaser'){if(p&&p.technicalName){fire=true;tv='co click stage';ec='image teaser';ea='click';el=p.technicalName;cd.eventClick='1';}}else if((c==='FareTeaserDynamic')||(c==='FareTeaserOD')||(c==='FareTeaserStatic')){if(p&&p.type){fire=true;tv='co click fare teaser dynamic';ec='fare teaser dynamic';ea='click';el=p.type;if(c==='FareTeaserOD'){tv='co click fare teaser od';ec='fare teaser od';}
else if(c==='FareTeaserStatic'){tv='co click fare teaser static';ec='fare teaser static';}
if(p.topDeal){el+=' topdeal';}
cd.eventClick='1';if(p.origin)cd['booking.attributes.origin']=p.origin.toLowerCase();if(p.destination)cd['booking.attributes.destination']=p.destination.toLowerCase();}}else if(c==='QuickActions'){if(p&&p.name&&p.linkType&&p.userType){fire=true;tv='co click quick actions';ec='quick actions';ea='click';el=(p.name+' '+p.linkType+' '+p.userType).toLowerCase();cd.eventClick='1';}}else if(c==='DestinationFinder'){if(p&&p.position){fire=true;tv='co click destination finder';ec='destination finder';ea='click';el=''+p.position;if(p.topDeal){el+=' topdeal';}
cd.eventClick='1';if(p['class']){let destFindClassLookup={'E':'economy','B':'business','N':'premium economy','F':'first'};let bookClass=p['class'];if(destFindClassLookup[bookClass]){bookClass=destFindClassLookup[bookClass];}
cd['booking.attributes.booking_class']=bookClass;}
if(p.originName)cd['booking.attributes.origin']=p.originName.toLowerCase();if(p.destinationName)cd['booking.attributes.destination']=p.destinationName.toLowerCase();}}else if(c==='LoginPortlet'){if(p&&p.name){fire=true;tv='co click login portlet';ec='login portlet';ea='click';el=p.name;cd.eventClick='1';}}
else if(c==='VoucherExchange'){if(p&&p.name){fire=true;tv='co voucher exchange';ec='refund voucher';ea='click link';el='register profile';cd.eventClick='1';}}
if(fire){let tmp={};if(typeof(utag_data)==="object"){tmp=utag_data;}
tmp.tealium_event=tv;tmp.event_category=ec;tmp.event_action=ea;tmp.event_label=el;tmp.event_value=ev;if(cd){for(let key in cd){if(cd.hasOwnProperty(key)){tmp[key]=cd[key];}}}
delete tmp['error.errorInfo.elementName'];delete tmp['error.errorInfo.type'];delete tmp['error.errorInfo.errorCode'];delete tmp['error.errorInfo.message'];utag.link(tmp);}
return true;}catch(e){utag.DB(e)};};(function(){document.addEventListener('click',function(event){try{if(event.target.parentNode&&event.target.parentNode.matches('#megadropdown [data-technicalname]')){let p={};p.technicalName=event.target.parentNode.getAttribute('data-technicalname');window.utag_linkCallback('MegaDropdown',p);}
else if(event.target.matches('#megadropdown [data-technicalname]')){let p={};p.technicalName=event.target.getAttribute('data-technicalname');window.utag_linkCallback('MegaDropdown',p);}else if(event.target.matches('#megadropdown a')){let str,p={};str=event.target.hostname+event.target.pathname;p.technicalName=str;window.utag_linkCallback('MegaDropdown',p);}else if(event.target.matches('a.teaser.card')||(event.target.parentNode&&event.target.parentNode.matches('a.teaser.card'))||(event.target.parentNode.parentNode&&event.target.parentNode.parentNode.matches('a.teaser.card'))||(event.target.parentNode.parentNode.parentNode&&event.target.parentNode.parentNode.parentNode.matches('a.teaser.card'))||(event.target.parentNode.parentNode.parentNode.parentNode&&event.target.parentNode.parentNode.parentNode.parentNode.matches('a.teaser.card'))){let ele,str,p={};ele=event.target;while(!ele.matches('a.teaser.card')){ele=ele.parentNode;}
str=ele.getAttribute('data-identifier')||'';p.technicalName=str;window.utag_linkCallback('Teaser',p);}else if(event.target.matches('a.stage-teaser-link')||(event.target.parentNode&&event.target.parentNode.matches('a.stage-teaser-link'))||(event.target.parentNode.parentNode&&event.target.parentNode.parentNode.matches('a.stage-teaser-link'))||(event.target.parentNode.parentNode.parentNode&&event.target.parentNode.parentNode.parentNode.matches('a.stage-teaser-link'))||(event.target.parentNode.parentNode.parentNode.parentNode&&event.target.parentNode.parentNode.parentNode.parentNode.matches('a.stage-teaser-link'))){let ele,str,p={};ele=event.target;while(!ele.matches('a.stage-teaser-link')){ele=ele.parentNode;}
str=ele.parentNode.getAttribute('data-identifier')||'';p.technicalName=str;window.utag_linkCallback('Stage',p);}else if(event.target.matches('footer [data-technicalname]')){let p={};p.technicalName=event.target.getAttribute('data-technicalname');window.utag_linkCallback('Footer',p);}else if(event.target.matches('footer a')){let str,p={};str=event.target.hostname+event.target.pathname;p.technicalName=str;window.utag_linkCallback('Footer',p);}else if(event.target.parentNode.matches('footer a')){let str,p={};str=event.target.parentNode.hostname+event.target.parentNode.pathname;p.technicalName=str;window.utag_linkCallback('Footer',p);}}catch(e){utag.DB(e)};},false);})();}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['page.category.category1']=='book'&&/outbound|inbound|seatmap|options|payment|passenger|login|openjaw|confirmation\-new|combined/.test(b['page.category.category2']))||b['dom.domain'].toString().indexOf('book')>-1){var bClass={'f':'f','a':'f','o':'f','j':'c','c':'c','d':'c','z':'c','p':'c','i':'c','r':'c','y':'y','b':'y','m':'y','u':'y','h':'y','q':'y','v':'y','w':'y','s':'y','t':'y','x':'y','n':'y','l':'y','k':'y'};function daysTil(laterDate,soonerDate){var then=new Date(laterDate);var now=new Date(soonerDate);return Math.floor((new Date(then.getFullYear(),then.getMonth(),then.getDate())-new Date(now.getFullYear(),now.getMonth(),now.getDate()))/8.64e7);}
function getAllIndexes(arr,val){var indexes=[],i;for(i=0;i<arr.length;i++){if(arr[i]===val){indexes.push(i);}}
return indexes;}
function anxNames(x,y,val,jType){var anx=getAllIndexes(y,val),resultArr=[];for(var i=0;i<anx.length;i++){resultArr.push(x[anx[i]]);}
if(jType==="concat"){return resultArr.join(",");}else if(jType==="sum"){var anxTotal=0;for(var j=0;j<resultArr.length;j++){anxTotal+=parseFloat(resultArr[j]);}
return anxTotal;}}
if(typeof window.lhgData.transaction==="object"){b['booking.attributes.origin']=b['transaction.item.productInfo.origin'][0];b['booking.attributes.destination']=b['transaction.item.productInfo.destination'][0];b['booking.attributes.cabinClass']=bClass[b['transaction.item.productInfo.bookingClass'][0]];b['booking.attributes.departure']=b['transaction.item.productInfo.departure'][0];b['booking.attributes.arrival']=b['transaction.item.productInfo.arrival'].slice(-1)[0];b['booking.attributes.bundle']=b['transaction.item.productInfo.bundle'][0];b['booking.attributes.paxAdult']=b['transaction.item.attributes.paxAdult'][0];b['booking.attributes.paxChild']=b['transaction.item.attributes.paxChild'][0];b['booking.attributes.paxInfant']=b['transaction.item.attributes.paxInfant'][0];b['booking.attributes.paxTotal']=b['transaction.item.attributes.paxTotal'][0];b['booking.attributes.daysToDeparture']=daysTil(b['transaction.item.productInfo.departure'][0].replace(" ","T"),new Date());b['booking.attributes.bookingDate']=(new Date()).toISOString().substring(0,19).replace("T"," ");b['booking.attributes.ancillaryNames']=anxNames(b["transaction.item.productInfo.productName"],b["transaction.item.category.category1"],"ancillary","concat");b['booking.attributes.operatingCarriers']=anxNames(b["transaction.item.productInfo.segment.oCarrier"],b["transaction.item.category.category1"],"flight","concat");b['transaction.total.ancillariesTotal']=anxNames(b["transaction.item.price.basePrice"],b["transaction.item.category.category1"],"ancillary","sum");b['booking.attributes.lengthOfStay']=daysTil(b['booking.attributes.arrival'].replace(" ","T"),b['booking.attributes.departure'].replace(" ","T"));b['booking.attributes.tripType']=b['transaction.item.category.category2'][0];}
else if(typeof window.lhgData.cart==="object"&&window.lhgData.cart.item.length>1){b['booking.attributes.origin']=b['cart.item.productInfo.origin'][0];b['booking.attributes.destination']=b['cart.item.productInfo.destination'][0];b['booking.attributes.cabinClass']=bClass[b['cart.item.productInfo.bookingClass'][0]];b['booking.attributes.departure']=b['cart.item.productInfo.departure'][0];b['booking.attributes.arrival']=b['cart.item.productInfo.arrival'].slice(-1)[0];b['booking.attributes.bundle']=b['cart.item.productInfo.bundle'][0];b['booking.attributes.paxAdult']=b['cart.item.attributes.paxAdult'][0];b['booking.attributes.paxChild']=b['cart.item.attributes.paxChild'][0];b['booking.attributes.paxInfant']=b['cart.item.attributes.paxInfant'][0];b['booking.attributes.paxTotal']=b['cart.item.attributes.paxTotal'][0];b['booking.attributes.daysToDeparture']=daysTil(b['cart.item.productInfo.departure'][0].replace(" ","T"),new Date());b['booking.attributes.lengthOfStay']=daysTil(b['booking.attributes.arrival'].replace(" ","T"),b['booking.attributes.departure'].replace(" ","T"));b['booking.attributes.tripType']=b['cart.item.category.category2'][0];}else if(typeof window.lhgData.cart==="object"&&window.lhgData.cart.item.length===1){b['booking.attributes.origin']=b['cart.item.productInfo.origin'][0];b['booking.attributes.destination']=b['cart.item.productInfo.destination'][0];b['booking.attributes.cabinClass']=bClass[b['cart.item.productInfo.bookingClass'][0]];b['booking.attributes.departure']=b['cart.item.productInfo.departure'][0];if(b['conversion.funnel.funnelName']==='bbf'||b['conversion.funnel.funnelName']==='bba'||b['conversion.funnel.funnelName']==='bbs'){b['booking.attributes.arrival']=b['filter.element.userInput'][3];}else if(b['conversion.funnel.funnelName']==='bbm'){b['booking.attributes.arrival']=b['filter.element.userInput'].slice(-6,-5)[0];}else if(b['conversion.funnel.funnelName']==='bbg'){b['booking.attributes.arrival']=b['filter.filterInfo.term'].split('/')[2].replace('to-','');}else{b['booking.attributes.arrival']="(not set)";}
b['booking.attributes.bundle']=b['cart.item.productInfo.bundle'][0];b['booking.attributes.paxAdult']=b['cart.item.attributes.paxAdult'][0];b['booking.attributes.paxChild']=b['cart.item.attributes.paxChild'][0];b['booking.attributes.paxInfant']=b['cart.item.attributes.paxInfant'][0];b['booking.attributes.paxTotal']=b['cart.item.attributes.paxTotal'][0];b['booking.attributes.daysToDeparture']=daysTil(b['cart.item.productInfo.departure'][0].replace(" ","T"),new Date());b['booking.attributes.lengthOfStay']=daysTil(b['booking.attributes.arrival'].replace(" ","T"),b['booking.attributes.departure'].replace(" ","T"));b['booking.attributes.tripType']=b['cart.item.category.category2'][0];}else{var bookingObj={};var ca=utag.loader.RC('booking').split('&');(function(){for(var i=0;i<ca.length;i++){var cur=ca[i].split('=');bookingObj[cur[0]]=cur[1];}})();b['js_page.window.tmParam.journey_selection']
b['booking.attributes.tripType']=b['product.category.category2'][0]||b['js_page.window.tmParam.journey_selection'].replace("flight-","").replace("-","")||"(not set)";b['booking.attributes.origin']=bookingObj['o'].toLowerCase()||"(not set)";b['booking.attributes.destination']=bookingObj['d'].toLowerCase()||"(not set)";if(bookingObj['od']){var d=new Date(bookingObj['od']);b['booking.attributes.departure']=new Date(d-d.getTimezoneOffset()*60000).toISOString().replace("T"," ").replace("Z","").replace(".000","")||"(not set)";}
b['booking.attributes.daysToDeparture']=daysTil(b['booking.attributes.departure'].replace(" ","T"),new Date())||"(not set)";b['booking.attributes.bundle']="(not set)";b['booking.attributes.cabinClass']=bookingObj['sc'].toLowerCase()||"(not set)";b['booking.attributes.paxAdult']=bookingObj['adt']||"0";b['booking.attributes.paxChild']=bookingObj['chd']||"0";b['booking.attributes.paxInfant']=bookingObj['inf']||"0";b['booking.attributes.paxTotal']=(parseInt(b['booking.attributes.paxAdult'])+parseInt(b['booking.attributes.paxChild'])).toString();if(b['booking.attributes.tripType']==="roundtrip"){if(b['conversion.funnel.funnelName']==='bbf'||b['conversion.funnel.funnelName']==='bba'||b['conversion.funnel.funnelName']==='bbs'){b['booking.attributes.arrival']=b['filter.element.userInput'][3]+" 00:00:00"||"(not set)";}else if(b['conversion.funnel.funnelName']==='bbg'){b['booking.attributes.arrival']=b['filter.filterInfo.term'].split('/')[2].replace('to-','')+" 00:00:00"||"(not set)";}else{b['booking.attributes.arrival']="(not set)";}
b['booking.attributes.lengthOfStay']=daysTil(b['booking.attributes.arrival'].replace(" ","T"),b['booking.attributes.departure'].replace(" ","T"))||"(not set)";}else{b['booking.attributes.arrival']="(not set)";b['booking.attributes.lengthOfStay']="(not set)";}}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['page.category.category1']=='book'&&/outbound|inbound|seatmap|options|payment|passenger|login|openjaw|confirmation\-new|combined/.test(b['page.category.category2']))){try{var depDate=new Date(utag_data["booking.attributes.departure"])
var depweekday=depDate.getDay();if(utag_data["booking.attributes.daysToDeparture"]>=42){if(utag_data["booking.attributes.lengthOfStay"]>=3){utag_data["booking.attributes.estimated_trip_reason"]='leis';}else{if(depweekday==5||depweekday==6){utag_data["booking.attributes.estimated_trip_reason"]='leis';}else{utag_data["booking.attributes.estimated_trip_reason"]='corp';}}}else{if(utag_data["booking.attributes.lengthOfStay"]>=7){utag_data["booking.attributes.estimated_trip_reason"]='leis';}else{utag_data["booking.attributes.estimated_trip_reason"]='corp';}}}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){utag.ut.md5=function(t,n){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!=typeof global&&global.crypto&&(r=global.crypto),!r&&"function"==typeof require)try{r=require("crypto")}catch(t){}var e=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(n){var r;return t.prototype=n,r=new t,t.prototype=null,r}}(),o={},s=o.lib={},a=s.Base={extend:function(t){var n=i(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=a.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:4*t.length},toString:function(t){return(t||f).stringify(this)},concat:function(t){var n=this.words,r=t.words,e=this.sigBytes,i=t.sigBytes;if(this.clamp(),e%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;n[e+o>>>2]|=s<<24-(e+o)%4*8}else for(o=0;o<i;o+=4)n[e+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var n=this.words,r=this.sigBytes;n[r>>>2]&=4294967295<<32-r%4*8,n.length=t.ceil(r/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(e());return new c.init(n,t)}}),u=o.enc={},f=u.Hex={stringify:function(t){for(var n=t.words,r=t.sigBytes,e=[],i=0;i<r;i++){var o=n[i>>>2]>>>24-i%4*8&255;e.push((o>>>4).toString(16)),e.push((15&o).toString(16))}return e.join("")},parse:function(t){for(var n=t.length,r=[],e=0;e<n;e+=2)r[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4;return new c.init(r,n/2)}},h=u.Latin1={stringify:function(t){for(var n=t.words,r=t.sigBytes,e=[],i=0;i<r;i++){var o=n[i>>>2]>>>24-i%4*8&255;e.push(String.fromCharCode(o))}return e.join("")},parse:function(t){for(var n=t.length,r=[],e=0;e<n;e++)r[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new c.init(r,n)}},d=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},l=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var r,e=this._data,i=e.words,o=e.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,f=t.min(4*u,o);if(u){for(var h=0;h<u;h+=s)this._doProcessBlock(i,h);r=i.splice(0,u),e.sigBytes-=f}return new c.init(r,f)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(s.Hasher=l.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,r){return new t.init(r).finalize(n)}},_createHmacHelper:function(t){return function(n,r){return new p.HMAC.init(t,r).finalize(n)}}}),o.algo={});return o}(Math);(function(t){var n=utag.ut.md5,r=n.lib,e=r.WordArray,i=r.Hasher,o=n.algo,s=[];!function(){for(var n=0;n<64;n++)s[n]=4294967296*t.abs(t.sin(n+1))|0}();var a=o.MD5=i.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,n){for(var r=0;r<16;r++){var e=n+r,i=t[e];t[e]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[n+0],d=t[n+1],l=t[n+2],p=t[n+3],y=t[n+4],g=t[n+5],w=t[n+6],v=t[n+7],_=t[n+8],m=t[n+9],B=t[n+10],x=t[n+11],b=t[n+12],S=t[n+13],H=t[n+14],z=t[n+15],C=o[0],M=o[1],A=o[2],D=o[3];C=c(C,M,A,D,a,7,s[0]),D=c(D,C,M,A,d,12,s[1]),A=c(A,D,C,M,l,17,s[2]),M=c(M,A,D,C,p,22,s[3]),C=c(C,M,A,D,y,7,s[4]),D=c(D,C,M,A,g,12,s[5]),A=c(A,D,C,M,w,17,s[6]),M=c(M,A,D,C,v,22,s[7]),C=c(C,M,A,D,_,7,s[8]),D=c(D,C,M,A,m,12,s[9]),A=c(A,D,C,M,B,17,s[10]),M=c(M,A,D,C,x,22,s[11]),C=c(C,M,A,D,b,7,s[12]),D=c(D,C,M,A,S,12,s[13]),A=c(A,D,C,M,H,17,s[14]),C=u(C,M=c(M,A,D,C,z,22,s[15]),A,D,d,5,s[16]),D=u(D,C,M,A,w,9,s[17]),A=u(A,D,C,M,x,14,s[18]),M=u(M,A,D,C,a,20,s[19]),C=u(C,M,A,D,g,5,s[20]),D=u(D,C,M,A,B,9,s[21]),A=u(A,D,C,M,z,14,s[22]),M=u(M,A,D,C,y,20,s[23]),C=u(C,M,A,D,m,5,s[24]),D=u(D,C,M,A,H,9,s[25]),A=u(A,D,C,M,p,14,s[26]),M=u(M,A,D,C,_,20,s[27]),C=u(C,M,A,D,S,5,s[28]),D=u(D,C,M,A,l,9,s[29]),A=u(A,D,C,M,v,14,s[30]),C=f(C,M=u(M,A,D,C,b,20,s[31]),A,D,g,4,s[32]),D=f(D,C,M,A,_,11,s[33]),A=f(A,D,C,M,x,16,s[34]),M=f(M,A,D,C,H,23,s[35]),C=f(C,M,A,D,d,4,s[36]),D=f(D,C,M,A,y,11,s[37]),A=f(A,D,C,M,v,16,s[38]),M=f(M,A,D,C,B,23,s[39]),C=f(C,M,A,D,S,4,s[40]),D=f(D,C,M,A,a,11,s[41]),A=f(A,D,C,M,p,16,s[42]),M=f(M,A,D,C,w,23,s[43]),C=f(C,M,A,D,m,4,s[44]),D=f(D,C,M,A,b,11,s[45]),A=f(A,D,C,M,z,16,s[46]),C=h(C,M=f(M,A,D,C,l,23,s[47]),A,D,a,6,s[48]),D=h(D,C,M,A,v,10,s[49]),A=h(A,D,C,M,H,15,s[50]),M=h(M,A,D,C,g,21,s[51]),C=h(C,M,A,D,b,6,s[52]),D=h(D,C,M,A,p,10,s[53]),A=h(A,D,C,M,B,15,s[54]),M=h(M,A,D,C,d,21,s[55]),C=h(C,M,A,D,_,6,s[56]),D=h(D,C,M,A,z,10,s[57]),A=h(A,D,C,M,w,15,s[58]),M=h(M,A,D,C,S,21,s[59]),C=h(C,M,A,D,y,6,s[60]),D=h(D,C,M,A,x,10,s[61]),A=h(A,D,C,M,l,15,s[62]),M=h(M,A,D,C,m,21,s[63]),o[0]=o[0]+C|0,o[1]=o[1]+M|0,o[2]=o[2]+A|0,o[3]=o[3]+D|0},_doFinalize:function(){var n=this._data,r=n.words,e=8*this._nDataBytes,i=8*n.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(e/4294967296),s=e;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var f=c[u];c[u]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return a},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,n,r,e,i,o,s){var a=t+(n&r|~n&e)+i+s;return(a<<o|a>>>32-o)+n}function u(t,n,r,e,i,o,s){var a=t+(n&e|r&~e)+i+s;return(a<<o|a>>>32-o)+n}function f(t,n,r,e,i,o,s){var a=t+(n^r^e)+i+s;return(a<<o|a>>>32-o)+n}function h(t,n,r,e,i,o,s){var a=t+(r^(n|~e))+i+s;return(a<<o|a>>>32-o)+n}n.MD5=i._createHelper(a),n.HmacMD5=i._createHmacHelper(a)}(Math));try{if(typeof b['pnr_hashed']!='undefined'&&b['pnr_hashed']!=''){b['pnr_hashed']=utag.ut.md5.MD5(b['pnr_hashed']).toString();}}catch(e){}},function(a,b){try{if((b['page.category.category2'].toString().indexOf('cookie-policy')>-1&&typeof b['cp.CONSENTMGR']!='undefined'&&b['cp.CONSENTMGR'].toString().indexOf('consent:false')>-1)||(b['page.category.category2'].toString().indexOf('privacy-statement')>-1&&typeof b['cp.CONSENTMGR']!='undefined'&&b['cp.CONSENTMGR'].toString().indexOf('consent:false')>-1)||b['js_page.navigator.userAgent'].toString().toLowerCase().indexOf('swiss_swiss'.toLowerCase())>-1){utag.gdpr.preferences_prompt.noShow=true;}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){function onDecibelReady(){if(utag_data!='undefined'){if(utag_data['transaction.total.transactionTotal']!='undefined'&&utag_data['page.category.category2']=="confirmation-new"){decibelInsight('sendGoal','TransactionTotal',utag_data['transaction.total.transactionTotal']);}
if(utag_data['errMsg']!='undefined'){decibelInsight('sendApplicationError',utag_data['errMsg']);}
if(utag_data['errInlineMsg']!='undefined'){decibelInsight('sendApplicationError',utag_data['errInlineMsg']);}}}
if(window.hasOwnProperty('decibelInsight')){decibelInsight('ready',onDecibelReady);}else{window['_da_ready']=onDecibelReady;}})();}}catch(e){utag.DB(e)}},function(a,b){try{if(typeof b['qp.utm_medium']!='undefined'){utag.loader.SC('utag_main',{'utmMediumCookie':b['qp.utm_medium']+';exp-'+((new Date()).getTime()+(14*864e5))+'u'});b['cp.utag_main_utmMediumCookie']=b['qp.utm_medium'];}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['qp.utm_term']!='undefined'){utag.loader.SC('utag_main',{'utmTermCookie':b['qp.utm_term']+';exp-'+((new Date()).getTime()+(14*864e5))+'u'});b['cp.utag_main_utmTermCookie']=b['qp.utm_term'];}}catch(e){utag.DB(e);}},function(a,b){try{if(1){var pageCountry;if(lhgData.page.pageInfo.country){b['pageCountry']=b['page.pageInfo.country'];}}}catch(e){utag.DB(e)}},function(a,b,c,d,e,f,g){if(1){d=b['pageCountry'];if(typeof d=='undefined')return;c=[{'australia':'au'},{'austria':'at'},{'belgium':'be'},{'bosnia and herzegovina':'ba'},{'brazil':'br'},{'canada':'ca'},{'china (mainland)':'cn'},{'croatia':'hr'},{'czech republic':'cz'},{'denmark':'dk'},{'egypt':'eg'},{'france':'fr'},{'germany':'de'},{'greece':'gr'},{'hong kong, china':'hk'},{'hungary':'hu'},{'india':'in'},{'ireland':'ie'},{'israel':'il'},{'italy':'it'},{'japan':'jp'},{'kenya':'ke'},{'luxembourg':'lu'},{'malta':'mt'},{'netherlands':'nl'},{'norway':'no'},{'oman':'om'},{'poland':'pl'},{'portugal':'pt'},{'republic of macedonia':'mk'},{'romania':'ro'},{'russian federation':'ru'},{'serbia':'rs'},{'singapore':'sg'},{'south africa':'za'},{'spain':'es'},{'sweden':'se'},{'switzerland':'ch'},{'tanzania':'tz'},{'thailand':'th'},{'ukraine':'ua'},{'united arab emirates':'ae'},{'united kingdom':'gb'},{'united states of america':'us'},{'argentina':'ar'},{'turkey':'tr'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['pageCountry']=c[e][f];m=true};};if(m)break};}},function(a,b){try{if(b['conversion.funnel.funnelStep'].toString().toLowerCase()=='alpi'.toLowerCase()){(function(){var isProd=utag.data['ut.env']!=='prod';function startBtnMonitor(){if(isProd){console.log("Start the Click listener");}
try{document.querySelectorAll("body#page-alpi #canvas .user-log .tabs-vertical div[role='form'] button").forEach(function(item){item.addEventListener('click',(event)=>{var loginType=(event.srcElement.tagName.toLowerCase()=='button')?event.srcElement.parentElement.parentElement.id:event.srcElement.parentElement.parentElement.parentElement.id;if(isProd){console.log("User clicked on "+loginType);}
var tableType={"Panel-LUFTHANSA_ID":'airline_id',"Panel-MILES_AND_MORE":'mam_number',"Panel-USERNAME":'mam_username'};var tmp=Object.assign({},utag_data);tmp.tealium_event="login alpi "+tableType[loginType];tmp.ga_eventCategory="login alpi",tmp.ga_eventAction="Click",tmp.ga_eventLabel=tableType[loginType],tmp.ga_nonInteraction=true;delete tmp['error.errorInfo.elementName'];delete tmp['error.errorInfo.type'];delete tmp['error.errorInfo.errorCode'];delete tmp['error.errorInfo.message'];if(isProd){console.log("Sending payload to GA");}
utag.link(tmp);});});}
catch(ex){}}
var nIntervId;function checkForBtns(){if(isProd){console.log("checking when buttons are in DOM");}
var oElem=document.querySelectorAll("body#page-alpi #canvas .user-log .tabs-vertical div[role='form'] button").length;if(oElem>0){if(isProd){console.log("buttons are in DOM");}
clearInterval(nIntervId);nIntervId=null;startBtnMonitor();}}
nIntervId=setInterval(checkForBtns,100);})();}}catch(e){utag.DB(e)}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[275]=='undefined'){utag.runonce.ext[275]=1;if(b['page.pageInfo.pageName'].toString().toLowerCase()=='udh-profile'.toLowerCase()||b['page.pageInfo.pageName'].toString().toLowerCase()=='my-account'.toLowerCase()){(function(){try{var miniapp={counter:0,innercounter:0,innerfn:function(){miniapp.innercounter++;var btn=document.querySelector("div > div > div.login-credential > form:nth-child(5) > div.simple-labelled-value.mb-0 > div > div.col-12.col-md-9 > div > div.d-flex.align-items-center.mt-3.mb-7 > div > button");if(btn){btn.addEventListener("click",function(evt){if(utag.data["tealium_environment"]==='prod'){window.location.href='https://swiss.miles-and-more.com/web/row/'+utag.data['language']+'/password-forgotten.html?redirect_uri=https://www.swiss.com&principal_type=EMAIL';}else if(utag.data["tealium_environment"]==='qa'){window.location.href='https://swiss-uat1.miles-and-more.com/web/row/'+utag.data['language']+'/password-forgotten.html?redirect_uri=https://www-qa.swiss.com&principal_type=EMAIL';}});}
else{if(miniapp.innercounter<100){window.setTimeout(miniapp.innerfn,250);}}},fn:function(){miniapp.counter++;var elem=document.querySelector("div > div > div.login-credential > div.text-right > button");if(elem){elem.addEventListener("click",function(ev){window.setTimeout(miniapp.innerfn,250);miniapp.counter=-20000;window.setTimeout(miniapp.fn,500);});}
else{if(miniapp.counter<1000){window.setTimeout(miniapp.fn,250);}}}};window.setTimeout(miniapp.fn,250);}
catch(ex){console.log(ex);}})();}}}catch(e){utag.DB(e)}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[273]=='undefined'){utag.runonce.ext[273]=1;if(b['page.pageInfo.pageName'].toString().toLowerCase()=='account-activation'.toLowerCase()){(function(){try{if(utag_data["user.profile.loginStatus"]=="true"){let tmp=Object.assign({},utag_data);tmp.ga4_event_name="ga4_account_activation";utag.link(tmp,null,[220]);}}
catch(ex){}})();}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['utm_term']!='undefined'&&b['utm_term']=='kayak')){utag.loader.SC('utag_main',{'kayak':b['clickID']+';exp-session'});b['cp.utag_main_kayak']=b['clickID'];}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['dwmwr']!='undefined'&&b['dwmwr']!=''){document.cookie="dwmwrcookie="+b['dwmwr']+";path=/;domain="+utag.cfg.domain+";expires=";b['cp.dwmwrcookie']=b['dwmwr'];}}catch(e){utag.DB(e);}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[234]=='undefined'){utag.runonce.ext[234]=1;if(b['dom.domain'].toString().toLowerCase().indexOf('book'.toLowerCase())>-1||b['dom.domain'].toString().toLowerCase().indexOf('wav.'.toLowerCase())>-1){(function(){try{let errCode=utag_data['error.errorInfo.errorCode'];if(errCode){let tmp=Object.assign({},utag_data);tmp.tealium_event='error view error message';tmp.event_category='error';tmp.event_action='view error message';tmp.event_label='error | '+errCode;tmp.error_counter=1;utag.link(tmp);}}
catch(ex){}})();(function(){try{let submit=false;let ec="";let el="";let banner=document.querySelector('[data-identifier="stage_0919_co2"], [data-identifier="teaser_co2"]');if(banner){submit=true;ec="stage teaser";el=banner.dataset.identifier;}
banner=document.querySelector(".dwm-content");if(banner){if(banner.id){if(banner.id.includes("Compensaid")){submit=true;ec="booking flow teaser";el="co2";}}}
if(submit){let tmp=Object.assign({},utag_data);tmp.tealium_event="view co2 teaser";tmp.event_category=ec;tmp.event_action="view";tmp.event_label=el;tmp.event_noninteraction=true;delete tmp['error.errorInfo.elementName'];delete tmp['error.errorInfo.type'];delete tmp['error.errorInfo.errorCode'];delete tmp['error.errorInfo.message'];utag.link(tmp);}}
catch(ex){}})();}}}catch(e){utag.DB(e)}}];utag.handler.cfg_extend=[{"blr":1,"alr":0,"id":"241","end":0,"bwq":0},{"blr":1,"alr":0,"end":0,"id":"148","bwq":0},{"blr":1,"alr":0,"id":"34","end":0,"bwq":0},{"blr":1,"alr":0,"id":"89","end":0,"bwq":0},{"bwq":0,"id":"88","end":0,"alr":0,"blr":1},{"id":"74","end":0,"bwq":0,"blr":1,"alr":0},{"bwq":0,"id":"15","end":0,"alr":0,"blr":1},{"end":0,"id":"242","bwq":0,"blr":1,"alr":0},{"blr":1,"alr":0,"id":"131","end":0,"bwq":0},{"blr":1,"alr":0,"id":"220","end":0,"bwq":0},{"bwq":0,"id":"221","end":0,"alr":0,"blr":1},{"end":0,"id":"274","bwq":0,"blr":1,"alr":0},{"blr":1,"alr":0,"end":0,"id":"259","bwq":0},{"blr":1,"alr":0,"id":"243","end":0,"bwq":0},{"bwq":0,"id":"244","end":0,"alr":0,"blr":1},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"291"},{"bwq":0,"end":0,"id":"292","alr":0,"blr":1},{"id":"245","end":0,"bwq":0,"blr":1,"alr":0},{"blr":1,"alr":0,"end":0,"id":"172","bwq":0},{"blr":1,"alr":0,"end":0,"id":"3","bwq":0},{"alr":0,"blr":1,"bwq":0,"id":"254","end":0},{"alr":0,"blr":1,"bwq":0,"end":0,"id":"260"},{"bwq":0,"end":0,"id":"268","alr":0,"blr":1},{"end":0,"id":"280","bwq":0,"blr":1,"alr":0},{"alr":1,"blr":0,"bwq":0,"end":0,"id":"232"},{"id":"60","end":0,"bwq":0,"blr":0,"alr":1},{"blr":0,"alr":1,"end":0,"id":"65","bwq":0},{"blr":0,"alr":1,"end":0,"id":"144","bwq":0},{"alr":1,"blr":0,"bwq":0,"id":"55","end":0},{"alr":1,"blr":0,"bwq":0,"end":0,"id":"206"},{"bwq":0,"id":"94","end":0,"alr":1,"blr":0},{"alr":1,"blr":0,"bwq":0,"id":"149","end":0},{"id":"84","end":0,"bwq":0,"blr":0,"alr":1},{"bwq":0,"end":0,"id":"147","alr":1,"blr":0},{"bwq":0,"end":0,"id":"156","alr":1,"blr":0},{"id":"159","end":0,"bwq":0,"blr":0,"alr":1},{"blr":0,"alr":1,"id":"160","end":0,"bwq":0},{"bwq":0,"id":"216","end":0,"alr":1,"blr":0},{"id":"152","end":0,"bwq":0,"blr":0,"alr":1},{"bwq":0,"id":"256","end":0,"alr":1,"blr":0},{"id":"275","end":0,"bwq":0,"blr":0,"alr":1},{"bwq":0,"id":"273","end":1,"alr":0,"blr":0},{"bwq":0,"end":1,"id":"85","alr":0,"blr":0},{"bwq":0,"id":"236","end":1,"alr":0,"blr":0},{"alr":0,"blr":0,"bwq":0,"end":1,"id":"234"}];utag.loader.initcfg=function(){utag.loader.cfg={"130":{load:(utag.cond[97]&&utag.cond[199]&&utag.cond[180]),tcat:1,send:0,v:202302061501,wait:0,tid:20060,src:"//tags.tiqcdn.com/utag/tiqapp/utag.currency.js"},"228":{load:1,tcat:9,send:1,v:202210311002,wait:0,tid:20010},"49":{load:(utag.cond[97]&&utag.cond[170]&&utag.cond[166]&&utag.cond[179]&&utag.cond[199]&&utag.cond[70]&&utag.cond[63]),tcat:2,send:1,v:202301301249,wait:1,tid:7110},"97":{load:(utag.cond[108]&&utag.cond[97]&&utag.cond[166]&&utag.cond[179]&&utag.cond[199]&&utag.cond[84]&&utag.cond[85]),tcat:4,send:1,v:202301301249,wait:1,tid:4049},"6":{load:(utag.cond[97]&&utag.cond[11]&&utag.cond[199]&&utag.cond[32]),tcat:2,send:1,v:202206080857,wait:1,tid:7001},"95":{load:(utag.cond[97]&&utag.cond[199]&&utag.cond[73]),tcat:1,send:1,v:202206080857,wait:1,tid:7125},"20":{load:(utag.cond[108]&&utag.cond[97]&&utag.cond[12]&&utag.cond[199]&&utag.cond[62]&&utag.cond[32]&&utag.cond[110]),tcat:2,send:1,v:202301301249,wait:1,tid:11016},"66":{load:(utag.cond[108]&&utag.cond[97]&&utag.cond[51]&&utag.cond[199]&&utag.cond[32]&&utag.cond[110]),tcat:2,send:1,v:202206080857,wait:1,tid:20010},"216":{load:(utag.cond[179]&&utag.cond[191]&&utag.cond[199]&&utag.cond[189]&&utag.cond[190]&&utag.cond[188]&&utag.cond[203]),tcat:3,send:1,v:202212141241,wait:1,tid:20010},"161":{load:(utag.cond[187]&&utag.cond[179]&&utag.cond[199]),tcat:2,send:1,v:202209210724,wait:1,tid:4027},"173":{load:(utag.cond[108]&&utag.cond[97]&&utag.cond[101]&&utag.cond[100]&&utag.cond[49]&&utag.cond[199]&&utag.cond[84]),tcat:2,send:1,v:202206080857,wait:1,tid:20010},"175":{load:(utag.cond[108]&&utag.cond[97]&&utag.cond[109]&&utag.cond[100]&&utag.cond[199]&&utag.cond[32]&&utag.cond[110]&&utag.cond[63]),tcat:2,send:1,v:202209150808,wait:1,tid:20010},"153":{load:(utag.cond[97]&&utag.cond[179]&&utag.cond[199]),tcat:8,send:1,v:202301301249,wait:1,tid:20064},"193":{load:(utag.cond[191]&&utag.cond[199]&&utag.cond[189]&&utag.cond[190]&&utag.cond[188]),tcat:3,send:1,v:202212141241,wait:1,tid:20010},"195":{load:(utag.cond[10]&&utag.cond[199]&&utag.cond[32]),tcat:2,send:1,v:202208171116,wait:1,tid:7141},"206":{load:(utag.cond[97]&&utag.cond[171]&&utag.cond[179]),tcat:2,send:1,v:202301301249,wait:1,tid:7110},"220":{load:(utag.cond[97]&&utag.cond[179]),tcat:1,send:1,v:202301301249,wait:1,tid:7142},"208":{load:(utag.cond[108]&&utag.cond[97]&&utag.cond[165]&&utag.cond[199]&&utag.cond[84]),tcat:4,send:1,v:202209260648,wait:1,tid:4049},"212":{load:(utag.cond[178]&&utag.cond[199]),tcat:2,send:1,v:202301301249,wait:1,tid:7133},"214":{load:(utag.cond[181]&&utag.cond[199]&&utag.cond[183]&&utag.cond[182]),tcat:2,send:1,v:202206080857,wait:1,tid:20010},"215":{load:(utag.cond[108]&&utag.cond[97]&&utag.cond[165]&&utag.cond[199]&&utag.cond[84]&&utag.cond[202]),tcat:4,send:1,v:202301301249,wait:1,tid:6037},"222":{load:(utag.cond[193]&&utag.cond[199]),tcat:1,send:1,v:202212061656,wait:1,tid:20010,src:"//www.lufthansa.com/digitalassistant/cognigy_chatbot.js"},"224":{load:(utag.cond[178]&&utag.cond[191]&&utag.cond[199]&&utag.cond[189]&&utag.cond[190]&&utag.cond[188]),tcat:3,send:1,v:202212141241,wait:1,tid:20010},"225":{load:(utag.cond[178]&&utag.cond[199]),tcat:1,send:1,v:202301301249,wait:1,tid:7142},"227":{load:utag.cond[201],tcat:9,send:1,v:202210311002,wait:1,tid:20010},"230":{load:(utag.cond[204]&&utag.cond[32]),tcat:4,send:1,v:202212141241,wait:1,tid:7132}};utag.loader.cfgsort=["130","228","49","97","6","95","20","66","216","161","173","175","153","193","195","206","220","208","212","214","215","222","224","225","227","230"];}
utag.loader.initcfg();try{utag.gdpr.applyConsentState();}catch(e){utag.DB(e)}}
utag.gdpr={trackUIDs:[],consent_prompt:{noShow:false,isEnabled:true,content:{}},preferences_prompt:{single_cookie:false,noShow:false,isEnabled:true,defaultState:false,content:{},categories:{"search":{"enabled":"1","id":4},"personalization":{"id":6,"enabled":"1"},"big_data":{"enabled":"1","id":8},"cdp":{"id":11,"enabled":"1"},"cookiematch":{"id":10,"enabled":"1"},"mobile":{"enabled":"1","id":12},"monitoring":{"enabled":"1","id":14},"analytics":{"enabled":"1","id":1},"misc":{"id":9,"enabled":"1"},"display_ads":{"id":3,"enabled":"1"},"social":{"id":7,"enabled":"1"},"crm":{"enabled":"1","id":15},"email":{"enabled":"1","id":5},"engagement":{"enabled":"1","id":13},"affiliates":{"id":2,"enabled":"1"}}},doNotSell:{noShow:false,isEnabled:false},getCategories:function(onlyEnabledCats){if(!(utag.gdpr.preferences_prompt&&utag.gdpr.preferences_prompt.categories)){return[];}
var length=utag.gdpr.keys(utag.gdpr.preferences_prompt.categories).length,cats=new Array(length),gdpr_cats=utag.gdpr.preferences_prompt.categories;for(var cat in gdpr_cats){if(!gdpr_cats.hasOwnProperty(cat)){continue;}
var isCatEnabled=gdpr_cats[cat].enabled===true||gdpr_cats[cat].enabled==1;if(onlyEnabledCats&&!isCatEnabled){continue;}
cats[gdpr_cats[cat].id-1]=cat;}
for(var i=cats.length-1;i>=0;i--){if(cats[i]===undefined){cats.splice(i,1);}}
return cats;},getSelectedCategories:function(){var sc=[],gc=utag.gdpr.getCategories(),cs=utag.gdpr.getConsentState(),i;try{if(typeof cs==="number"){return(parseInt(cs)===1)?gc:sc;}else{for(i in utag.loader.GV(cs)){if("1"===cs[i].ct){sc.push(gc[i]);}}}}
catch(e){utag.DB(e);}
return sc;},getCategoryLanguage:function(category){if(!(utag.gdpr.preferences_prompt&&utag.gdpr.preferences_prompt.categories)){return[];}
var language=utag.gdpr.getLanguage(utag.gdpr.preferences_prompt);return utag.gdpr.preferences_prompt.languages[language].categories[category];},getConsentState:function(){var re=/^c\d+/,cd=utag.gdpr.getCookieValues(),np=1,gc=utag.gdpr.getCategories(),pc=(function(gc){var pc=[];for(var i=0;i<gc.length;i++){pc.push({ct:null,name:gc[i]});}
return pc;}(gc)),filteredCD=(function(cd){var d={};for(var prop in cd){if(!cd.hasOwnProperty(prop)){continue;}
if(re.test(prop)){d[prop]=cd[prop];}}
return d;}(cd));filteredCD=utag.gdpr.sortedObject(filteredCD,function(val1,val2){var idx1=parseInt((val1||"").substring(1),10),idx2=parseInt((val2||"").substring(1),10);if(isNaN(idx1)||isNaN(idx2)){return 0;}
return idx1>idx2?1:-1;});for(var cn in utag.loader.GV(filteredCD)){if(cn.match(re)){var idx=parseInt(cn.substring(1),10)-1,ct=gc[idx];pc[idx].ct=cd[cn];if(cd[cn]*1!==1){np=0;}}}
if(cd.consent){if(cd.consent===true||cd.consent==="true"){return np?np:pc;}else{return-1;}}else if(np===0){return pc;}else{return 0;}},getCookieValues:function(){var values={},rcd=(function(){var value="; "+document.cookie;var parts=value.split("; "+utag.gdpr.cookieNS+"=");if(parts.length==2)return utag.ut.decode(parts.pop().split(";").shift());}()),cd=utag.gdpr.typeOf(rcd)==="string"?rcd:"";if(utag.data&&cd){utag.data["cp."+utag.gdpr.cookieNS]=cd;}
if(cd){var i,optOut,optOutData=decodeURI(cd).split("|");for(i=0;i<optOutData.length;i++){optOut=optOutData[i].split(":");values[optOut[0]]=optOut[1];}}
utag.gdpr.values=values;return values;},getDeTokenizedContent:function(data,_lang){if(utag.gdpr.isEmpty(data))return null;var tokenRegExpPattern=/{{(.*?)}}/gm,token_match=/[{}]/g,two_part=/display_ads|big_data/;var lang=utag.gdpr.getLanguage(data,_lang),langData=utag.gdpr.clone(data.languages[lang]);for(var t1 in utag.gdpr.sortedObject(langData.common_tokens)){if(!langData.common_tokens.hasOwnProperty(t1)){continue;}
langData.common_tokens[t1]=tokenReplace(langData.common_tokens[t1]);}
for(var t2 in utag.gdpr.sortedObject(langData.custom_tokens)){if(!langData.custom_tokens.hasOwnProperty(t2)){continue;}
langData.custom_tokens[t2]=tokenReplace(langData.custom_tokens[t2]);}
function tokenReplace(str){if(!str)return str;var replacements=str.match(tokenRegExpPattern);if(!replacements)return str;for(var i=0;i<replacements.length;i++){var token=replacements[i].replace(token_match,"")||"";var regExpReplaceAll=new RegExp(replacements[i],"g");if(langData.common_tokens[token]){str=str.replace(regExpReplaceAll,langData.common_tokens[token]);}else if(langData.custom_tokens[token]){str=str.replace(regExpReplaceAll,langData.custom_tokens[token]);}else if(langData.categories&&token.indexOf("category_")>-1){var split_token=token.split("_");if(token.match(two_part)){split_token[1]=split_token[1]+"_"+split_token[2];split_token.splice(2,1);}
var category=langData.categories[split_token[1]],key={"title":"name","description":"notes"}[split_token[2]];if(category[key]){str=str.replace(regExpReplaceAll,category[key]);}}}
return str;}
return{language:lang,tokens:langData,js:tokenReplace(data.content.js),html:tokenReplace(data.content.html),css:tokenReplace(data.content.css)};},getLanguage:function(promptData,preferredLang){var udoName=window.utag.udoname||"utag_data";var dataObject=window.utag.data||window[udoName];var langLocale=(preferredLang||dataObject[window.utag.cfg.gdprDLRef]||(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)).toLowerCase();var lang=(langLocale||"").split("-")[0];if(!promptData){return langLocale;}
var languages=promptData.languages;return languages[langLocale]?langLocale:languages[lang]?lang:promptData.defaultLang;},getTokenLanguage:function(promptData,token,lang){if(utag.gdpr.isEmpty(promptData))return null;if(utag.gdpr.isEmpty(token))return null;var getDeTokenizedContent=utag.gdpr.getDeTokenizedContent(promptData,lang);var langData=getDeTokenizedContent.tokens;if(lang&&getDeTokenizedContent.language!==lang)return null;if(utag.gdpr.isEmpty(langData))return null;if(langData.common_tokens[token]){return langData.common_tokens[token];}else if(langData.custom_tokens[token]){return langData.custom_tokens[token];}else if(langData.categories&&token.indexOf("category_")>-1){var split_token=token.split("_"),category=langData.categories[split_token[1]];if(category[split_token[2]]){return category[split_token[2]];}}
return null;},refreshCookie:function(){if(utag&&utag.DB){utag.DB("utag.gdpr.refreshCookie has been deprecated");}},setCookie:function(cookieData){utag.DB("Consent Manager: Set Cookie");if(utag.gdpr.typeOf(cookieData)!=="object"){return;}
if(utag.gdpr.keys(cookieData).length===0){return;}
var consentType=utag.gdpr.typeOf(cookieData.consent);if(consentType==="number"){cookieData.consent=cookieData.consent==1;consentType=utag.gdpr.typeOf(cookieData.consent);}
if(consentType!=="boolean"&&!(consentType==="string"&&(cookieData.consent.toLowerCase()==="true"||cookieData.consent.toLowerCase()==="false"))){utag.DB("Invalid option sent to setCookie [consent must be true/false]");return;}
if(utag.gdpr.typeOf(cookieData.ts)!=="number"||(cookieData.ts.toString().length!==13)){cookieData.ts=new Date().getTime();}
utag.gdpr.values=cookieData;var mo2Val=[];for(var i in utag.loader.GV(cookieData)){if(/^(consent|dns|ts|c\d+)$/.test(i)){mo2Val.push(i+":"+cookieData[i]);}else{utag.DB("Invalid option sent to setCookie ["+i+"], is unknown");}}
var daysToSet=utag.gdpr.consentPeriod;if(!daysToSet){var expiryMonths=cookieData.dns==undefined?12:13;var today=new Date();today.setMonth(today.getMonth()+expiryMonths);daysToSet=Math.ceil((today.getTime()-new Date().getTime())/(1000*60*60*24));}
var expiry=new Date(cookieData.ts);expiry.setDate(expiry.getDate()+daysToSet);var cookie_string=[utag.gdpr.cookieNS+"="+encodeURI(mo2Val.join("|")),"path="+utag.gdpr.path,"expires="+expiry.toGMTString()];if(utag.gdpr.domain){cookie_string.push("domain="+utag.gdpr.domain);}
document.cookie=cookie_string.join("; ");utag.data["cp."+utag.gdpr.cookieNS]=mo2Val.join("|");},defaultConsentForDoNotSell:function(key,cookieData){if(key==='dns'){var consentType=utag.gdpr.typeOf(cookieData.consent);if(consentType==="undefined"){utag.DB("Consent Manager: Defaulting missing consent for Do Not Sell.");cookieData.consent="true";}}
return cookieData;},setCookieValue:function(key,value){utag.DB("Consent Manager: Set Cookie Value");if(!key||(utag.gdpr.typeOf(value)==="undefined"||utag.gdpr.typeOf(value)==="null"))return;var cookieData=utag.handler.C(utag.gdpr.getCookieValues());cookieData[key]=value;cookieData=utag.gdpr.defaultConsentForDoNotSell(key,cookieData);utag.gdpr.setCookie(cookieData);},setConsentValue:function(_response){utag.DB("Consent Manager: Set Consent Value: "+_response);var valid={true:1,"true":1,1:1,false:0,"false":0,0:0};if(!valid.hasOwnProperty(_response)){throw new Error("No response supplied");}
var response=valid[_response]===1;utag.gdpr.setCookieValue("ts",new Date().getTime());utag.gdpr.setCookieValue("consent",response);utag.gdpr.processQueue(response);},setPreferencesValues:function(categories,noCollect){utag.DB("Consent Manager: Set Preferences Values");var i,fld,cookie_data=utag.gdpr.getCookieValues(),lookup={},rgx=/\D/,names=utag.gdpr.getCategories(),chosen_list=[],consent_seen=false,decline_seen=false,crgx=/c\d/;if(utag.gdpr.typeOf(categories)!=="object"){utag.DB("Categories is not type object.");return;}
try{for(i=0;i<names.length;i++){lookup[names[i]]="c"+(i+1);}
for(var cat in categories){if(!categories.hasOwnProperty(cat)){continue;}
if(categories[cat]!=="1"&&categories[cat]!=="0"&&categories[cat]!==1&&categories[cat]!==0){continue;}
if(cat.match(rgx)){cookie_data[lookup[cat]]=categories[cat];if(categories[cat]!=0){chosen_list.push(cat);}}else{cookie_data["c"+cat]=categories[cat];if(categories[cat]!=0){chosen_list.push(names[cat-1]);}}}
for(fld in utag.loader.GV(cookie_data)){if(fld.match(crgx)){if(cookie_data[fld]!=0){consent_seen=true;}else{decline_seen=true;}}}
cookie_data["ts"]=new Date().getTime();cookie_data["consent"]=consent_seen;utag.gdpr.setCookie(cookie_data);utag.gdpr.processQueue(consent_seen);}
catch(e){utag.DB(e);}
if(noCollect){return;}},setAllCategories:function(state,noCollect){utag.DB("Consent Manager: Set Preferences All Categories: "+state);if(state===undefined)return;if(utag.gdpr.typeOf(state)!=="boolean")return;var allCats=utag.gdpr.getCategories(),prefs={};for(var i=0;i<allCats.length;i++){prefs[""+(i+1)]=state?"1":"0";}
utag.gdpr.setPreferencesValues(prefs,noCollect);},setPreferencesFromList:function(list){utag.DB("Consent Manager: Set Preferences From List");var prefs={},allCats=utag.gdpr.getCategories();if(utag.gdpr.typeOf(list)!=="array"){utag.DB("List should be of type array");return;}
for(var i=0;i<list.length;i++){prefs[list[i]]="1";}
for(var j=0;j<allCats.length;j++){if(!prefs[allCats[j]]){prefs[allCats[j]]="0";}}
utag.gdpr.setPreferencesValues(prefs);},processQueue:function(consent_seen){utag.DB("Consent Manager: Processing Consent Queue");if(utag.gdpr.noqueue){return;}
if(!consent_seen){utag.gdpr.queue=[];return;}
utag.DB("Consent Manager: Processing Consent Queue Length: "+utag.gdpr.queue.length);var event,data,conds={};utag.gdpr.merge(conds,utag.cond);for(var i=0;i<utag.gdpr.queue.length;i++){event=utag.gdpr.queue[i];if(!(event.cfg&&event.cfg.uids)){data={};utag.loader.RD(data,event.event);utag.gdpr.merge(data,event.data,true);for(var cond in conds){if(!conds.hasOwnProperty(cond)){continue;}
conds[cond]=0;}
utag.handler.RE(event.event,data,"blr");utag.loader.loadrules(data,conds);event.cfg=event.cfg||{};event.cfg.uids=[];event.data=data;utag.cond=conds;utag.loader.initcfg();utag.gdpr.applyConsentState();var consentState=utag.gdpr.getConsentState();var csType=utag.gdpr.typeOf(consentState);for(var id in utag.loader.GV(utag.loader.cfg)){if(utag.gdpr.omittedTags[id])continue;var tag=utag.loader.cfg[id];if(tag.load&&tag.send){if(tag.tcat!==0){if((csType==="array"&&consentState[tag.tcat-1].ct=="1")||(csType==="number"&&consentState==1)){event.cfg.uids.push(id);}}else if(tag.tcat===0){event.cfg.uids.push(id);}}}}
if(event.cfg.uids){utag.gdpr.trackUIDs=utag.gdpr.trackUIDs.concat(event.cfg.uids);}
utag.track_old.call(this,event);}
utag.gdpr.queue=[];},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d];}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")
a[d]=b[d];}}},shouldTagFire:function(taguid){if(!taguid&&utag.gdpr.typeOf(utag.gdpr.trackUIDs)!=="array")return true;var lc=utag.loader.cfg,cs=utag.gdpr.getConsentState(),uid=taguid||utag.gdpr.trackUIDs.shift();if(utag.gdpr.typeOf(uid)==="undefined")return true;utag.DB("Consent Manager: Applying consent: "+uid);var csTYpe=utag.gdpr.typeOf(cs);var tag=lc[uid];var blockedTagLookup=utag.gdpr.dns?utag.gdpr.dns.getBlockedDnsTagLookup():{};if(!utag.gdpr.omittedTags[uid]&&tag.send&&tag.tcat!==0){if((csTYpe==="array"&&cs[tag.tcat-1].ct=="1")||(csTYpe==="number"&&cs==1)||parseInt(blockedTagLookup[uid])===1){utag.DB("Consent Manager: Applying consent: "+uid+" allowed to send");return false;}}else if((utag.gdpr.omittedTags[uid]||tag.tcat==0)&&tag.send){utag.DB("Consent Manager: Omitted Tag: "+uid+" allowed to send");return false;}
utag.DB("Consent Manager: Applying consent: "+uid+" not allowed to send");return true;},applyConsentState:function(){utag.DB("Consent Manager: Applying consent");try{var i,lc=utag.loader.cfg,cs=utag.gdpr.getConsentState(),ot=utag.gdpr.omittedTags;if(typeof cs==="number"){if((utag.gdpr.consent_prompt.isEnabled&&parseInt(cs)!==1)||((!utag.gdpr.consent_prompt.isEnabled&&utag.gdpr.preferences_prompt.isEnabled)&&parseInt(cs)===-1)){utag.DB("Consent Manager: Setting all tags to off");for(i in utag.loader.GV(lc)){if(typeof ot[i]==="undefined"){lc[i].load=0;}}}}else if(utag.gdpr.consent_prompt.isEnabled||utag.gdpr.preferences_prompt.isEnabled){utag.DB("Consent Manager: Partial Consent");for(i in utag.loader.GV(lc)){if(typeof ot[i]==="undefined"){if(lc[i].tcat>0&&cs[lc[i].tcat-1].ct!="1"){lc[i].load=0;}}}}
var btl=utag.gdpr.dns?utag.gdpr.dns.getBlockedDnsTagLookup():null;utag.DB("Consent Manager: Do Not Sell Tags");if(btl){for(i in utag.loader.GV(lc)){if(parseInt(btl[i])===1){lc[i].load=0;}}}}
catch(e){utag.DB(e);}},updateConsentCookie:function(consent_categories){utag.DB("Consent Manager: Updating consent cookie");var list,listType=utag.gdpr.typeOf(consent_categories);if(listType==="string"){list=consent_categories.split(/\s*,\s*/);}else if(listType!=="array"){list=[];}else{list=consent_categories.slice();}
if(list.length===0){utag.gdpr.setConsentValue(false);utag.gdpr.setAllCategories(false);return;}
utag.gdpr.setPreferencesFromList(list);},keys:function(obj){if(Object.keys){return Object.keys(obj);}
var array=[];for(var prop in obj){if(!obj.hasOwnProperty(prop)){continue;}
array.push(prop);}
return array;},sortedObject:function(obj,func){var _obj={};if(obj!==undefined){var _k1=utag.gdpr.keys(obj).sort(func);for(var z=0;z<_k1.length;z++){_obj[_k1[z]]=obj[_k1[z]];}}
return _obj;},clone:function(a){var level=0;return cloner(a);function cloner(a){var b={};var c;level++;if(level===5)return a;for(c in utag.loader.GV(a)){if(utag.gdpr.typeOf(a[c])==="array"){b[c]=a[c].slice(0)}else if(utag.gdpr.typeOf(a[c])==="object"){b[c]=cloner(a[c]);}else{b[c]=a[c];}}
level--;return b;}},isEmpty:function(obj){var t=utag.gdpr.typeOf(obj);switch(t){case"string":case"array":return obj.length===0;case"object":for(var p in obj){if(!obj.hasOwnProperty(p)){continue;}
return false;}
default:return true;}},queue:[],domain:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.domain||utag.cfg.domain,path:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.cookie_path||"/",noqueue:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.nogdprqueue||false,noview:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.noview||false,consentPeriod:(window.utag_cfg_ovrd&&window.utag_cfg_ovrd.consentPeriod)||0,cookieNS:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.cmcookiens||"CONSENTMGR",eventProfile:window.utag_cfg_ovrd&&window.utag_cfg_ovrd.cmeventprofile||"lx-main"||"main",omittedTags:{"227":1,"126":1,"222":1,"204":1,"219":1,"221":1,"193":1,"97":1,"228":1,"220":1,"225":1,"153":1,"186":1,"130":1,"213":1,"208":1}};if(window.utag_cfg_ovrd&&window.utag_cfg_ovrd.domain==""){utag.gdpr.domain="";}
utag.loader.initdataOld=utag.loader.initdata;utag.loader.initdata=function(){utag.loader.initdataOld();if(utag.gdpr.getConsentState()!==0)return;if(utag.gdpr.noview)return;if(!utag.loader.rd_flag&&!utag.gdpr.noqueue){utag.gdpr.queue.push({event:"view",data:utag.handler.C(utag.data)});}};utag.gdpr.promptEnabledSetting=function(){if(!utag.gdpr.dr&&(utag.cfg.readywait||utag.cfg.waittimer)){utag.gdpr.dr=1;return;}
if(utag.gdpr.consent_prompt.isEnabled===true&&!(1)){utag.gdpr.consent_prompt.isEnabled=false;}
if(utag.gdpr.doNotSell.isEnabled===true&&!(1)){utag.gdpr.doNotSell.isEnabled=false;}}
utag.preOld=utag.pre;utag.pre=function(){utag.preOld();utag.gdpr.promptEnabledSetting();utag.pre=utag.preOld;};utag.gdpr.consent_prompt.languages={"en":{"isDefault":"true","common_tokens":{"title":"","message":"","confirmation_button":""},"custom_tokens":{"privacy_policy_url":"","opt_out":"","opt_in":""}}};utag.gdpr.consent_prompt.content.css="";utag.gdpr.consent_prompt.content.html="<!-- You will not be able to see this text. -->";utag.gdpr.consent_prompt.content.js="";utag.gdpr.consent_prompt.defaultLang="en";utag.gdpr.showExplicitConsent=function(_lang){var cn=document.getElementById("__tealiumGDPRecStyle");if(cn){cn.parentNode.removeChild(cn);}var hn=document.getElementById("__tealiumGDPRecModal");if(hn){hn.parentNode.removeChild(hn);}var sn=document.getElementById("__tealiumGDPRecScript");if(sn){sn.parentNode.removeChild(sn);}var dtc=utag.gdpr.getDeTokenizedContent(utag.gdpr.consent_prompt,_lang);var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),mDiv=document.createElement("div"),scr=document.createElement("script"),body=document.body||document.getElementsByTagName("body")[0];style.type="text/css";style.id="__tealiumGDPRecStyle";if(style.styleSheet){style.styleSheet.cssText=dtc.css;}else{style.appendChild(document.createTextNode(dtc.css));}head.appendChild(style);mDiv.innerHTML=dtc.html;mDiv.id="__tealiumGDPRecModal";body.appendChild(mDiv);scr.language="javascript";scr.type="text/javascript";scr.text="try{"+dtc.js+"} catch(e){utag.DB(e)}";scr.id="__tealiumGDPRecScript";head.appendChild(scr);};utag.gdpr.preferences_prompt.languages={"ja":{"common_tokens":{"confirmation_button":"","message":"当社はアプリやウェブサイトの運営に必要なクッキーや類似技術を使用しています。 追加のクッキーは、お客様の同意を得てのみ使用されます。お客様のデバイスの特性や特定の個人情報（IPアドレス、ナビゲーションの使用状況、ジオロケーションデータ、または固有の識別子）にアクセスし、分析し、保存するためにクッキーを使用しています。お客様のデータの処理は、様々な目的に使用されます。アナリスティクス・クッキーは、お客様により良いオンライン体験をご提供するために当社のパフォーマンスを分析し、キャンペーンの効率を計測することを可能にします。パーソナライゼーション・クッキーは、ご利用状況に応じたオファーやサポートをご提供することで、お客様のためにカスタマイズされたウェブサイト体験を提供します。最後に、広告用クッキーは、ソーシャルメディアやインターネット上でターゲットを絞った広告を配信するためのオーディエンスリストを作成するために、お客様のデータを処理する第三者企業によって配置されます。 お客様は、各ページの下部に記載されているリンクを使用して、いつでも自由に同意を与えたり、拒否したり、撤回したりすることができます。同意するをクリックすることで、クッキーの使用に同意することができます。 どのようなデータが収集され、どのように当社のパートナーと共有されるかについての詳細は、当社のプライバシーとクッキーポリシーをお読みください。<a href=\"{{privacy_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Privacy policy - This link will be opened in a new tab'>{{privacy_policy_text}}</a>&nbsp;&nbsp;<a href=\"{{cookie_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Cookie policy - This link will be opened in a new tab'>{{cookie_policy}}</a>","title":"個人情報保護の設定"},"custom_tokens":{"confirm_specific":"選択を保存する","privacy_policy_text":"個人情報保護ポリシー","cookie_policy":"クッキーポリシー","cookie_policy_url":"https://www.swiss.com/ch/ja/terms-conditions/cookie-policy","show_less":"自分の設定","company_logo_url":"","accept_none":"同意しません","show_more":"自分の設定","privacy_policy_url":"https://www.swiss.com/ch/ja/terms-conditions/privacy-statement","accept_all":"同意します","notification":"このカテゴリを選択すると、アナリティクスとパーソナライゼーションのカテゴリも有効になります。","choose_all":"すべてに同意する"},"isDefault":"false","categories":{"search":{"notes":"<ul>\n<li>オンライン広告とソーシャル広告の関連性を高める</li>\n<li>特定の顧客グループに接触し、後から再度プロダクトを表示する</li>\n<li>お客様のご興味に合わせ、第三者のクッキーを介して広告やソーシャルメディアのパートナーとデータを共有する</li>\n</ul>","name":"広告"},"personalization":{"name":"","notes":""},"cdp":{"name":"","notes":""},"big_data":{"notes":"","name":""},"mobile":{"notes":"","name":""},"cookiematch":{"notes":"","name":""},"monitoring":{"name":"","notes":""},"analytics":{"notes":"","name":"必要性"},"misc":{"name":"","notes":""},"social":{"notes":"","name":""},"display_ads":{"notes":"<ul>\n<li>過去の訪問時の設定を保存する</li>\n<li>当社のウェブサイトを改善するためにユーザーのフィードバックを収集する</li>\n<li>お客様のためにカスタマイズされたコンテンツやオファーを提供するために、お客様の興味を評価する</li>\n</ul>","name":"パーソナリゼーション"},"crm":{"notes":"","name":""},"email":{"name":"","notes":""},"engagement":{"notes":"","name":""},"affiliates":{"name":"アナリスティクス","notes":"<ul>\n<li>ウェブサイトのトラフィックをモニターし、ユーザーエクスペリエンスを最適化する</li>\n<li>どのマーケティングチャネルがより良いパフォーマンスを発揮しているかを評価</li>\n<li>お客様を理解するために、ウェブサイトの利用状況に関する集計データを分析。パートナーと共有されたランダムな識別子。</li>\n</ul>"}}},"ru":{"common_tokens":{"message":"Мы используем файлы cookie и аналогичные технологии, которые необходимы для работы приложения и сайта. Дополнительные файлы cookie используются только с вашего согласия. Мы используем их для доступа, анализа и хранения информации, такой как характеристики вашего устройства, а также определенных личных данных (IP-адреса, использование навигации, данных геолокации или уникальных идентификаторов). Обработка ваших данных служит различным целям: файлы cookie позволяют нам анализировать нашу работу, чтобы сделать наш сайт более удобным в использовании и оценить эффективность наших кампаний. Файлы cookie для персонализации предоставляют вам доступ к еще более индивидуализированному использованию нашего сайта с индивидуальными  предложениями и поддержкой.\nРекламные файлы cookie размещаются сторонними компаниями, обрабатывающими ваши данные, для создания списков аудитории для показа целевой рекламы в социальных сетях и интернете. Вы можете свободно дать, отказаться или отозвать свое согласие в любое время, используя ссылку внизу каждой страницы. Вы можете дать согласие на использование файлов cookie, нажав кнопку «Я соглашаюсь». Для получения дополнительной информации о том, какие данные собираются и как они передаются нашим партнерам, ознакомьтесь с нашей политикой конфиденциальности и использования файлов cookie:<a href=\"{{privacy_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Privacy policy - This link will be opened in a new tab'>{{privacy_policy_text}}</a>&nbsp;&nbsp;<a href=\"{{cookie_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Cookie policy - This link will be opened in a new tab'>{{cookie_policy}}</a>","confirmation_button":"","title":"Настройки конфиденциальности"},"custom_tokens":{"accept_none":"Я не соглашаюсь","show_more":"Настройки","privacy_policy_url":"https://www.swiss.com/ch/ru/terms-conditions/privacy-statement","accept_all":"Я соглашаюсь","notification":"При выборе этой категории также будут активированы категории Статистика и Персонализация","choose_all":"Выбрать все и согласиться","confirm_specific":"Сохранить настройки ","cookie_policy":"Настройки файлов cookie","privacy_policy_text":"Политика конфиденциальности","cookie_policy_url":"https://www.swiss.com/ch/ru/terms-conditions/cookie-policy","show_less":"Настройки","company_logo_url":""},"categories":{"misc":{"name":"","notes":""},"analytics":{"notes":"","name":"Необходимые"},"monitoring":{"name":"","notes":""},"display_ads":{"name":"Персонализация","notes":"<ul>\n<li>Сохранение предпочтений пользователя на основе предыдущих посещений сайта</li>\n<li>Собирать отзывы пользователей для улучшения нашего сайта</li>\n<li>Определение интересов пользователя для предоставления  уникального индивидуального контента и предложений</li>\n</ul>"},"social":{"name":"","notes":""},"personalization":{"name":"","notes":""},"search":{"name":"Реклама","notes":"<ul>\n<li>Данная настройка делает интернет-рекламу и рекламу в социальных сетях более актуальной для пользователя</li>\n<li>Определите конкретные группы клиентов и предложите им подключиться к нашей продукции позднее</li>\n<li>Данные делятся с партнерами по рекламе и социальными сетями через их файлы cookie в соответствии с интересами пользователя</li>\n</ul>"},"cookiematch":{"name":"","notes":""},"mobile":{"name":"","notes":""},"big_data":{"name":"","notes":""},"cdp":{"name":"","notes":""},"engagement":{"name":"","notes":""},"affiliates":{"name":"Статистика","notes":"<ul>\n<li>Отслеживание посещаемости веб-сайта и оптимизация пользовательского опыта</li>\n<li>Оценка наиболее эффективных маркетинговых каналов </li>\n<li>Анализ агрегированных данных об использовании веб-сайта для понимания  пользователя. Рандомизированные идентификаторы передаются партнерам.</li>\n</ul>"},"email":{"notes":"","name":""},"crm":{"name":"","notes":""}},"isDefault":"false"},"zh":{"isDefault":"false","categories":{"misc":{"notes":"","name":""},"monitoring":{"notes":"","name":""},"analytics":{"name":"必需","notes":""},"display_ads":{"name":"个性化","notes":"<ul>\n<li>存储您以前访问时的偏好</li>\n<li>收集用户反馈意见，以改善我们的网站</li>\n<li>评估您的兴趣，为您提供独特的定制内容和优惠。</li>\n<ul>"},"social":{"notes":"","name":""},"personalization":{"name":"","notes":""},"search":{"notes":"<ul>\n<li>使在线和社交广告与您更加相关</li>\n<li>邀请特定的客户群体稍后与我们的产品重新连接</li>\n<li>通过第三方Cookie与我们的广告和社交媒体合作伙伴共享数据以符合您的兴趣</li>\n</ul>","name":"广告"},"mobile":{"name":"","notes":""},"cookiematch":{"name":"","notes":""},"cdp":{"notes":"","name":""},"big_data":{"notes":"","name":""},"engagement":{"notes":"","name":""},"affiliates":{"notes":"<ul>\n<li>监控网站流量并优化用户体验</li>\n<li>评估哪些营销渠道是最有效的渠道。</li>\n<li>分析有关网站使用情况的汇总数据，以了解我们的客户。 与合作伙伴共享的随机标识符。</li>\n</ul>","name":"统计"},"email":{"name":"","notes":""},"crm":{"notes":"","name":""}},"common_tokens":{"confirmation_button":"","message":"我们使用Cookie和运行该应用程序和网站所必需的类似技术。其他Cookie仅在您同意的情况下使用。我们使用它们来访问，分析和存储信息，例如您设备的特性以及某些个人数据（IP地址，导航使用情况，地理位置数据或唯一标识符）。处理您的数据有多种目的：分析cookie使我们能够分析我们的效果，从而为您提供更好的在线体验并评估我们的广告系列的效率。个性化cookie通过基于使用的优惠和支持，使您可以访问我们网站的自定义体验。最后，广告Cookie由第三方公司放置，处理您的数据以创建受众群体列表，以便在社交媒体和互联网上投放目标广告。您可以随时使用每页底部的链接自由地给予，拒绝或撤回您的同意。您可以通过单击同意来同意我们使用cookie。有关收集哪些数据以及如何与我们的合作伙伴共享的更多信息，请阅读我们的隐私和Cookie政策: <a href=\"{{privacy_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Privacy policy - This link will be opened in a new tab'>{{privacy_policy_text}}</a>&nbsp;&nbsp;<a href=\"{{cookie_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Cookie policy - This link will be opened in a new tab'>{{cookie_policy}}</a>\n","title":"隐私设置"},"custom_tokens":{"privacy_policy_text":"隐私政策","cookie_policy":"Cookie政策","cookie_policy_url":"https://www.swiss.com/ch/zh/terms-conditions/cookie-policy","confirm_specific":"保存选择","company_logo_url":"","show_less":"我的设置","show_more":"我的设置","accept_none":"我不同意","accept_all":"同意","privacy_policy_url":"https://www.swiss.com/ch/zh/terms-conditions/privacy-statement","choose_all":"同意全部","notification":"通过选择此类别，还将激活“分析”和“个性化”类别。"}},"de":{"common_tokens":{"title":"Privatsphäre-Einstellungen","message":"Wir verwenden Cookies und ähnliche Technologien, die für den Betrieb der App und der Website erforderlich sind. Zusätzliche Cookies werden nur mit Ihrer Zustimmung verwendet. Wir verwenden sie, um auf Informationen zuzugreifen, sie zu analysieren und zu speichern, wie z.B. die Merkmale Ihres Geräts sowie bestimmte persönliche Daten (IP-Adressen, Navigationsnutzung, Geolokalisierungsdaten oder eindeutige Identifikationsmerkmale). Die Verarbeitung Ihrer Daten dient verschiedenen Zwecken: Mit Hilfe von Analyse-Cookies können wir unsere Leistung analysieren, um Ihnen ein besseres Online-Erlebnis zu bieten und die Effizienz unserer Kampagnen zu evaluieren. Personalisierungs-Cookies ermöglichen Ihnen den Zugang zu einem massgeschneiderten Erlebnis auf unserer Website mit nutzungsabhängigen Angeboten und Support. Schließlich werden Werbe-Cookies von Drittfirmen platziert, die Ihre Daten zur Erstellung von Zielgruppenlisten verarbeiten, um gezielte Werbung in sozialen Medien und im Internet zu liefern. Es steht Ihnen frei, Ihre Zustimmung jederzeit zu geben, zu verweigern oder zurückzuziehen, indem Sie den Link unten auf jeder Seite benutzen. Sie können der Verwendung von Cookies durch uns zustimmen, indem Sie auf Einverstanden klicken. Für weitere Informationen darüber, welche Daten gesammelt und wie sie an unsere Partner weitergegeben werden, lesen Sie bitte unsere Datenschutz- und Cookie-Richtlinien: <a href=\"{{privacy_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Privacy policy - This link will be opened in a new tab'>{{privacy_policy_text}}</a>&nbsp;&nbsp;<a href=\"{{cookie_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Cookie policy - This link will be opened in a new tab'>{{cookie_policy}}</a>","confirmation_button":""},"custom_tokens":{"show_less":"Meine Einstellungen","company_logo_url":"","confirm_specific":"Auswahl speichern","cookie_policy_url":"https://www.swiss.com/ch/de/rechtliches/cookie-policy","privacy_policy_text":"Datenschutzerklärung","cookie_policy":"Cookie-Richtlinie","privacy_policy_url":"https://www.swiss.com/ch/de/rechtliches/datenschutz","accept_all":"Einverstanden","notification":"Durch die Auswahl dieser Kategorie werden auch die Kategorien Analyse und Personalisierung aktiviert.","choose_all":"Allen zustimmen","accept_none":"Ich bin nicht einverstanden","show_more":"Meine Einstellungen"},"categories":{"engagement":{"notes":"","name":""},"affiliates":{"notes":"<ul>\n<li>Beobachtung der Website-Nutzung und Optimierung der Benutzererfahrung</li>\n<li>Bewertung der erfolgreichsten Marketingkanäle</li>\n<li>Analyse aggregierter Daten über die Nutzung der Website, um unsere Kunden besser zu verstehen. Erstellung zufälliger Identifikatoren, um diese mit Partnern zu teilen.</li>\n</ul>","name":"Analysen"},"crm":{"notes":"","name":""},"email":{"notes":"","name":""},"analytics":{"name":"Notwendig","notes":""},"monitoring":{"name":"","notes":""},"misc":{"name":"","notes":""},"social":{"notes":"","name":""},"display_ads":{"notes":"<ul>\n<li>Speicherung Ihrer Präfererenzen aus frühreren Besuchen. </li>\n<li>Sammeln von Benutzer-Feedback zur Verbesserung unserer Website</li>\n<li>Erfassung Ihrer Interessen, um maßgeschneiderte Inhalte und Angebote anzubieten.</li>\n</ul>","name":"Personalisierung"},"search":{"name":"Werbung","notes":"<ul>\n<li>Steigerung der Relevanz von Online- und Social-Werbung für Sie</li>\n<li>Identifizierung von Kundengruppen, die wir für bestimmte Produkte wiederholt ansprechen werden</li>\n<li>Teilen von Daten mit unseren Werbe- und Social Media-Partnern über deren Drittanbieter-Cookies, um Ihren Interessen gerecht zu werden </li>\n</ul>"},"personalization":{"notes":"","name":""},"big_data":{"notes":"","name":""},"cdp":{"name":"","notes":""},"mobile":{"notes":"","name":""},"cookiematch":{"name":"","notes":""}},"isDefault":"false"},"it":{"isDefault":"false","categories":{"big_data":{"name":"","notes":""},"cdp":{"notes":"","name":""},"cookiematch":{"name":"","notes":""},"mobile":{"name":"","notes":""},"search":{"name":"Pubblicità","notes":"<ul>\n<li>Rendre gli annunci online e sui social più significativi per lei</li>\n<li>Identificare gruppi di clienti specifici e invitarli a riconnettersi ai nostri prodotti in un secondo tempo</li>\n<li>Condivisione i dati con i nostri partner pubblicitari e  social media tramite i loro cookie di terze parti per combinare gli interessi</li>\n</ul>"},"personalization":{"name":"","notes":""},"display_ads":{"notes":"<ul>\n<li>Memorizzare le preferenze da visite precedenti</li>\n<li>Raccogliere i feedback degli utenti per migliorare il nostro sito web</li>\n<li>Valutare i suoi interessi per offrirle contenuti e offerte personalizzate</li>\n</ul>","name":"Personalizzazione"},"social":{"name":"","notes":""},"monitoring":{"notes":"","name":""},"analytics":{"notes":"","name":"Cookie necessari"},"misc":{"notes":"","name":""},"crm":{"name":"","notes":""},"email":{"notes":"","name":""},"affiliates":{"notes":"<ul>\n<li>Monitoraggio dell'utilizzo del sito web e ottimizzazione dell'esperienza utente</li>\n<li>Valutaro quali canali di marketing stanno ottenendo i migliori risultati</li>\n<li>Analizza i dati aggregati relativi all'utilizzo del sito per capire i nostri clienti. Identificatori randomizzati condivisi con i partner.</li>\n</ul>","name":"Analisi"},"engagement":{"notes":"","name":""}},"common_tokens":{"title":"Impostazioni della privacy","confirmation_button":"","message":"Usiamo solo cookies e tecnologie similari che sono necessarie per il funzionamento dell'app e del sito. Ulteriori cookies vengono utilizzati solo con il  suo consenso.Le utilizziamo per accedere, analizzare e tenere traccia di informazioni quali caratteristiche del suo  dispositivo così come alcuni dati personali (indirizzo IP, statistiche di navigazione, geolocalizzazione, identificatori univoci). L'elaborazione dei suoi dati  ha diversi scopi:  i cookies analitici ci permettono di migliorare il nostro servizio per offrirle un'esperienza di navigazione migliore verificando l'efficienza delle nostre campagne. I cookies di personalizzazione le permettono di accedere ad un'esperienza online personalizzata con offerte e servizi basati sulle sue esigenze. Infine, i cookies pubblicitari vengono inseriti da società terze che elaborano i suoi dati per creare elenchi di segmenti di pubblico per fornire annunci mirati sui social media e su Internet. Lei può dare, rifiutare o modificare il consenso in ogni momento utilizzando il link in fondo alla pagina. Può acconsentire all'uso da parte nostra dei cookies cliccando su Accetto. Per ulteriori informazioni sulla tipologia di dati che vengono raccolti e sulla condivisione degli stessi con i nostri partner la preghiamo di leggere la sezione dedicata alle Norme sulla privacy e sui cookies: <a href=\"{{privacy_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Privacy policy - This link will be opened in a new tab'>{{privacy_policy_text}}</a>&nbsp;&nbsp;<a href=\"{{cookie_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Cookie policy - This link will be opened in a new tab'>{{cookie_policy}}</a>"},"custom_tokens":{"show_more":"Le mie impostazioni","accept_none":"Non accetto","accept_all":"Accetto","privacy_policy_url":"https://www.swiss.com/ch/it/note-legali/tutela-del-segreto-dei-dati","choose_all":"Accetto tutto","notification":"Selezionando questa categoria le sezioni Analisi e Personalizzazione verranno attivate.","cookie_policy":"Norme sull'utilizzo dei cookies","privacy_policy_text":"Norme sulla privacy","cookie_policy_url":"https://www.swiss.com/ch/it/note-legali/cookie-policy","confirm_specific":"Salva le scelte","company_logo_url":"","show_less":"Le mie impostazioni"}},"pt":{"custom_tokens":{"show_less":"As minhas configurações","company_logo_url":"","cookie_policy":"Política de uso de cookies","cookie_policy_url":"https://www.swiss.com/ch/pt/termos-legais/cookie-policy","privacy_policy_text":"Declaração sobre proteção de dados","confirm_specific":"Guardar seleção","accept_all":"Concordo","privacy_policy_url":"https://www.swiss.com/ch/pt/termos-legais/declaracao-de-protecao","choose_all":"Concordo com tudo","notification":"Ao selecionar esta categoria, as categorias Analítica e Personalização também serão ativadas.","accept_none":"Não concordo","show_more":"As minhas configurações"},"common_tokens":{"title":"Configurações de privacidade","confirmation_button":"","message":"Usamos cookies e tecnologias semelhantes que são necessárias para executar o aplicativo e o site. Cookies adicionais são usados apenas com o seu consentimento. Nós usámo-los  para aceder, analisar e armazenar informações, como as características do seu dispositivo, bem como certos dados pessoais (endereços IP, uso de navegação, dados de geolocalização ou identificadores únicos). O processamento dos seus dados tem várias finalidades: Os cookies analíticos permitem-nos analisar o nosso desempenho para lhe oferecer uma melhor experiência online e avaliar a eficácia das nossas campanhas. Os cookies de personalização fornecem acesso a uma experiência personalizada no nosso site com ofertas e suporte baseados no uso. Por fim, os cookies de publicidade são colocados por empresas terceiras que processam os seus dados para criar listas de público-alvo para fornecer anúncios direcionados nas social media e na Internet. Pode dar, recusar ou retirar livremente o seu consentimento a qualquer momento usando o link fornecido no final de cada página. Pode consentir com o nosso uso de cookies clicando em Concordo. Para obter mais informações sobre quais dados são coletados e como são compartilhados com os nossos parceiros, leia a nossa política de privacidade e cookies: <a href=\"{{privacy_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Privacy policy - This link will be opened in a new tab'>{{privacy_policy_text}}</a>&nbsp;&nbsp;<a href=\"{{cookie_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Cookie policy - This link will be opened in a new tab'>{{cookie_policy}}</a>"},"categories":{"monitoring":{"name":"","notes":""},"analytics":{"name":"Necessário","notes":""},"misc":{"name":"","notes":""},"display_ads":{"name":"Personalização","notes":"<ul>\n<li>Memorização das suas preferências de visitas anteriores</li>\n<li>Recolher feedback dos utilizadores para melhorar o nosso website</li>\n<li>Avalie os seus interesses para lhe oferecer conteúdos e ofertas personalizadas</li>\n</ul>"},"social":{"notes":"","name":""},"search":{"name":"Publicidade","notes":"<ul>\n<li>Tornar a publicidade online e social mais relevante para si</li>\n<li>Identificar grupos específicos de clientes e convidá-los a ligarem-se novamente aos nossos produtos mais tarde</li>\n<li>Partilhar dados com os nossos parceiros de publicidade e social media por meio de cookies de terceiros para corresponder aos seus interesses</li>\n</ul>"},"personalization":{"notes":"","name":""},"big_data":{"notes":"","name":""},"cdp":{"notes":"","name":""},"mobile":{"name":"","notes":""},"cookiematch":{"notes":"","name":""},"engagement":{"name":"","notes":""},"affiliates":{"name":"Analítica","notes":"<ul>\n<li>Monitorizar a utilização do website e optimizar a experiência do utilizador</li>\n<li>Avalia quais os canais de marketing estão as ter o melhor desempenho e</li>\n<li>Analisar dados agregados sobre a utilização do site para compreender os nossos clientes. Identificadores aleatórios partilhados com os parceiros. </li>\n</ul>"},"crm":{"notes":"","name":""},"email":{"name":"","notes":""}},"isDefault":"false"},"es":{"categories":{"personalization":{"notes":"","name":""},"search":{"name":"Publicidad","notes":"<ul>\n<li>Hacer que la publicidad online y en redes sociales sea más relevante para usted</li>\n<li>Identificar grupos de clientes específicos e invitarlos a reconectarse a nuestros productos más tarde</li>\n<li>Compartir datos con nuestros colaboradores publicitarios y de redes sociales a través de cookies de terceros para que se adapten lo máximo posible con sus intereses</li>\n</ul>"},"mobile":{"notes":"","name":""},"cookiematch":{"notes":"","name":""},"cdp":{"name":"","notes":""},"big_data":{"name":"","notes":""},"misc":{"notes":"","name":""},"monitoring":{"notes":"","name":""},"analytics":{"notes":"Estas cookies son absolutamente necesarias para el funcionamiento de la página web y para garantizar las características de seguridad. También le permiten permanecer conectado a su perfil cuando vuelva a visitar nuestra página web.","name":"Necesarias"},"display_ads":{"notes":"<ul>\n<li>Almacenar sus preferencias en visitas anteriores</li>\n<li>Recoger la opinión de los usuarios para mejorar nuestro sitio web</li>\n<li>Evalúar sus intereses para brindarle contenido y ofertas personalizadas.</li>\n</ul>","name":"Personalización"},"social":{"name":"","notes":""},"email":{"name":"","notes":""},"crm":{"name":"","notes":""},"engagement":{"name":"","notes":""},"affiliates":{"name":"Análisis","notes":"<ul>\n<li>Supervisar el tráfico del sitio web y optimizar su experiencia de usuario</li>\n<li>Evalúar qué canales de marketing están funcionando mejor</li>\n<li>Analizar datos combinados sobre el uso del sitio web para comprender a nuestros clientes. Identificadores aleatorios compartidos con nuestros colaboradores.</li>\n</ul>"}},"isDefault":"false","common_tokens":{"confirmation_button":"","message":"Usamos cookies y tecnologías similares necesarias para el funcionamiento de la App y del sitio web. Las cookies adicionales sólo se utilizarán sólo con su previo consentimiento. Las utilizamos para acceder, analizar y almacenar información como las características de su dispositivo así como ciertos datos personales (direcciones IP, uso de navegación, datos de geolocalización o identificadores únicos). El procesamiento de sus datos tiene varios propósitos: Las cookies de análisis nos permiten analizar nuestro desempeño para ofrecerle una mejor experiencia de navegación y evaluar la eficiencia de nuestras campañas. Las cookies de personalización le dan acceso a una experiencia personalizada de nuestro sitio web con ofertas y asistencia basadas en el uso. Finalmente, las cookies publicitarias son generadas por empresas externas que procesan sus datos para crear listas de audiencias para mostrar anuncios específicos en las redes sociales e Internet. Puede dar, rechazar o retirar libremente su consentimiento en cualquier momento utilizando el enlace que se proporciona en la parte inferior de cada página. Puede dar su consentimiento para nuestro uso de cookies haciendo clic en De acuerdo. Para obtener más información sobre qué datos se recopilan y cómo se comparten con nuestros socios, lea nuestra política de privacidad y cookies: <a href=\"{{privacy_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='This link will be opened in a new tab' aria-label='Privacy policy - This link will be opened in a new tab'>{{privacy_policy_text}}</a>&nbsp;&nbsp;<a href=\"{{cookie_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Cookie policy - This link will be opened in a new tab' aria-label='This link will be opened in a new tab'>{{cookie_policy}}</a>","title":"Configuración de privacidad"},"custom_tokens":{"show_more":"Mi configuración","accept_none":"No estoy de acuerdo","notification":"Al seleccionar esta categoría, también se activarán las categorías Análisis y Personalización.","choose_all":"De acuerdo con todo","privacy_policy_url":"https://www.swiss.com/ch/es/informacion-legal/declaracion-de-privacidad","accept_all":"De acuerdo","confirm_specific":"Guardar selección","cookie_policy":"Política de cookies","privacy_policy_text":"Política de privacidad","cookie_policy_url":"https://www.swiss.com/ch/es/informacion-legal/cookie-policy","company_logo_url":"","show_less":"Mi configuración"}},"en":{"common_tokens":{"title":"Privacy Settings","message":"We use cookies and similar technologies that are necessary to run the app and the website. Additional cookies are only used with your consent. We use them to access, analyse and store information such as the characteristics of your device as well as certain personal data (IP addresses, navigation usage, geolocation data or unique identifiers). The processing of your data serves various purposes: Analytics cookies allow us to analyse our performance to offer you a better online experience and evaluate the efficiency of our campaigns. Personalisation cookies give you access to a customised experience of our website with usage-based offers and support. Finally, Advertising cookies are placed by third-party companies processing your data to create audiences lists to deliver targeted ads on social media and the internet. You may freely give, refuse or withdraw your consent at any time using the link provided at the bottom of each page. You can consent to our use of cookies by clicking on Agree. For more information on which data is collected and how it is shared with our partners please read our privacy and cookie policy: <a href=\"{{privacy_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Privacy policy - This link will be opened in a new tab'>{{privacy_policy_text}}</a>&nbsp;&nbsp;<a href=\"{{cookie_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Cookie policy - This link will be opened in a new tab'>{{cookie_policy}}</a>","confirmation_button":""},"custom_tokens":{"privacy_policy_url":"https://www.swiss.com/ch/en/terms-conditions/privacy-statement","accept_all":"Agree","notification":"By selecting this category, the categories Analytics and Personalization will also be activated.","choose_all":"Agree to all","show_more":"My settings","accept_none":"I do not agree","company_logo_url":"","show_less":"My settings","confirm_specific":"Save selection","cookie_policy":"Cookie policy","cookie_policy_url":"https://www.swiss.com/ch/en/terms-conditions/cookie-policy","privacy_policy_text":"Privacy policy"},"categories":{"affiliates":{"notes":"<ul>\n<li>Monitor website traffic and optimize your user experience</li>\n<li>Evaluate which marketing channels are performing better</li>\n<li>Analyse aggregated data about usage of the website to understand our customers. Randomized identifiers shared with partners.</li>\n</ul>","name":"Analytics"},"engagement":{"name":"","notes":""},"email":{"name":"","notes":""},"crm":{"notes":"","name":""},"display_ads":{"name":"Personalisation","notes":"<ul>\n<li>Store your preferences from previous visits</li>\n<li>Collect user feedback to improve our website</li>\n<li>Evaluate your interests to provide you unique customised content and offers</li>\n</ul>"},"social":{"notes":"","name":""},"misc":{"notes":"","name":""},"monitoring":{"notes":"","name":""},"analytics":{"name":"Necessary","notes":""},"mobile":{"name":"","notes":""},"cookiematch":{"name":"","notes":""},"big_data":{"notes":"","name":""},"cdp":{"name":"","notes":""},"personalization":{"name":"","notes":""},"search":{"name":"Advertising","notes":"<ul>\n<li>Make online and social advertising more relevant for you</li>\n<li>Invite specific customer groups to reconnect with our products later</li>\n<li>Share data with our advertising and social media partners via their third-party cookies to match your interests</li>\n</ul>"}},"isDefault":"true"},"fr":{"common_tokens":{"message":"Nous utilisons des cookies et autres technologies similaires, indispensables pour l’exécution de l’app et du site Web. Les autres cookies ne sont utilisés qu'avec votre consentement. Nous les utilisons pour l’accès, l’analyse et le stockage des informations telles que les caractéristiques de votre appareil ainsi que certaines données personnelles (adresses IP, navigation, données de géolocalisation ou identifiants uniques). Le traitement de vos données répond à différents objectifs : les cookies analytiques nous permettent d'analyser nos performances pour vous offrir une meilleure expérience en ligne et évaluer l'efficacité de nos campagnes de communication. Les cookies de personnalisation nous permettent de vous offrir une experience unique de notre site, avec des offres et un support personnalisé basés sur votre utilisation. Enfin, les cookies publicitaires sont gérées par des sociétés externes traitant vos données pour créer des listes d'audiences afin de diffuser des publicités ciblées sur les réseaux sociaux et sur Internet. Vous pouvez librement donner, refuser ou retirer votre consentement à tout moment en utilisant le lien fourni au bas de chaque page. Vous pouvez consentir à notre utilisation des cookies en cliquant sur « Accepter ». Pour plus d'informations sur les données collectées et sur la manière dont elles sont partagées avec nos partenaires, veuillez lire notre politique de confidentialité et de cookies: <a href=\"{{privacy_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Privacy policy - This link will be opened in a new tab'>{{privacy_policy_text}}</a>&nbsp;&nbsp;<a href=\"{{cookie_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Cookie policy - This link will be opened in a new tab'>{{cookie_policy}}</a>","confirmation_button":"","title":"Paramètres de confidentialité"},"custom_tokens":{"show_more":"Mes paramètres","accept_none":"Je ne suis pas d'accord","accept_all":"Accepter","privacy_policy_url":"https://www.swiss.com/ch/fr/informations-legales/la-politique-de-confidentialite","choose_all":"Tout sélectionner","notification":"En sélectionnant cette catégorie, les catégories Analytique et Personnalisation seront également activées.","cookie_policy":"Politique relative aux cookies","privacy_policy_text":"Politique de confidentialité","cookie_policy_url":"https://www.swiss.com/ch/fr/informations-legales/cookie-policy","confirm_specific":"Confirmer la sélection","company_logo_url":"","show_less":"Mes paramètres"},"categories":{"engagement":{"name":"","notes":""},"affiliates":{"notes":"<ul>\n<li>Surveiller le trafic du site et optimiser votre expérience utilisateur​​</li>\n<li>Évaluer les performances de nos campagnes marketing</li>\n<li>Analyser des données agrégées sur l’utilisation du site  pour comprendre nos clients. Identifiants aléatoires partagés avec les partenaires.</li>\n</ul>","name":"Analytique"},"email":{"name":"","notes":""},"crm":{"notes":"","name":""},"misc":{"notes":"","name":""},"analytics":{"name":"Nécessaires","notes":"ces cookies sont absolument indispensables pour le fonctionnement du site et sa sécurité. De plus, ils vous permettent de conserver la connexion à votre profil lorsque vous revenez sur le site."},"monitoring":{"notes":"","name":""},"social":{"notes":"","name":""},"display_ads":{"name":"Personnalisation","notes":"<ul>\n<li>Enregistrer vos préférences lors de visites précédentes</li>\n<li>Recueillir les commentaires des utilisateurs pour améliorer notre site web</li>\n<li>Evaluer vos intérêts pour vous offrir des contenus et des offres personnalisés.</li>\n</ul>"},"personalization":{"name":"","notes":""},"search":{"name":"Publicité","notes":"<ul>\n<li>Rendre les publicités en ligne et sur les réseaux sociaux plus pertinentes pour vous​​​</li>\n<li>Identifier des groupes de clients spécifiques pour les inviter à se reconnecter à nos produits plus tard</li>\n<li>Partager des données avec nos partenaires publicitaires et de réseaux sociaux, via leurs cookies tiers, afin de cibler vos intérêts</li>\n</ul>"},"cookiematch":{"name":"","notes":""},"mobile":{"notes":"","name":""},"big_data":{"notes":"","name":""},"cdp":{"name":"","notes":""}},"isDefault":"false"},"el":{"categories":{"affiliates":{"notes":"<ul>\n<li>Παρακολούθηση της κίνησης στον ισότοπο προκειμένου να παρέχουμε βελτιωμένη εμπειρία στους χρήστες</li>\n<li>Αξιολόγηση ποιά κανάλια μάρκετινγκ έχουν καλύτερη απόδοση</li>\n<li>Ανάλυση συγκεντρωτικών στοιχείων σχετικά με τη χρήση του ιστότοπου για την κατανόηση των επισκεπτών μας. Τυχαία αναγνωριστικά που κοινοποιούνται σε συνεργάτες.\n</li>\n</ul>","name":"Στοιχεία Ανάλυσης"},"engagement":{"name":"","notes":""},"crm":{"name":"","notes":""},"email":{"name":"","notes":""},"display_ads":{"notes":"<ul>\n<li>Αποθήκευση των προτιμήσεών σας κατά τις προηγούμενες επισκέψεις</li>\n<li>Συλλέξτε σχόλια των χρηστών για να βελτιώσετε την ιστοσελίδα μας</li>\n<li>Αξιολόγηση των ενδιαφερόντων σας προκειμένου να σας παρέχουμε εξατομικευμένο περιεχόμενο και προσφορές</li>\n</ul>","name":"Εξατομίκευση"},"social":{"notes":"","name":""},"analytics":{"name":"Απαραίτητα Cookie","notes":""},"monitoring":{"notes":"","name":""},"misc":{"notes":"","name":""},"cdp":{"name":"","notes":""},"big_data":{"name":"","notes":""},"mobile":{"name":"","notes":""},"cookiematch":{"notes":"","name":""},"search":{"notes":"<ul>\n<li>Κάντε τη διαδικτυακή και την κοινωνική διαφήμιση πιο σχετική για εσάς</li>\n<li>Προσδιορίστε συγκεκριμένες ομάδες πελατών για να τους καλέσετε να συνδεθούν ξανά στα προϊόντα μας αργότερα</li>\n<li>Μοιραστείτε δεδομένα με τους συνεργάτες διαφημίσεων και κοινωνικών δικτύων, μέσω των cookie τρίτων μερών, προκειμένου να στοχεύσετε τα ενδιαφέροντά σας</li>\n</ul>","name":"Διαφήμιση"},"personalization":{"notes":"","name":""}},"isDefault":"false","custom_tokens":{"confirm_specific":"Αποθήκευση ρυθμίσεων","cookie_policy":"Πολιτιτκή Cookies","privacy_policy_text":"Δήλωση Απορρήτου","cookie_policy_url":"https://www.swiss.com/ch/el/terms-conditions/cookie-policy","show_less":"Οι ρυθμίσεις μου","company_logo_url":"","show_more":"Οι ρυθμίσεις μου","accept_none":"Δεν συμφωνώ","privacy_policy_url":"https://www.swiss.com/ch/el/terms-conditions/privacy-statement","accept_all":"Συμφωνώ","notification":"Επιλέγοντας αυτή την κατηγορία, θα ενεργοποιηθούν και οι κατηγορίες Στοίχεία Ανάλυσης και Εξατομίκευση.","choose_all":"Συμφωνώ με όλα"},"common_tokens":{"confirmation_button":"","message":"Χρησιμοποιούμε cookies και παρόμοιες τεχνολογίες που είναι απαραίτητες για την εκτέλεση της εφαρμογής και του ιστότοπου. Επιπλέον cookies χρησιμοποιούνται μόνο με τη συγκατάθεσή σας. Τα χρησιμοποιούμε για πρόσβαση, ανάλυση και αποθήκευση πληροφοριών, όπως τα χαρακτηριστικά της συσκευής σας, καθώς και ορισμένα προσωπικά δεδομένα (διευθύνσεις IP, χρήση πλοήγησης, δεδομένα γεωγραφικής τοποθεσίας ή μοναδικά αναγνωριστικά). Η επεξεργασία των δεδομένων σας εξυπηρετεί διάφορους σκοπούς: Τα cookies του Analytics μας επιτρέπουν να αναλύσουμε την απόδοσή μας για να σας προσφέρουμε μια καλύτερη διαδικτυακή εμπειρία και να αξιολογήσουμε την αποτελεσματικότητα των καμπανιών μας. Τα cookies εξατομίκευσης παρέχουν πρόσβαση σε μια προσαρμοσμένη εμπειρία του ιστότοπού μας με προσφορές και υποστήριξη βάσει χρήσης. Τέλος, τα διαφημιστικά cookie τοποθετούνται από εταιρείες τρίτων που επεξεργάζονται τα δεδομένα σας για τη δημιουργία λιστών κοινού για την προβολή στοχευμένων διαφημίσεων στα κοινωνικά μέσα δικτύωσης και στο Διαδίκτυο. Μπορείτε ελεύθερα να δώσετε, να απορρίψετε ή να ανακαλέσετε τη συγκατάθεσή σας ανά πάσα στιγμή χρησιμοποιώντας τον σύνδεσμο που παρέχεται στο κάτω μέρος κάθε σελίδας. Μπορείτε να συναινέσετε στη χρήση των cookies κάνοντας κλικ στο Agree (Συμφωνώ). Για περισσότερες πληροφορίες σχετικά με το ποια δεδομένα συλλέγονται και πώς κοινοποιούνται στους συνεργάτες μας, διαβάστε την πολιτική απορρήτου και cookies: <a href=\"{{privacy_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Privacy policy - This link will be opened in a new tab'>{{privacy_policy_text}}</a>&nbsp;&nbsp;<a href=\"{{cookie_policy_url}}\" class=\"icon-link\" target=\"_blank\" aria-label='Cookie policy - This link will be opened in a new tab'>{{cookie_policy}}</a>","title":"Ρυθμίσεις Απορρήτου"}}};utag.gdpr.preferences_prompt.content.css="#consentOverlay {  display: none;}#cm-dial-v211 {  display: none;}#cm-notification {  display: none;  margin-top: 10px;  margin-bottom: 10px;  padding: 10px;  border: 1px solid #ccc;}#cm-notification p {  font-size: 14px;  line-height: 18px;}#cm-headline:focus {  outline: none}.consent-manager a.icon-link,.consent-manager #cm-acceptNone {  color: #6F6660 !important;  margin: 0px 5px;  font-family: \"SwissText\", \"CH-Sans\", Helvetica, Arial, sans-serif;  font-size: 14px;  line-height: 20px;  text-decoration: none;}.consent-manager a.icon-link:hover,.consent-manager #cm-acceptNone:hover {  color: #554E49;  text-decoration: underline;  text-underline-position: inherit;}.consent-manager a.icon-link::before {  content: \'\';  display: inline-block;  margin: 0 2px 0 0;  padding: 0;  font-family: \"SwissText\", \"CH-Sans\", Helvetica, Arial, sans-serif;  font-weight: bold;  font-size: 14px;  line-height: 18px;}.consent-manager a.icon-link::after,.consent-manager #cm-acceptNone::after {  content: \'\';  margin-left: 5px;  display: inline-block;  vertical-align: middle;  width: 0;  height: 0;  border: 4px solid transparent;  border-left-color: #c00;  border-right: none;}.consent-manager a.icon-link:hover::after,.consent-manager #cm-acceptNone:hover::after {  border-left-color: #900;}.consent-manager h2 {  margin: 0}.consent-manager p,.consent-manager li,.consent-manager a.icon-link {  margin: 0px;  font-family: \"SwissText\", \"CH-Sans\", Helvetica, Arial, sans-serif !important;  font-weight: 300;  font-size: 14px;  line-height: 20px;  color: #101010;}/* HACK for B1 overlay to show as close as possible to the SwissText font */body > div:not(.legacy) .consent-manager p{    font-size:13px;  letter-spacing: .5px;}.consent-manager li {  list-style: disc;}.consent-manager .no-link-style {  text-decoration: none;  color: #000;}.consent-manager .greyed-text {  color: #CCCCCC;}.consent-manager h4 {  margin: 0;  font-size: 14px;  line-height: 18px;  font-family: \"SwissText\", \"CH-Sans\", Helvetica, Arial, sans-serif;  font-weight: 700;}.consent-manager .title {  font-size: 30px;  line-height: 34px;  font-family: \"SwissHead\", \"CH-Sans\", Helvetica, Arial, sans-serif;  font-weight: 700;  color: #101010;}.consent-manager-overlay {  position: fixed;  top: 0;  left: 0;  width: 100%;  height: 100vh;  min-height: 100%;  z-index: 999999;  background-color: #555555;  opacity: 0.8;}.consent-manager {  background: #ffffff;  position: fixed;  top: 50px;  left: 50%;  z-index: 9999999;  transform: translate(-50%);  max-height: 90%;  width: 100%;  max-width: 900px;  margin-bottom: 20px;  overflow-y: auto;  overflow-x: hidden;}.consent-manager-inner {  width: 100%;  height: 100%;  overflow-y: auto;}.consent-manager .layout-wrap {  display: flex;  flex-wrap: wrap;  width: 100%;  height: 100%;}.consent-manager .layout-col {  flex-direction: column;}.consent-manager .layout-col.col-main {  width: 100%;  padding: 30px;  background-color: #ffffff;}.consent-manager .layout-row {  display: flex;  flex-direction: row;  margin: 0;  margin-bottom: 10px;  width: 100%;  justify-content: flex-start;  flex-wrap: wrap;}.consent-manager .checkBoxOption {  min-width: 150px;  min-height: 30px;  margin: 10px 0;  text-align: left;}.consent-manager .checkBoxOption ul {  list-style-position: outside;  margin: 0.5em 0px 1.75em 2.75em;}.consent-manager .layout-row .row-item {  flex-grow: 1;}.consent-manager .paddingTop {  padding-top: 10px;}.consent-manager .paddingBottom {  padding-bottom: 10px;}/* Custom Checkbox start*//* Customize the label (the container) */.consent-manager .container {  display: block;  position: relative;  padding-left: 35px;  cursor: pointer;  font-size: 22px;  -webkit-user-select: none;  -moz-user-select: none;  -ms-user-select: none;  user-select: none;}/* Hide the browser\'s default checkbox */.consent-manager .container input {  position: absolute;  opacity: 0;  cursor: pointer;  height: 0;  width: 0;}/* Create a custom checkbox */.consent-manager .checkmark {  position: absolute;  top: 0;  left: 0;  height: 20px;  width: 20px;  background-color: #fff;  border-radius: 0px;  border: 2px solid #929292;}/* On mouse-over, add a grey background color */.consent-manager .container:hover input~.checkmark {  border-color: #5e5752;}.consent-manager .container.greyed-text:hover {  border-color: #CCCCCC;  cursor: auto;}/* When the checkbox is checked, add a blue background */.consent-manager .container input:checked~.checkmark {  border-color: #5e5752;}.consent-manager .container.greyed-text input:checked~.checkmark {  background-color: #CCCCCC;  border-color: #CCCCCC;}.consent-manager .container input:checked~.checkmark:hover {  border-color: #5e5752;}.consent-manager .container.greyed-text input:checked~.checkmark:hover {  background-color: #cccccc;  border-color: #cccccc;}/* Create the checkmark/indicator (hidden when not checked) */.consent-manager .checkmark:after {  content: \"\";  position: absolute;  display: none;}/* Show the checkmark when checked */.consent-manager .container input:checked~.checkmark:after {  display: block;}/* Style the checkmark/indicator */.consent-manager .container .checkmark:after {  left: 7px;  top: 2px;  width: 5px;  height: 10px;  border: solid #C00;  border-width: 0 2px 2px 0;  -webkit-transform: rotate(45deg);  -ms-transform: rotate(45deg);  transform: rotate(45deg);  box-sizing: inherit;}.consent-manager .checkBoxOption label {  font-family: \"SwissText\", \"CH-Sans\", Helvetica, Arial, sans-serif;  font-weight: bold;  font-size: 16px;  line-height: 22px;  color: #5e5752;}.consent-manager .checkBoxOption label.greyed-text {  color: #cccccc;}.consent-manager .checkBoxOption label:hover {  color: #5e5752;  text-decoration: underline;}.consent-manager .checkBoxOption label.greyed-text:hover {  color: #cccccc;}.consent-manager .checkBoxOption Input {  margin: 0px;}/* custom checkbox end */.consent-manager .checkBoxDesc {  margin-top: 5px;  padding-left: 36px;  display: block;  font-size: 16px;  line-height: 20px;  margin-bottom: 30px;}.consent-manager .cc-row-buttons {  display: flex;  flex-direction: row;  flex-wrap: wrap;  justify-content: flex-end;}.consent-manager .cc-row-buttons.collapsed {  display: none;}.consent-manager button.button-primary {  cursor: pointer;  text-align: center;  background-color: #C00;  border: 1px solid #C00;  color: #fff;  height: 50px;  min-height: 50px;  line-height: 24px;  padding: 11px 30px;  font-size: 18px;  font-family: \"SwissText\", \"CH-Sans\", Helvetica, Arial, sans-serif;  font-weight: bold;}.consent-manager button.button-primary:hover {  background-color: #900;  border-color: #900;}.consent-manager button.button-secondary {  cursor: pointer;  text-align: center;  background-color: #6f6660;  border: 2px solid #6f6660;  color: #fff;  height: 50px;  min-height: 50px;  line-height: 24px;  padding: 11px 30px;  font-size: 18px;  font-family: \"SwissText\", \"CH-Sans\", Helvetica, Arial, sans-serif;  font-weight: bold;  margin-right: 30px;}.consent-manager button.button-secondary:hover {  background-color: #5e5752;  border-color: #5e5752;  color: #fff;}.consent-manager #cm-acceptNone {  border: none;  background-color: transparent;  font-size: 16px;  font-weight: normal;}/* TOGGLE CSS */.consent-manager .togglebar {  margin-top: 20px;  overflow: hidden;  max-height: 1800px;  text-align: right;}.consent-manager .togglebar.collapsed {  max-height: 0;}.consent-manager .consent-toggle {  line-height: 18px;  font-size: 14px;  font-family: \"SwissText\", \"CH-Sans\", Helvetica, Arial, sans-serif;  border: none;  font-weight: 600;  background-color: #fff;  color: #6F6660;  cursor: pointer;  outline: none;  vertical-align: middle;}.consent-manager .toggleIcon {  content: \"\";  border-left: 2px solid #c00;  border-bottom: 2px solid #c00;  width: 8px;  height: 8px;  transform: rotate(135deg);  margin: 0px 0 -4px 10px;  display: inline-block;  cursor:pointer;}.consent-manager .toggleIcon.collapsed {  transform: rotate(-45deg);  margin: 0 0px 1px 10px;  border-left: 2px solid #6F6660;  border-bottom: 2px solid #6F6660;}.consent-manager .descContent {  list-style-type: none;  padding: 0 0 20px 0;  margin: 0;  text-align: left;}.consent-manager .togglebar li p {  display: block;  line-height: 18px;  padding: 0 0px;  text-decoration: none;  font-size: 14px;  margin-bottom: 12px;}.consent-manager .togglebar li h3 {  margin: 7px 0;}.consent-manager .layout-row-toggle {  display: block;  text-align: right;}  /* DEFAULT CSS OVERWRITES */button:focus,a.icon-link:focus {  outline: 1px dotted !important;  outline: 5px auto -webkit-focus-ring-color !important;  }a.icon-link:focus::after {  left: initial !important;  pointer-events: initial !important;  position: initial !important;  right: initial !important;  top: initial !important;}/* TOGGLE CSS END */@media (max-width: 580px) {  .consent-manager {    overflow-y: scroll;    overflow-x: hidden;    top: 5%;    height: 90%;    width: 90%;    padding-top: 20px;  }  .consent-manager-inner {    height: calc(100% - 140px);    overflow-y: scroll;  }  .consent-manager .title {    font-size: 22px;    line-height: 26px;  }  .consent-manager p,  .consent-manager li,  .consent-manager a.icon-link {    font-size: 14px;    line-height: 20px;    color: #101010;  }  .consent-manager .checkboxOption {    width: 100%;    margin-bottom: 0px;  }  .consent-manager .checkBoxOption label {    font-family: \"SwissText\", \"CH-Sans\", Helvetica, Arial, sans-serif;    font-weight: 400;    font-size: 14px;    line-height: 18px;  }  .consent-manager button.button-primary {    width: 100%;    min-height: 30px;    font-size: 16px;    line-height: 18px;    margin-bottom: 10px;    padding: 5px 20px;    margin-right: 0px;  }  .consent-manager button.button-secondary {    width: 100%;    min-height: 30px;    font-size: 16px;    line-height: 18px;    margin-right: 0px;    padding: 5px 20px;  }  .consent-toggle {    padding-bottom: 10px;  }  .consent-manager .toggleIcon {    margin: 0 0px 0px 10px;  }  .consent-manager .toggleIcon.collapsed {    margin: 0 0px 6px 10px;  }  .consent-manager .layout-row-toggle {    height: 30px;  }  .consent-manager .descContent {    padding: 0;  }  .consent-manager .paddingTop {    flex-flow: column;  }  .consent-manager .layout-col.col-main {    padding: 0 20px;  }  .consent-manager .cc-row-buttons {    width: calc(100% - 40px);    flex-direction: column-reverse;     padding-bottom: 20px;  }  .consent-manager .buttonView {    position: fixed;    bottom: 0;    left: 0;    width: 100%;    display: flex;    justify-content: center;  }}@media (max-width: 767px) {  .consent-manager {    position: fixed;    background: #ffffff;    top: 5%;    left: 50%;    z-index: 9999999;    transform: translate(-50%);    height: 90%;    width: 90%;    max-width: 767px;    overflow-y: scroll;    overflow-x: hidden;    padding-top: 20px;  }  .consent-manager .title {    font-size: 22px;    line-height: 26px;  }  .consent-manager .checkBoxOption label {    font-family: \"SwissText\", \"CH-Sans\", Helvetica, Arial, sans-serif;    font-weight: 400;    font-size: 14px;    line-height: 18px;  }}";utag.gdpr.preferences_prompt.content.html="<div class=\"consent-manager-overlay\" id=\"consentOverlay\"></div><div class=\"consent-manager\" id=\"cm-dial-v211\" tabindex=\"-1\" role=\"dialog\">    <!-- this is #__tealiumGDPRcpPrefs -->    <div class=\"consent-manager-inner\" id=\"cm_v230\">        <div class=\"layout-wrap\">            <div class=\"layout-col col-main\">                <div class=\"layout-row\">                    <div class=\"row-item\">                        <h2 class=\"title\" id=\"cm-headline\" tabindex=\"0\">{{title}}</h2>                    </div>                </div>                <div class=\"layout-row\">                    <p tabindex=\"0\">{{message}}</p>                </div>                <div class=\"layout-row paddingTop\">                    <!--                    <div class=\"row-item\">                        <a href=\"{{imprint_url}}\" class=\"icon-link\" target=\"_blank\">{{imprint}}</a>                    </div>                    -->                    <div class=\"row-item\" style=\"text-align: right;\">                        <button id=\"cm-descToggle\" aria-expanded=\"false\" class=\"consent-toggle collapsed\" tabindex=\"0\" aria-controls=\"cm-consentDesc\">{{show_more}}</button><i class=\" toggleIcon collapsed\" id=\"cm-descToggleIcon\"></i>                    </div>                </div>                <div class=\"layout-row-toggle\">                    <div id=\"startDesc\"></div>                    <!--<button id=\"cm-descToggle\" aria-expanded=\"false\" class=\"consent-toggle collapsed\" tabindex=\"0\" aria-controls=\"cm-consentDesc\">{{show_more}}</button><i class=\" toggleIcon collapsed\" id=\"cm-descToggleIcon\"></i>-->                    <div id=\"cm-consentDesc\" class=\"togglebar collapsed\" aria-live=\"polite\" tabindex=\"-1\">                        <div class=\"checkBoxOption\" style=\"display:none;\">                            <label id=\"ck_1_label\" class=\"container greyed-text\">{{category_analytics_title}}                                <input type=\"checkbox\" name=\"necessary\" for=\"ck_1\" id=\"ck_1\" class=\"cmCat-checkboxes\" checked disabled tabindex=\"-1\">                                <span class=\"checkmark\" role=\"checkbox\" id=\"checkmark_ck_1\" tabindex=\"0\" aria-checked=\"true\" aria-labelledby=\"ck_1_label\" disabled></span>                            </label>                            <p>{{category_analytics_description}}</p>                        </div>                        <div class=\"checkBoxOption\">                            <label id=\"ck_2_label\" class=\"container\">{{category_affiliates_title}}                                <input type=\"checkbox\" name=\"statistics\" for=\"ck_2\" id=\"ck_2\" class=\"cmCat-checkboxes\" tabindex=\"-1\">                                <span class=\"checkmark\" role=\"checkbox\" id=\"checkmark_ck_2\" tabindex=\"0\" aria-checked=\"false\" aria-labelledby=\"ck_2_label\"></span>                            </label>                            <p>{{category_affiliates_description}}</p>                        </div>                        <div class=\"checkBoxOption\">                            <label id=\"ck_3_label\" class=\"container\">{{category_display_ads_title}}                                <input type=\"checkbox\" name=\"comfort\" for=\"ck_3\" id=\"ck_3\" class=\"cmCat-checkboxes\" tabindex=\"-1\">                                <span class=\"checkmark\" role=\"checkbox\" id=\"checkmark_ck_3\" tabindex=\"0\" aria-checked=\"false\" aria-labelledby=\"ck_3_label\"></span>                            </label>                            <p>{{category_display_ads_description}}</p>                        </div>                        <div class=\"checkBoxOption\">                            <label id=\"ck_4_label\" class=\"container\">{{category_search_title}}                                <input type=\"checkbox\" name=\"marketing\" for=\"ck_4\" id=\"ck_4\" class=\"cmCat-checkboxes\" tabindex=\"-1\">                                <span class=\"checkmark\" role=\"checkbox\" id=\"checkmark_ck_4\" tabindex=\"0\" aria-checked=\"false\" aria-labelledby=\"ck_4_label\" aria-controls=\"notification\"></span>                            </label>                            <div class=\"\" id=\"cm-notification\" aria-live=\"polite\">                                <div class=\"row-item\">                                    <p>{{notification}}</p>                                </div>                            </div>                            <p>{{category_search_description}}</p>                        </div>                        <div class=\"buttonView\">                            <div class=\"cc-row-buttons collapsed\" id=\"cm-allSelectBtns\">                                <!-- id=\"preferences_prompt_submit\" -->                                <button id=\"cm-selectSpecific\" class=\"button-secondary\" tabindex=\"0\">{{confirm_specific}}</button>                                <button id=\"cm-selectAllCheckboxes\" class=\"button-primary\" tabindex=\"0\">{{choose_all}}</button>                            </div>                        </div>                    </div>                </div>                <div class=\"buttonView\">                    <div class=\"cc-row-buttons\" id=\"cm-allNoneBtns\">                        <!-- id=\"preferences_prompt_submit\" -->                        <button id=\"cm-acceptNone\" class=\"button-secondary\" tabindex=\"0\">{{accept_none}}</button>                        <button id=\"cm-acceptAll\" class=\"button-primary\" tabindex=\"0\">{{accept_all}}</button>                    </div>                </div>                <!--                <div class=\"layout-row paddingTop\">                    <div class=\"row-item\">                        <a href=\"{{imprint_url}}\" class=\"icon-link\" target=\"_blank\">{{imprint}}</a>                    </div>                </div>                -->            </div>        </div>    </div></div>";utag.gdpr.preferences_prompt.content.js="(function preferences_prompt(){var reg_match=/\\d+$/;var state_function_defined=false;var body=document.body;var html=document.documentElement;var height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight);var clickEventIDs={ck_1:document.getElementById(\"ck_1\"),ck_2:document.getElementById(\"ck_2\"),ck_3:document.getElementById(\"ck_3\"),ck_4:document.getElementById(\"ck_4\"),checkmark_ck_1:document.getElementById(\"checkmark_ck_1\"),checkmark_ck_2:document.getElementById(\"checkmark_ck_2\"),checkmark_ck_3:document.getElementById(\"checkmark_ck_3\"),checkmark_ck_4:document.getElementById(\"checkmark_ck_4\"),selectAllCheckboxes:document.getElementById(\"cm-selectAllCheckboxes\"),selectSpecific:document.getElementById(\"cm-selectSpecific\"),descToggle:document.getElementById(\"cm-descToggle\"),descToggleIcon:document.getElementById(\"cm-descToggleIcon\"),acceptAll:document.getElementById(\"cm-acceptAll\"),acceptNone:document.getElementById(\"cm-acceptNone\")};clickEventIDs.ck_2.addEventListener(\"change\",function(){selectSpecific(2)},false);clickEventIDs.ck_3.addEventListener(\"change\",function(){selectSpecific(3)},false);clickEventIDs.ck_4.addEventListener(\"change\",function(){selectSpecific(4)},false);clickEventIDs.checkmark_ck_2.addEventListener(\"keydown\",function(e){spaceCheck(2,e)},false);clickEventIDs.checkmark_ck_3.addEventListener(\"keydown\",function(e){spaceCheck(3,e)},false);clickEventIDs.checkmark_ck_4.addEventListener(\"keydown\",function(e){spaceCheck(4,e)},false);clickEventIDs.selectAllCheckboxes.addEventListener(\"click\",function(){selectAllCheckboxes()},false);clickEventIDs.selectSpecific.addEventListener(\"click\",function(){confirmSpecific()},false);clickEventIDs.descToggle.addEventListener(\"click\",function(){consentDescToggle()},false);clickEventIDs.descToggleIcon.addEventListener(\"click\",function(){consentDescToggle()},false);clickEventIDs.acceptAll.addEventListener(\"click\",function(){selectAllCheckboxes();},false);clickEventIDs.acceptNone.addEventListener(\"click\",function(){selectNone();},false);showConsentDialog();function changeToggleText(){var toggleButtonOpen='{{show_more}}';var toggleButtonClose='{{show_less}}';if(clickEventIDs.descToggle.classList.contains('collapsed')){clickEventIDs.descToggle.innerHTML=toggleButtonOpen;clickEventIDs.descToggle.setAttribute('aria-expanded','false');clickEventIDs.checkmark_ck_2.tabIndex=-1;clickEventIDs.checkmark_ck_3.tabIndex=-1;clickEventIDs.checkmark_ck_4.tabIndex=-1;}else{clickEventIDs.descToggle.innerHTML=toggleButtonClose;clickEventIDs.descToggle.setAttribute('aria-expanded','true');clickEventIDs.checkmark_ck_2.tabIndex=0;clickEventIDs.checkmark_ck_3.tabIndex=0;clickEventIDs.checkmark_ck_4.tabIndex=0;}}function consentDescToggle(){var consentBtns=document.getElementById('cm-allNoneBtns');var consentBtnsDesc=document.getElementById('cm-allSelectBtns');var consentDesc=document.getElementById('cm-consentDesc');var descToggleIcon=document.getElementById('cm-descToggleIcon');consentBtns.classList.toggle('collapsed');consentBtnsDesc.classList.toggle('collapsed');consentDesc.classList.toggle('collapsed');descToggleIcon.classList.toggle('collapsed');clickEventIDs.descToggle.classList.toggle('collapsed');changeToggleText();}function modalFocus(){var firstFocusElement=document.getElementById(\"cm-headline\");var lastFocusElement=document.getElementById(\"cm-selectAllCheckboxes\");firstFocusElement.focus();var KEYCODE_TAB=9;var KEYCODE_SHIFT=16;document.addEventListener('keydown',function(e){if(document.getElementById('__tealiumGDPRcpPrefs')){var isTabPressed=(e.key==='Tab'||e.keyCode===KEYCODE_TAB);var isShiftPressed=(e.shiftKey||e.key==='Shift'||e.keyCode===KEYCODE_SHIFT);if(!isTabPressed){return;}if(isShiftPressed){if(document.activeElement===firstFocusElement){lastFocusElement.focus();e.preventDefault();}}else{if(document.activeElement===lastFocusElement){firstFocusElement.focus();e.preventDefault();}}}});}function spaceCheck(categoryNum,e){var KEYCODE_SPACE=32;var checkboxes=document.getElementsByClassName('cmCat-checkboxes');var isSpacePressed=(e.keyCode===KEYCODE_SPACE);if(isSpacePressed){if(!checkboxes[categoryNum-1].checked){setCheckbox(categoryNum-1,checkboxes);}else{unsetCheckbox(categoryNum-1,checkboxes);}selectSpecific(categoryNum);}}function sendGA4_View_Event(action,clickedButton){var consent_cookie=window.utag.gdpr.getCookieValues()||{};var consent_value=\"(not set)\";if(consent_cookie&&consent_cookie.consent=='true'){consent_value=\"s\".concat(consent_cookie.c2).concat('|c').concat(consent_cookie.c3).concat('|p').concat(consent_cookie.c4);}function fireEvent(){try{let tmp=Object.assign({},utag_data);tmp.tealium_event='consent manager';tmp.event_category='consent manager';tmp.event_action=(clickedButton?action.concat(' ').concat(clickedButton):action);tmp.event_label=consent_value;delete tmp['error.errorInfo.elementName'];delete tmp['error.errorInfo.type'];delete tmp['error.errorInfo.errorCode'];delete tmp['error.errorInfo.message'];tmp.event_noninteraction=true;utag.link(tmp);}catch(e){}}function waitForGAPageview(cnt){var gtag_flag=false,i_count=0;if(!cnt){cnt=1;}if(typeof dataLayer!==\"undefined\"){for(i_count=0;i_count<dataLayer.length;i_count++){if(dataLayer[i_count][0]==\"event\"&&dataLayer[i_count][1]==\"page_view\"){gtag_flag=true;break;}}}if(gtag_flag){fireEvent();}else if(cnt<40){setTimeout(function(){waitForGAPageview(++cnt)},100);}}if(document.readyState!=='complete'){if(!state_function_defined){document.addEventListener('readystatechange',function(){if(document.readyState==='complete')waitForGAPageview();});state_function_defined=true;}}else{waitForGAPageview();}}function sendEvent(action,clickedButton){var consent_cookie=window.utag.gdpr.getCookieValues()||{};var consent_value=\"(not set)\";if(consent_cookie&&consent_cookie.consent=='true'){consent_value=\"s\".concat(consent_cookie.c2).concat('|c').concat(consent_cookie.c3).concat('|p').concat(consent_cookie.c4);}if(action==='view'){window.GA_ConsentManagerViewTS=Date.now();}else if(action==='submit'){window.GA_ConsentManagerSubmitTS=Date.now();if(window.GA_ConsentManagerSubmitTS&&window.GA_ConsentManagerViewTS){window.GA_ConsentManagerTSDiff=window.GA_ConsentManagerSubmitTS-window.GA_ConsentManagerViewTS;}}function fireEvent(){try{let tmp=Object.assign({},utag_data);tmp.tealium_event='consent manager';tmp.ga_eventCategory='consent manager';tmp.ga_eventAction=(clickedButton?action.concat(' ').concat(clickedButton):action);tmp.ga_eventLabel=consent_value;delete tmp['error.errorInfo.elementName'];delete tmp['error.errorInfo.type'];delete tmp['error.errorInfo.errorCode'];delete tmp['error.errorInfo.message'];tmp.ga_nonInteraction=true;utag.link(tmp);}catch(e){}}function waitForGAPageview(cnt){if(!cnt){cnt=1;}if(window.ga&&window.ga.getAll&&window.ga.getAll()[0]&&window.ga.getAll()[0].model&&window.ga.getAll()[0].model.data&&window.ga.getAll()[0].model.data.ea&&window.ga.getAll()[0].model.data.ea[\":_s\"]>0){fireEvent();}else if(cnt<50){if(window.ga&&window.ga.getAll&&window.ga.getAll()[0]&&window.ga.getAll()[0].model&&window.ga.getAll()[0].model.data&&window.ga.getAll()[0].model.data.ea&&typeof window.ga.getAll()[0].model.data.ea[':_s']==='undefined'){cnt=99;}else{setTimeout(function(){waitForGAPageview(++cnt)},1000);}}}if(document.readyState!=='complete'){if(!state_function_defined){document.addEventListener('readystatechange',function(){if(document.readyState==='complete')waitForGAPageview();});state_function_defined=true;}}else{waitForGAPageview();}}function setCheckbox(i,checkboxArray){checkboxArray[i].checked=true;var checkmark=document.getElementById('checkmark_'+checkboxArray[i].getAttribute('id'));checkmark.setAttribute('aria-checked','true');}function unsetCheckbox(i,checkboxArray){checkboxArray[i].checked=false;var checkmark=document.getElementById('checkmark_'+checkboxArray[i].getAttribute('id'));checkmark.setAttribute('aria-checked','false');}function initCheckboxes(){var consentState=utag.gdpr.getConsentState();var checkboxes=document.getElementsByClassName('cmCat-checkboxes');if(typeof consentState===\"number\"){for(i=0;i<4;i++){checkboxes[i].checked=(consentState===1);}}else{for(i=0;i<4;i++){if(consentState[i].ct===\"1\"){setCheckbox(i,checkboxes);}else{unsetCheckbox(i,checkboxes);}}}setCheckbox(0,checkboxes);}function confirmSpecific(){var checkboxes=document.getElementsByClassName('cmCat-checkboxes');try{closeConsentDialog(checkboxes,'selection');}catch(error){console.log(error);}}function showConsentDialog(){var consentOverlay=document.getElementById(\"consentOverlay\");consentOverlay.style.display=\"block\";consentOverlay.style.height=height+\"px\";var consentDialog=document.getElementById(\"cm-dial-v211\");consentDialog.style.display=\"block\";clickEventIDs.selectAllCheckboxes.style.display=\"block\";clickEventIDs.selectSpecific.style.display=\"block\";if(typeof window.utag_cmOpen==='function'){window.utag_cmOpen();}initCheckboxes();sendGA4_View_Event('view');modalFocus();changeToggleText();}function closeConsentDialog(checkboxArray,clickedButton){var action='change';if(utag.gdpr.getConsentState()===0){action='submit';}var cats={};for(var i=0;i<checkboxArray.length;i++){var obj=checkboxArray[i];cats[obj.id.match(reg_match)[0]]=obj.checked?1:0;}cats[1]=1;utag.gdpr.setPreferencesValues(cats);var removeDialog=document.getElementById('__tealiumGDPRcpPrefs');if(removeDialog){removeDialog.parentNode.removeChild(removeDialog);}sendEvent(action,clickedButton);}function selectAllCheckboxes(){var checkboxes=document.getElementsByClassName('cmCat-checkboxes');var recallthis=false;for(var i=0;i<checkboxes.length;i++){if(!checkboxes[i].checked){recallthis=true;setCheckbox(i,checkboxes);break;}}if(recallthis){setTimeout(function(){selectAllCheckboxes();},100);}else{setTimeout(function(){try{closeConsentDialog(checkboxes,'all');}catch(error){console.log(error);}},200);}}function selectNone(){var checkboxes=document.getElementsByClassName('cmCat-checkboxes');var recallthis=false;for(var i=0;i<checkboxes.length;i++){if(checkboxes[i].checked){recallthis=true;unsetCheckbox(i,checkboxes);break;}}if(recallthis){setTimeout(function(){selectNone();},100);}else{setTimeout(function(){try{closeConsentDialog(checkboxes,'none');}catch(error){console.log(error);}},200);}}function selectSpecific(categoryNum){document.getElementById(\"cm-notification\").style.display=\"none\";var checkboxes=document.getElementsByClassName('cmCat-checkboxes');if(categoryNum==4){for(var i=0;i<categoryNum-1;i++){document.getElementById(\"cm-notification\").style.display=\"block\";setCheckbox(i,checkboxes);}document.getElementById(\"checkmark_ck_4\").focus();}if(categoryNum==3&&checkboxes[3].checked===true){unsetCheckbox(3,checkboxes);}else if(categoryNum==2&&checkboxes[3].checked===true){unsetCheckbox(3,checkboxes);}if(checkboxes[categoryNum-1].checked===false){document.getElementById(\"cm-notification\").style.display=\"none\";}}})();";utag.gdpr.preferences_prompt.defaultLang="en";utag.gdpr.showConsentPreferences=function(_lang){function cloneObject(source,target,depth){if(depth===undefined){depth=1;}else if(depth===-1){utag.DB("Max Clone depth exceeded, using reference");return source;}if(window.JSON){return JSON.parse(JSON.stringify(source));}target=target||{};for(var prop in source){if(!source.hasOwnProperty(prop)){continue;}switch(utag.gdpr.typeOf(source[prop])){case"array":target[prop]=source[prop].slice(0);break;case"object":target[prop]=cloneObject(source[prop],target[prop],--depth);break;default:target[prop]=source[prop];}}return target;}try{if(utag.gdpr.preferences_prompt.noShow){return;}var cn=document.getElementById("__tealiumGDPRcpStyle");if(cn){cn.parentNode.removeChild(cn);}var hn=document.getElementById("__tealiumGDPRcpPrefs");if(hn){hn.parentNode.removeChild(hn);}var sn=document.getElementById("__tealiumGDPRcpPrefsScript");if(sn){sn.parentNode.removeChild(sn);}var promptData=cloneObject(utag.gdpr.preferences_prompt);var activeCats=utag.gdpr.getCategories(true);var cats='';var id;for(var i=0;i<activeCats.length;i++){id=utag.gdpr.preferences_prompt.categories[activeCats[i]].id;cats+='<tr><td>{{category_'+activeCats[i]+'_title}}</td><td>{{category_'+activeCats[i]+'_description}}</td><td><input type="checkbox" class="toggle" id="toggle_cat'+id+'"/><label for="toggle_cat'+id+'"> <span class="on">{{yes}}</span> <span class="off">{{no}}</span></label></td></tr>';}promptData.content.html=promptData.content.html.replace('<!--CATEGORIES-->',cats);var dtc=utag.gdpr.getDeTokenizedContent(promptData,_lang);var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),mDiv=document.createElement("div"),scr=document.createElement("script"),body=document.body||document.getElementsByTagName("body")[0];style.type="text/css";style.id="__tealiumGDPRcpStyle";if(style.styleSheet){style.styleSheet.cssText=dtc.css;}else{style.appendChild(document.createTextNode(dtc.css));}head.appendChild(style);mDiv.innerHTML=dtc.html;mDiv.id="__tealiumGDPRcpPrefs";body.appendChild(mDiv);scr.language="javascript";scr.type="text/javascript";scr.text="try{"+dtc.js+"} catch(e){utag.DB(e)}";scr.id="__tealiumGDPRcpPrefsScript";head.appendChild(scr);}catch(e){utag.DB(e);}};utag.gdpr.dns=null;utag.track_old=utag.track;utag.track=function(a,b,c,d){if(typeof a=="string")a={event:a,data:b,cfg:{cb:c,uids:d}};if(a.event==="update_consent_cookie"&&b.consent_categories){utag.gdpr.updateConsentCookie(b.consent_categories);}else if(a.event==="set_dns_state"&&typeof b.do_not_sell!=='undefined'){utag.gdpr.dns.setDnsState(b.do_not_sell);}else{if(utag.gdpr.getConsentState()===0){if(!utag.gdpr.noqueue)utag.gdpr.queue.push({event:a.event,data:utag.handler.C(a.data),cfg:utag.handler.C(a.cfg)});}
if(a.cfg.uids){var uids=[];for(var i=0;i<a.cfg.uids.length;i++){if(!utag.gdpr.shouldTagFire(a.cfg.uids[i])){uids.push(a.cfg.uids[i]);}}
a.cfg.uids=uids;utag.gdpr.trackUIDs=utag.gdpr.trackUIDs.concat(uids);}
return utag.track_old.apply(this,arguments);}};utag.loader.OU_old=utag.loader.OU;utag.loader.OU=function(tid){try{if(utag.gdpr.typeOf(tid)!=="undefined"){return utag.gdpr.shouldTagFire();}
utag.gdpr.applyConsentState();}
catch(e){utag.DB(e);}};if(utag.gdpr.preferences_prompt.single_cookie){window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};utag.loader.SC("utag_main",null,"da");window.utag_cfg_ovrd.nocookie=true;}
if(!utag.gdpr.consent_prompt.isEnabled&&!utag.gdpr.doNotSell.isEnabled&&utag.gdpr.getConsentState()==0){utag.gdpr.setAllCategories(utag.gdpr.preferences_prompt.defaultState,!0);}
if(typeof utag_cfg_ovrd!='undefined'){for(utag._i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[utag._i]=utag_cfg_ovrd[utag._i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].block==1||(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!=''))){a[b].block=1;c=1;this.bq[b]=1;}}
if(c==1){for(b in this.GV(a)){if(a[b].block){a[b].id=b;if(a[b].load==4)a[b].load=1;a[b].cb=function(){var d=this.uid;utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};this.AS(a[b]);}}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;if(utag.cfg.noview!=true)utag.handler.RE('view',utag.data,"alr");utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1){if(utag.loader.bk[b.id]||((utag.cfg.readywait||utag.cfg.noview)&&b.load==4)){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.wait==1&&utag.loader.rf==0){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};utag.loader.EV('','ready',function(a){if(utag.loader.efr!=1){utag.loader.efr=1;try{if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV("","ready",function(){setTimeout(function(){utag.gdpr.promptEnabledSetting();cmExplicitDomReady();cmDNSDomReady();},utag.cfg.waittimer||1);});}else{utag.gdpr.promptEnabledSetting();cmExplicitDomReady();cmDNSDomReady();}function cmExplicitDomReady(){try{if(utag.gdpr.consent_prompt.isEnabled){if(!utag.gdpr.consent_prompt.noShow){if(!utag.gdpr.getConsentState()){utag.gdpr.showExplicitConsent();}}}}catch(e){utag.DB(e);}}function cmDNSDomReady(){try{if(utag.gdpr.doNotSell.isEnabled){if(!utag.gdpr.doNotSell.noShow){if(!utag.gdpr.dns.getDnsState()){utag.gdpr.showDoNotSellBanner();}}}}catch(e){utag.DB(e);}}}catch(e){utag.DB(e);}try{try{if(utag.data['dom.pathname'].toString().indexOf('magazine')>-1){(function(){try{var item=document.querySelector(".js-download-pages-button");if(item){item.addEventListener("click",function(item){lhgEvent.fire({},"story hub","click","download button");},true);}}
catch(ex){}
try{var item2=document.querySelector(".js-offline-page-download");if(item2){item2.addEventListener("click",function(item2){lhgEvent.fire({},"story hub","click","top-icon download");},true);}}
catch(ex){}
try{document.querySelector("footer div.col-12.col-md-6.footer-nav li:last-child").addEventListener("click",function(e){if(e.target.href.indexOf("#")>=0){e.preventDefault();utag.gdpr.showConsentPreferences(lhgData.page.pageInfo.language);}});}
catch(ex){}})();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){try{var items=document.querySelectorAll("a[data-identifier]");if(items){for(var i=0;i<items.length;i++){var itm=items[i];if(itm){itm.addEventListener("click",function(itm){lhgEvent.fire({},"dwm","click",this.dataset.identifier);},true);}}}}
catch(ex){}
try{document.addEventListener('click',function(event){try{if(event.srcElement.closest("[data-identifier-track]")){var dataIdentifierTrack=event.srcElement.closest("[data-identifier-track]").getAttribute("data-identifier-track");var eventParam=dataIdentifierTrack.split("_");if(eventParam.length===3){lhgEvent.fire({},eventParam[0].replace(/-/g," "),eventParam[1].replace(/-/g," "),eventParam[2].replace(/-/g," "),null,dataIdentifierTrack);}}}catch(e){}});}
catch(ex){}})();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['mmPageID_firstPart'].toString().toLowerCase()=='ALPI'.toLowerCase()||utag.data['mmPageID_firstPart'].toString().toLowerCase()=='PURF'.toLowerCase()||utag.data['mmPageID_firstPart'].toString().toLowerCase()=='EPCO'.toLowerCase()||utag.data['mmPageID_firstPart'].toString().toLowerCase()=='RBPD'.toLowerCase()){function submitInlineErrorEvent(errorCode,errorMessage){if(errorCode){if(errorMessage){let tv='error view inline message',ea='view inline message',ec='error',el='error | '+errorCode,cd={};cd['error.errorInfo.elementName']='client';cd['error.errorInfo.type']='client';cd['error.errorInfo.errorCode']=errorCode;cd['error.errorInfo.message']=errorMessage;let tmp=Object.assign({},utag_data);tmp.tealium_event=tv;tmp.event_category=ec;tmp.event_action=ea;tmp.event_label=el;tmp.error_counter=1;if(cd){for(let key in cd){if(cd.hasOwnProperty(key)){tmp[key]=cd[key];}}}
utag.link(tmp);}}}
(function(){try{let sesc_purf_error_list_array=[];let mutationsOccured=function(mutations){let errors=document.querySelectorAll('.message-error .link-follow');let tmp_error_list=[];if(errors!=null){for(var e=0;e<errors.length;e++){let err=errors[e];if(err){var err_id=err.id;var err_msg=err.textContent;tmp_error_list.push(err_id);if(!sesc_purf_error_list_array.includes(err_id)){sesc_purf_error_list_array.push(err_id);submitInlineErrorEvent(err_id,err_msg);}}}}
sesc_purf_error_list_array=sesc_purf_error_list_array.filter(function(itm){return tmp_error_list.includes(itm);});};let mutationsOccured_voucher=function(mutations){let errors=document.querySelectorAll('.message-error .text');let tmp_error_list=[];if(errors!=null){for(var e=0;e<errors.length;e++){let err=errors[e];if(err){if(err.id)continue;var err_id="INVALID_VOUCHER";var err_msg=err.textContent;tmp_error_list.push(err_id);if(!sesc_purf_error_list_array.includes(err_id)){sesc_purf_error_list_array.push(err_id);submitInlineErrorEvent(err_id,err_msg);}}}}
sesc_purf_error_list_array=sesc_purf_error_list_array.filter(function(itm){return tmp_error_list.includes(itm);});};window.MutationObserver=window.MutationObserver||{};let is_ie=navigator.userAgent.includes('MSIE');let sesc_mut_errorNodes=document.querySelectorAll('[tag="messages"]');if(is_ie){for(var en=0;en<sesc_mut_errorNodes.length;en++){let element=sesc_mut_errorNodes[en];if(element!=null){element.addEventListener("DOMNodeInserted",function(event){mutationsOccured(null);},false);}}
let loginPanel=document.getElementById('panel-login');if(loginPanel){loginPanel.addEventListener("DOMNodeInserted",function(event){mutationsOccured(null);},false);}
let voucherPanel=document.getElementsByClassName("ui-dialog dialog-vou ui-widget ui-widget-content ui-front");if(voucherPanel){for(var j=0;j<voucherPanel.length;j++){if(voucherPanel[j]){voucherPanel[j].addEventListener("DOMNodeInserted",function(event){mutationsOccured_voucher(null);},false);}}}}
else{var sesc_purf_mut_observer=new MutationObserver(mutationsOccured);var sesc_mut_config={attributes:true,childList:true,characterData:true,subtree:true};for(var en=0;en<sesc_mut_errorNodes.length;en++){sesc_purf_mut_observer.observe(sesc_mut_errorNodes[en],sesc_mut_config);}
let loginPanel=document.getElementById('panel-login');if(loginPanel){sesc_purf_mut_observer.observe(loginPanel,sesc_mut_config);}
let voucherPanel=document.getElementsByClassName("ui-dialog dialog-vou ui-widget ui-widget-content ui-front");if(voucherPanel){var sesc_mut_vouch_observer=new MutationObserver(mutationsOccured_voucher);for(var j=0;j<voucherPanel.length;j++){if(voucherPanel[j])sesc_mut_vouch_observer.observe(voucherPanel[j],sesc_mut_config);}}}}
catch(ex){}})();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){if(typeof utag_data['qp.WT.mc_id']==='string')utag_data.wt_campaign=utag_data['qp.WT.mc_id'];else if(typeof utag_data['qp.wt.mc_id']==='string')utag_data.wt_campaign=utag_data['qp.wt.mc_id'];if(typeof utag_data['qp.utm_campaign']==='string')utag_data.utm_campaign=utag_data['qp.utm_campaign'];if(typeof utag_data['qp.utm_content']==='string')utag_data.utm_content=utag_data['qp.utm_content'];if(typeof utag_data['qp.utm_source']==='string')utag_data.utm_source=utag_data['qp.utm_source'];if(typeof utag_data['qp.utm_medium']==='string')utag_data.utm_medium=utag_data['qp.utm_medium'];if(typeof utag_data['qp.utm_term']==='string')utag_data.utm_term=utag_data['qp.utm_term'];if(typeof utag_data['qp.aaaid']==='string')utag_data.aaaid=utag_data['qp.aaaid'];if(typeof utag_data['qp.ns_campaign']==='string')utag_data.ns_campaign=utag_data['qp.ns_campaign'];if(typeof utag_data['qp.clickID']==='string')utag_data.clickID=utag_data['qp.clickID'];if(typeof utag_data['qp.MSE_LH.clickid']==='string')utag_data.mse_clickid=utag_data['qp.MSE_LH.clickid'];if(typeof utag_data['qp.internalcampaign']==='string')utag_data.intcamp=utag_data['qp.internalcampaign'];if(typeof utag_data['qp.intcamp']==='string')utag_data.intcamp=utag_data['qp.intcamp'];if(typeof utag_data['qp.ses_mark']==='string')utag_data.ses_mark=utag_data['qp.ses_mark'];if(typeof utag_data['qp.gclid']==='string')utag_data.gclid=utag_data['qp.gclid'];if(typeof utag_data['qp.gclsrc']==='string')utag_data.gclsrc=utag_data['qp.gclsrc'];if(typeof(window.dwmwr)!=='undefined'&&window.dwmwr!==''){utag.DB('dwmwr:');utag.DB(window.dwmwr);if(utag.data['cp.dwmwrcookie']){utag.data['dwmwr']="1";}
else{utag.data['dwmwr']=window.dwmwr;}
var erg=/utm_campaign=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.utm_campaign=erg[1];erg=/utm_source=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.utm_source=erg[1];erg=/utm_medium=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.utm_medium=erg[1];erg=/utm_term=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.utm_term=erg[1];erg=/aaaid=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!==''){utag_data.aaaid=erg[1];utag_data["qp.aaaid"]=erg[1];}
erg=/ns_campaign=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.ns_campaign=erg[1];erg=/clickID=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.clickID=erg[1];erg=/utm_content=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.utm_content=erg[1];erg=/WT\.mc_id=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.wt_campaign=erg[1];erg=/MSE_LH\.clickid=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.mse_clickid=erg[1];erg=/internalcampaign=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.intcamp=erg[1];erg=/intcamp=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.intcamp=erg[1];erg=/ses_mark=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.ses_mark=erg[1];erg=/gclid=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.gclid=erg[1];erg=/gclsrc=([^&]*)/i.exec(window.dwmwr);if(erg!==null&&erg[1]!=='')utag_data.gclsrc=erg[1];}else{utag.DB('dwmwr NOT found');}
function setCookie(cname,cvalue,exdays){const d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));let expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/";}
if(utag_data['platformId']==='adcb1'&&utag_data['gclid']&&utag_data['gclsrc']&&utag_data['gclsrc']==="gf"){const unixTime=Math.floor(Date.now()/1000);setCookie('_gcl_gf','GCL.'+unixTime+'.'+utag_data['gclid'],90)}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){if(typeof tmParam==='object'&&tmParam.page_name&&tmParam.page_name==='outbound_page'){$(document).ajaxComplete(function(event,xhr,settings){if(settings.url.indexOf('/Book/Outbound/SelectDay/')>-1){var reg=settings.url.match(/\?.*selectedDate=([^&]*)/);if(reg.length>=2){var qry=decodeURIComponent(reg[1]);var delim='/';if(qry.indexOf('.')>-1)delim='.';else if(qry.indexOf('-')>-1)delim='-';var erg=qry.split(delim);if(erg.length>=3){if(qry.indexOf(delim)===2)var date=erg[2]+'-'+erg[1]+'-'+erg[0];else if(qry.indexOf(delim)===4)var date=erg[0]+'-'+erg[1]+'-'+erg[2];}
if(typeof date==='string'&&tmParam.departure_date!==date){tmParam.departure_date=date;utag_data.departure_date=date;utag_data.departure_date_YYYYMMDD=date.replace(/-/g,'');utag.loader.SC('utag_main',{'departure_date':date+';exp-session'});}}}});}
if(typeof tmParam==='object'&&tmParam.page_name&&tmParam.page_name==='inbound_page'){$(document).ajaxComplete(function(event,xhr,settings){if(settings.url.indexOf('/Book/Inbound/SelectDay/')>-1){var reg=settings.url.match(/\?.*selectedDate=([^&]*)/);if(reg.length>=2){var qry=decodeURIComponent(reg[1]);var delim='/';if(qry.indexOf('.')>-1)delim='.';else if(qry.indexOf('-')>-1)delim='-';var erg=qry.split(delim);if(erg.length>=3){if(qry.indexOf(delim)===2)var date=erg[2]+'-'+erg[1]+'-'+erg[0];else if(qry.indexOf(delim)===4)var date=erg[0]+'-'+erg[1]+'-'+erg[2];}
if(typeof date==='string'&&tmParam.return_date!==date){tmParam.return_date=date;utag_data.return_date=date;utag_data.return_date_YYYYMMDD=date.replace(/-/g,'');utag.loader.SC('utag_main',{'return_date':date+';exp-session'});}}}});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/inbound|outbound|options|openjaw|combined/.test(utag.data['page.category.category2'])){if(utag.data["product.productInfo.productId"]&&utag.data["product.productInfo.productId"].length>0&&utag.data["ut.event"]=="view"){window.setTimeout(function(){var maxRequestSize=5;var requestCount=Math.ceil(utag.data['product.productInfo.productId'].length/maxRequestSize);for(var j=0;j<requestCount;++j){var currency=utag.data['product.price.currency'][0];var id=[],name=[],brand=[],variant=[],cat=[],price=[],listPosition=[],listName=[],arrival=[],bookingClass=[],bundle=[],departure=[],destination=[],duration=[],origin=[],segment_aircraft=[],segment_arrival=[],segment_departure=[],segment_destination=[],segment_duration=[],segment_flightAssociation=[],segment_flightNumber=[],segment_isCodeshare=[],segment_mCarrier=[],segment_number=[],segment_oCarrier=[],segment_origin=[],segment_segmentId=[],layover_airport=[],layover_duration=[];var requestSize=(utag.data['product.productInfo.productId'].length>=maxRequestSize*(j+1))?maxRequestSize*(j+1):utag.data['product.attributes.brand'].length;for(var i=maxRequestSize*j;i<requestSize;i++){try{id.push(utag.data['product.productInfo.productId'][i]);name.push(utag.data['product.productInfo.productName'][i]);brand.push(utag.data['product.attributes.brand'][i]);variant.push(utag.data['product.attributes.variant'][i]);cat.push(utag.data['product.categoryAll'][i])
price.push(utag.data['product.price.basePrice'][i]);listPosition.push(utag.data['product.productInfo.listPosition'][i]);listName.push(utag.data['filter.filterInfo.term']||'options');arrival.push(utag.data['product.productInfo.arrival'][i]);bookingClass.push(utag.data['product.productInfo.bookingClass'][i]);departure.push(utag.data['product.productInfo.departure'][i]);destination.push(utag.data['product.productInfo.destination'][i]);duration.push(utag.data['product.productInfo.duration'][i]);origin.push(utag.data['product.productInfo.origin'][i]);}catch(e){console.log(e);}
if(utag.data['product.productInfo.bundle_flat']){try{bundle.push(utag.data['product.productInfo.bundle_flat'][i]);}catch(e){console.log(e);}}else{bundle.push("");}
if(utag.data["product.category.category1"][0].indexOf('flight')>-1){try{segment_aircraft.push(utag.data['product.productInfo.segment_aircraft'][i]);segment_arrival.push(utag.data['product.productInfo.segment_arrival'][i]);segment_departure.push(utag.data['product.productInfo.segment_departure'][i]);segment_destination.push(utag.data['product.productInfo.segment_destination'][i]);segment_duration.push(utag.data['product.productInfo.segment_duration'][i]);segment_flightAssociation.push(utag.data['product.productInfo.segment_flightAssociation'][i]);segment_flightNumber.push(utag.data['product.productInfo.segment_flightNumber'][i]);segment_isCodeshare.push(utag.data['product.productInfo.segment_isCodeshare'][i]);segment_mCarrier.push(utag.data['product.productInfo.segment_mCarrier'][i]);segment_number.push(utag.data['product.productInfo.segment_number'][i]);segment_oCarrier.push(utag.data['product.productInfo.segment_oCarrier'][i]);segment_origin.push(utag.data['product.productInfo.segment_origin'][i]);segment_segmentId.push(utag.data['product.productInfo.segment_segmentId'][i]);layover_airport.push(utag.data['product.layover_airport'][i]);layover_duration.push(utag.data['product.layover_duration'][i]);}catch(e){console.log(e);}}else{var i_productInfo_segment_aircraft="",i_productInfo_segment_arrival="",i_productInfo_segment_departure="",i_productInfo_segment_destination="",i_productInfo_segment_duration="",i_productInfo_segment_flightAssociation="",i_productInfo_segment_flightNumber="",i_productInfo_segment_isCodeshare="",i_productInfo_segment_mCarrier="",i_productInfo_segment_number="",i_productInfo_segment_oCarrier="",i_productInfo_segment_origin="",i_productInfo_segment_segmentId="";i_layover_airport="";i_layover_duration="";}}
utag.link({"event_category":"ecommerce","event_action":"product_impression","event_noninteraction":true,"currency":currency,"imp.product.productInfo.productId":id,"imp.product.productInfo.productName":name,"imp.product.attributes.brand":brand,"imp.product.attributes.variant":variant,"imp.product.categoryAll":cat,"imp.product.price.basePrice":price,"imp.product.productInfo.listPosition":listPosition,"imp.product.productInfo.listName":listName,"imp.product.productInfo.arrival":arrival,"imp.product.productInfo.bookingClass":bookingClass,"imp.product.productInfo.bundle_flat":bundle,"imp.product.productInfo.departure":departure,"imp.product.productInfo.destination":destination,"imp.product.productInfo.duration":duration,"imp.product.productInfo.origin":origin,"imp.product.productInfo.segment_aircraft":segment_aircraft,"imp.product.productInfo.segment_arrival":segment_arrival,"imp.product.productInfo.segment_departure":segment_departure,"imp.product.productInfo.segment_destination":segment_destination,"imp.product.productInfo.segment_duration":segment_duration,"imp.product.productInfo.segment_flightAssociation":segment_flightAssociation,"imp.product.productInfo.segment_flightNumber":segment_flightNumber,"imp.product.productInfo.segment_isCodeshare":segment_isCodeshare,"imp.product.productInfo.segment_mCarrier":segment_mCarrier,"imp.product.productInfo.segment_number":segment_number,"imp.product.productInfo.segment_oCarrier":segment_oCarrier,"imp.product.productInfo.segment_origin":segment_origin,"imp.product.productInfo.segment_segmentId":segment_segmentId,"imp.product.layover_airport":layover_airport,"imp.product.layover_duration":layover_duration});}},1500);}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/inbound|outbound|options|openjaw/.test(utag.data['page.category.category2'])){function trackProductClicks(elSelector){document.querySelectorAll(elSelector).forEach(function(el,i){el.addEventListener('click',function(){var linkObj={'enh_action':'product_click','event_category':'ecommerce','event_action':'product_click','click.product.productInfo.productId':[utag.data['product.productInfo.productId'][i]],'click.product.productInfo.productName':[utag.data['product.productInfo.productName'][i]],'click.product.categoryAll':[utag.data['product.categoryAll'][i]],'click.product.attributes.brand':[utag.data['product.attributes.brand'][i]],'click.product.attributes.variant':[utag.data['product.attributes.variant'][i]],'click.product.price.basePrice':[utag.data['product.price.basePrice'][i]],'click.product.productInfo.listPosition':[utag.data['product.productInfo.listPosition'][i]],'click.product.productInfo.listName':[utag.data['filter.filterInfo.term']||'options'],'click.product.productInfo.arrival':[utag.data['product.productInfo.arrival'][i]],'click.product.productInfo.bookingClass':[utag.data['product.productInfo.bookingClass'][i]],'click.product.productInfo.departure':[utag.data['product.productInfo.departure'][i]],'click.product.productInfo.destination':[utag.data['product.productInfo.destination'][i]],'click.product.productInfo.duration':[utag.data['product.productInfo.duration'][i]],'click.product.productInfo.origin':[utag.data['product.productInfo.origin'][i]]};if(utag.data['product.productInfo.bundle_flat']){linkObj['click.product.productInfo.bundle_flat']=utag.data['product.productInfo.bundle_flat'][i];}
if(utag.data['product.layover_airport']){linkObj['click.product.productInfo.segment_aircraft']=utag.data['product.productInfo.segment_aircraft'][i];linkObj['click.product.productInfo.segment_arrival']=utag.data['product.productInfo.segment_arrival'][i];linkObj['click.product.productInfo.segment_departure']=utag.data['product.productInfo.segment_departure'][i];linkObj['click.product.productInfo.segment_destination']=utag.data['product.productInfo.segment_destination'][i];linkObj['click.product.productInfo.segment_duration']=utag.data['product.productInfo.segment_duration'][i];linkObj['click.product.productInfo.segment_flightAssociation']=utag.data['product.productInfo.segment_flightAssociation'][i];linkObj['click.product.productInfo.segment_flightNumber']=utag.data['product.productInfo.segment_flightNumber'][i];linkObj['click.product.productInfo.segment_isCodeshare']=utag.data['product.productInfo.segment_isCodeshare'][i];linkObj['click.product.productInfo.segment_mCarrier']=utag.data['product.productInfo.segment_mCarrier'][i];linkObj['click.product.productInfo.segment_number']=utag.data['product.productInfo.segment_number'][i];linkObj['click.product.productInfo.segment_oCarrier']=utag.data['product.productInfo.segment_oCarrier'][i];linkObj['click.product.productInfo.segment_origin']=utag.data['product.productInfo.segment_origin'][i];linkObj['click.product.productInfo.segment_segmentId']=utag.data['product.productInfo.segment_segmentId'][i]
}
utag.link(linkObj);linkObj.event_action='product_details';linkObj.enh_action='detail';utag.link(linkObj);});});}
if(utag.data['conversion.funnel.funnelName']==='bbf'&&(utag.data['conversion.funnel.funnelStep']==='outbound'||utag.data['conversion.funnel.funnelStep']==='inbound')){trackProductClicks('.book-bundle-buttons--layout .book-bundle-button:not(.is-disabled)');}else if(utag.data['conversion.funnel.funnelName']==='bbf'&&utag.data['conversion.funnel.funnelStep']==='options'){trackProductClicks('.book-options-add');}else if(utag.data['conversion.funnel.funnelName']==='bbm'&&utag.data['conversion.funnel.funnelStep']==='multicity'){trackProductClicks('.flight-selector-button');}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page.pageInfo.pageName']=='home'){$(document).ready(function(){$('div.booking_bar--column.booking_bar--links:first a.evo-link.evo-link-arrow:first').on('click',function(){gaet.fire('flight widget','click link','advanced search');});$('div.booking_bar--column.booking_bar--links:first a.evo-link.evo-link-arrow:eq(4)').on('click',function(){gaet.fire('flight widget','click link','check-in');});$('a.stage_teaser--cta').on('click',function(){gaet.fire('stage','click teaser',gaet.stage($(this).closest('li').index())+gaet.clean($(this).siblings('h3').text()));});$('a.as-bubble.offer_teaser').on('click',function(){gaet.fire('stage','click teaser',gaet.stage($(this).closest('li').index())+gaet.clean($(this).find('span').text()));});$('li.booking_bar_tabs--nav--item a').on('click',function(){var href=$(this).attr('href');var label='';if(href.indexOf('stopover-switzerland.com')>-1)label='stopover';else if(href.indexOf('#bookingbar-flight-hotel')>-1)label='holidays';else if(href.indexOf('#bookingbar-flight')>-1)label='flight';else if(href.indexOf('#bookingbar-hotel')>-1)label='hotel';else if(href.indexOf('#bookingbar-car')>-1)label='rental car';else if(href.indexOf('swiss-choice')>-1)label='swiss choice';else label='promo';gaet.fire('partner widgets','click partner tabs',label);});$('form.booking_bar.js-evo-bookingbar:eq(1)').on('submit',function(){if($('#duration').attr('disabled'))var mode='exact';else var mode='flexible';var val=$('#HolidayDestination').val().toLowerCase();var erg=val.match(/\(([^)]+)\)/);var destination=(erg&&erg.length>=2)?erg[1]:val;gaet.fire('partner widgets','search partners','holidays | '+mode,['partner.attributes.destination',destination]);});$('form.booking_bar.js-evo-bookingbar:eq(2)').on('submit',function(){var val=$('#HotelDestination').val().toLowerCase();var erg=val.match(/\(([^)]+)\)/);var destination=(erg&&erg.length>=2)?erg[1]:val;var origin='';gaet.fire('partner widgets','search partners','hotel',['partner.attributes.destination',destination]);});$('form.booking_bar.js-evo-bookingbar:eq(3)').on('submit',function(){if($('#rental-car-bar').hasClass('is-hidden'))var mode='transfer';else var mode='rental';gaet.fire('partner widgets','search partners','rental car | '+mode);});$('.myaccount_summary a.myaccount_summary_status--profile').on('click',function(){gaet.fire('user cockpit','click profile','name');});$('.myaccount_summary .myaccount_summary_flights--flight--actions a.evo-link-arrow').on('click',function(){var txt=$(this).text();gaet.fire('user cockpit','click booking','manage booking');});$('.myaccount_summary .myaccount_summary_flights--flight--booking--info--seat').on('click',function(){gaet.fire('user cockpit','click seat','seat');});$('.myaccount_summary_flights--flight .myaccount_summary_flights--flight--actions a.btn.evo-button-small').on('click',function(){gaet.fire('user cockpit','click check-in','check-in');});$('.myaccount_summary .myaccount_summary_booking_options a.evo-button-small').on('click',function(){var product=$(this).parents('.myaccount_summary_booking_options--list--item--content').find('.myaccount_summary_booking_options--list--item--text em').text();gaet.fire('user cockpit','click ancillary',product);});$('.myaccount_summary .myaccount_summary_booking_options a.myaccount_summary_booking_options--more--link').on('click',function(){gaet.fire('user cockpit','click link','more offers');});$('#u72 a.category_teaser').on('click',function(){var label='';var href=$(this).attr('href');if(href.indexOf('cars-swiss.com')>-1)label='rental car';else if(href.indexOf('hotels-swiss.com')>-1)label='hotel';else if(href.indexOf('swiss.allianz-assistance.com')>-1)label='insurance';else if(href.indexOf('activities-swiss.com')>-1)label='activities';else if(href.indexOf('swiss-choice')>-1)label='swiss choice';else label='promo'
gaet.fire('partner widgets','click partners',label);});$('#HeroOffers').on('click','a.offer_teaser div.offer_teaser--inner',function(){gaet.fire('flight offers','click teaser',gaet.clean($(this).find('span').not('span>span').text()));});$('#Offers').on('click','ul.price_list--offers li a.price_list--item',function(){gaet.fire('flight offers','click list',gaet.clean($(this).closest('.price_list').children('h3').text()));});$('#main-content div.evo-cta > a.btn.btn-red.evo-button:eq(1)').on('click',function(){gaet.fire('flight offers','click button','more offers');});$('#SwissHolidays').on('click','div.package_teaser--cta a',function(){var price_text=$(this).closest('div.package_teaser--content_wrapper').find('span').first().text();var price=parseInt(price_text.replace(/\D+/g,''));if(price!==price)price='';gaet.fire('swiss holidays','click offer',gaet.clean($(this).closest('div.package_teaser--content_wrapper').find('h3').text()));});$('#SwissHolidays').on('click','div.evo-cta > a.btn.btn-red.evo-button',function(){gaet.fire('swiss holidays','click button','more offers');});$('div.myaccount_aside_teaser a').on('click',function(){gaet.fire('branding','click teaser','ejournals');});$('div.as-dark.product_teaser a').on('click',function(){gaet.fire('branding','click teaser','myclimate');});$('a.home_teaser').on('click',function(){gaet.fire('info boxes','click info box','info box');});});$(document).ajaxComplete(function(){$('#HeroOffers a.offer_teaser div.offer_teaser--inner').off('click').on('click',function(){gaet.fire('flight offers','click teaser',gaet.clean($(this).find('span').not('span>span').text()),['partner.attributes.destination',gaet.href_dest($(this).attr('href'))]);});$('#Offers ul.price_list--offers li a.price_list--item').off('click').on('click',function(){gaet.fire('flight offers','click list',gaet.clean($(this).closest('.price_list').children('h3').text()),['partner.attributes.destination',gaet.href_dest($(this).attr('href'))]);});$('#main-content div.evo-cta > a.btn.btn-red.evo-button:eq(1)').off('click').on('click',function(){gaet.fire('flight offers','click button','more offers');});$('#SwissHolidays .package_teaser--cta > a').off('click').on('click',function(){var price_text=$(this).closest('div.package_teaser--content_wrapper').find('span').first().text();var price=parseInt(price_text.replace(/\D+/g,''));if(price!==price)price='';gaet.fire('swiss holidays','click offer',gaet.clean($(this).closest('div.package_teaser--content_wrapper').find('h3').text()));});$('#SwissHolidays div.evo-cta > a.btn.btn-red.evo-button').off('click').on('click',function(){gaet.fire('swiss holidays','click button','more offers');});$('#Explore a.mashupbox').off('click').on('click',function(){var headline=gaet.clean($('#Explore .offer_section--title').text()).toLowerCase();var id='';var href=$(this).attr('href');var erg=/[a-z]+#([^&]*)/i.exec(href);if(erg!==null&&erg.length>0)id=erg[1];gaet.fire('travel guide','click box','slide 1 | '+headline+' | '+id);});$('#Explore a.btn.btn-red.evo-button:eq(0)').off('click').on('click',function(){var headline=gaet.clean($('#Explore .offer_section--title').text()).toLowerCase();gaet.fire('travel guide','click button','slide 1 | '+headline);});$('#Explore .slider_nav li:nth-child(2) a').off('click').on('click',function(){gaet.fire('travel guide','swipe','slide 1 | view slide 2');});$('#Explore a.btn.btn-red.evo-button:eq(1)').off('click').on('click',function(){var href=$(this).attr('href');gaet.fire('travel guide','click button','slide 2 | '+href);});});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(/bbf|bbs|bba|bbg|bbm/.test(utag.data['conversion.funnel.funnelName'])){$(document).ready(function(){$(document).on('change','#MatrixCurrencyDropDown',function(){gaet.fire('currency converter','select new currency',$(this).val());});$(document).on('change','#currencyDropDownBasket',function(){gaet.fire('currency converter','select new currency',$(this).val());});$(document).on('change','#currencyDropDown',function(){gaet.fire('currency converter','select new currency content',$(this).val());});$('#step-navigation li.step-navigation-step a').on('click',function(){var step=$(this).find('.step-title').text();if($(this).hasClass('step-navigation-past-step')||$(this).hasClass('is-active')){gaet.fire('breadcrumbs','click breadcrumb','active |'+step);}else{gaet.fire('breadcrumbs','click breadcrumb','inactive |'+step);}});$('#booking-cart li:nth-child(1) > a.booking-cart-entry-row-link').on('click',function(){gaet.fire('sidebar widget','click show details','');});$('#booking-cart li:nth-child(2) > a.booking-cart-entry-row-link').on('click',function(){gaet.fire('sidebar widget','click baggage information','');});function clkDate(){var origTab;if($('.tabs-navigation-item').hasClass('is-active')){origTab=$('.book-matrix-tabs').find('.is-active').index()+1;$(document).on('click','.tabs-navigation-item',function(){var clickedTab=$(this).index()+1;if(clickedTab==origTab){gaet.fire('flight results','click date tab','+/- '+(clickedTab-origTab));}else if(clickedTab>=origTab){gaet.fire('flight results','click date tab','+'+(clickedTab-origTab));}else{gaet.fire('flight results','click date tab','-'+(origTab-clickedTab));}});}else{setTimeout(clkDate,500);}}
clkDate();$('body').on('click','button.book-bundle-button',function(){gaet.fire('flight results','click compartment',$(this).data('type'));});$('body').on('click','div.book-bundle-box',function(){gaet.fire('flight results','click bundle',$(this).data('category'));});$('body').on('click','.book-bundle-box a.book-bundle-box--comparelink',function(){gaet.fire('flight results','click link','click info | '+$(this).closest('.book-bundle-box').data('category'));});$(document).off('click').on('click','#PaymentMiddle div.payment-method-title a.payment-more-link.js-tabs-link',function(){var method=$(this).parents('div.payment-method').attr('id');gaet.fire('payment','click method',method);});$(document).on('click','#seatmapForm .seatselection-notification a.more-options-link',function(){gaet.fire('seatmap','click link','open miles more login');});$(document).on('click','form.booking-login-profile-miles-and-more button[type="submit"]',function(){gaet.fire('seatmap','click button','miles more login');});$(document).on('click','.js-seatselection-seatmap .seatmap--seats button',function(){gaet.fire('seatmap','click seat','seat selected');});$(document).on('click','[id^=segment] button',function(){var seatBtn;if($(this).hasClass('js-seatselection-add'))seatBtn='save';else if($(this).hasClass('js-ajax-update-click'))seatBtn='edit';gaet.fire('seatmap','click button',seatBtn+' seat');});if($('#seatmapForm div.lightbox-body.seatmapModal').is(':visible')){gaet.fire('seatmap','show modal','save seat selection');}
$(document).on('click','div.book-options-buttons > button.js-book-options--open',function(){var ancil=$(this).attr('aria-describedby');gaet.fire('options','click button','view | '+ancil);});$('div.book-options-description input[type="checkbox"]').change(function(){var ancil=$(this).attr('id');var state;if(this.checked)state='check';else state='uncheck';gaet.fire('options','click checkbox',state+' | '+ancil);});$(document).on('click','div.payment-summary-item.is-detail-visible a.book-flight-entry-company-flight',function(){gaet.fire('bf details modal','click link','flight nr');});$('body').on('click','.lightbox #summary.payment-summary-item a.payment-summary-details-link',function(){if($(this).hasClass('is-active-collapsable-trigger')){gaet.fire('bf details modal','click link','show details');}});$('body').on('click','#paymentForm a.book-flight-entry-company-flight',function(){gaet.fire('payment details','click link','flight nr');});$('body').on('click','#paymentForm div.payment-summary-item > a.payment-summary-details-link',function(){if($(this).hasClass('is-active-collapsable-trigger')){gaet.fire('payment details','click link','show details');}});$('body').on('click','#voucherUpdateButton',function(){if($('#voucherCode').val()!=''){gaet.fire('payment','click button','add voucher');}});$('body').on('click','a#secure3d',function(){gaet.fire('payment details','click link','3d secure');});$('#dupeChecker > div.lightbox-alert-content > fieldset > div > button').off('click').on('click',function(){var dupeRdo=$('#dupeChecker input:checked').attr('id');gaet.fire('dupeChecker','click button',dupeRdo);});if($('#dupeChecker').is(':visible')){gaet.fire('dupeChecker','show modal','dupe booking alert');};if(utag_data['page.category.category2']==='confirmation-new'&&(utag_data['transaction.attributes.transactionId']===undefined||utag_data['transaction.attributes.transactionId']==null||utag_data['transaction.attributes.transactionId'].length<=0)?false:true){var netFare=utag_data['transaction.total.netfare'];utag.link({ga_events:[{eventCategory:'flightbookings',eventAction:'pageview',eventLabel:'transaction',eventValue:netfare}]});}});$(document).off('click').on('click','#comparative-book-button > button',function(){gaet.fire('book by schedule','click button','calculate');});$(document).ajaxComplete(function(){$('.book_bundle_row--footer a.book-bundle-box--comparelink').off('click').on('click',function(){gaet.fire('flight results','click link','compare products');});$(document).on('click','div.book_bundle button.js-book-bundling--showmulti',function(){gaet.fire('flight results','click link','flights with stops');});$('div.book-options-buttons button.js-book-options--submit').off('click').on('click',function(){var ancil=$(this).attr('aria-describedby');gaet.fire('options','click button','add | '+ancil);});});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(typeof utag.data['meta.Publisher']=='undefined'||(typeof utag.data['meta.Publisher']!='undefined'&&utag.data['meta.Publisher'].toString().toLowerCase()!='Lufthansa AG'.toLowerCase())){$(document).ready(function(){if($('#GlobalNotificationBar').children().length>0){var err=$('#GlobalNotificationBar .notification-message p:nth-child(2').text();var errcode=err.match(/\(([^)]+)\)/)[1];var errtext=err.slice(0,-8);var errtype='';if($(this).find('div.notification-warning').length!==0)errtype='warning';else if($(this).find('div.notification-error').length!==0)errtype='error';gaet.fire('error','view error message',errtype+' | '+errcode,['error.errorInfo.errorCode',errcode,'error.errorInfo.message',errtext]);var errMsg=errtype+' | '+errcode;if(utag_data!='undefined'){utag_data["errMsg"]=errMsg;}
}
$('p.error-message').each(function(index){var id=$(this).attr('id');var text=$(this).text();gaet.fire('error','view inline message','inline | '+id,['error.errorInfo.errorCode',id,'error.errorInfo.message',text]);var errInlineMsg='inline | '+id;if(utag_data!='undefined'){utag_data["errInlineMsg"]=errInlineMsg;}
});if($('.notification-important:visible').not('#legal-agreement .notification-important').length>0){var nottext=$('#main-content div.notification-message').text();gaet.fire('irregularity','view irregularity message',nottext);}
$('form.site_search').submit(function(){var text=$('#search').val();gaet.fire('header','submit search',text);});$(document).on('click','#filterlist-u60 a.evo-listfilter--link',function(){var title=$(this).parent().data('value');gaet.fire('header','select country',title);});$(document).on('click','a.evo-regionchooser--languages--lang--link',function(){var lang=$(this).attr('href').slice(-2);gaet.fire('header','select language',lang);});$(document).on('click','div.newsletter-subscription button',function(){gaet.fire('newsletter','click button','register');});$(document).on('click','.main-navigation [id^="aamenu-trigger"]',function(){var navitem=parseInt($(this).attr('aria-posinset'));switch(navitem){case 1:navitxt='book';break;case 2:navitxt='prepare';break;case 3:navitxt='fly';break;case 4:navitxt='explore';break;default:navitxt='not set';}
gaet.fire('navigation','click main navigation',navitxt);});$(document).on('click','[id^="aamenu-menu-"] > div > article > a',function(){var whichBTN=$(this).text();gaet.fire('subnavigation','click button',whichBTN);});$(document).on('click','[id^="aamenu-menu-"] h3 > a',function(){var cname=$(this).find('.icon').attr('class').split(' ').pop();var nt=cname.replace('icon-dropdown-','');title=nt.replace(/-/g,' ');gaet.fire('subnavigation','click link',title);});$(document).on('click','[id^="aamenu-menu-"] ul.navigation-link-list a',function(){var val=$(this).text().toLowerCase();gaet.fire('subnavigation','click list link',val);});if(utag_data['page.category.category1']==='customer-support'){$('form').submit(function(){var page_name=utag_data['page.pageInfo.pageName'];gaet.fire('contact','submit form',page_name);});}
if(utag_data['page.category.category3']==='arrival-departure'){$('#search-by-airport button.btn.btn-red').on('click',function(){gaet.fire('arr-dep','submit form','search-by-airport');});}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page.pageInfo.pageName'].toString().toLowerCase()=='my_bookings'.toLowerCase()){$(document).ready(function(){$(document).on('click','fieldset.edit-booking-action > a',function(){var aName=$(this).closest('.edit-booking-pane').prev('a').attr('name');gaet.fire('booing manager','click button',aName);});$('#book-options-morecomfort button.js-book-options--submit').on('click',function(){var bClass=$(this).attr('aria-describedby');gaet.fire('postsale','click button','upgrade | '+bClass);});$('#book-options-seatmap button.js-is-add-button').on('click',function(){gaet.fire('postsale','click button','additional seat reservation');});$('#frm-bagage-option button.js-book-options--submit').on('click',function(){if($('[id$=ABAG]').is(':checked')){gaet.fire('postsale','click button','additional | ABAG');}else if($('[id$=FBAG]').is(':checked')){gaet.fire('postsale','click button','additional | FBAG');}else if($('[id$=SBAG]').is(':checked')){gaet.fire('postsale','click button','additional | SBAG');}});$('#frm-specialSurprise-option button.js-book-options--submit').on('click',function(){var surp={};surp.surpselected=[];$('#specialSurpriseProducts input[id^=specialSurprise_]').each(function(){var $this=$(this);if($this.is(":checked")){surp.surpselected.push($this.attr("id"));}});if($('#specialSurpriseProducts input[id^=specialSurprise_]').is(':checked')){gaet.fire('postsale','click button','add | '+surp.surpselected);}});$('#frm-meal-option button.js-book-options--submit').on('click',function(){var meal={};meal.mealselected=[];$('#frm-meal-option input[id*=AvailablePremiumMealItems][type=checkbox]').each(function(){var $this=$(this);if($this.is(":checked")){var str=$this.attr("id");var n=str.lastIndexOf('_');var result=str.substring(n+1);meal.mealselected.push(" "+result);}});if($('#frm-meal-option input[id*=AvailablePremiumMealItems][type=checkbox]').is(':checked')){gaet.fire('postsale','click button','add |'+meal.mealselected);}});$('#book-options-ejournal .book-feature-list a').on('click',function(){gaet.fire('postsale','click button','eJournal')});$('div.step-navigation-wrap ol > li > a.dashboard-navigation-step-link').on('click',function(){var str=$(this).attr('href');var n=str.lastIndexOf('/');var result=str.substring(n+1);gaet.fire('account','click stepnavigation',result)});});$(document).ajaxComplete(function(){});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{if(typeof utag.linkHandler=='undefined'){utag.linkHandler=function(a,b,c,d,e){if(!a)a=window.event;if(a.target)b=a.target;else if(a.srcElement)b=a.srcElement;if(b.nodeType==3)b=b.parentNode;if(typeof b=='undefined'||typeof b.tagName=='undefined')return;c=b.tagName.toLowerCase();if(c=='body')return;if(c!='a'){for(d=0;d<5;d++){if(typeof b!='undefined'&&b.parentNode)b=b.parentNode;c=(b!=null&&b.tagName)?b.tagName.toLowerCase():'';if(c=='a')break;else if(c=='body')return;}}
if(c!='a')return;var lt=b.text?b.text:b.innerText?b.innerText:'';if((lt==''||/^\s+$/.test(lt))&&typeof b.innerHTML!='undefined'){lt=b.innerHTML.toLowerCase();if(lt.indexOf('<img ')>-1){d=lt.indexOf('alt="');if(d>-1){e=lt.indexOf('"',d+5);lt=lt.substring(d+5,e);}else{d=lt.indexOf('src="');if(d>-1){e=lt.indexOf('"',d+5);lt=lt.substring(d+5,e);}}}}
var hr=b.href,hrnq=(b.href.split('?'))[0];var obj={link_obj:b,link_text:lt,link_url:hrnq,link_type:'exit link',event_name:'link'};c=('exe,zip,wav,mp3,mov,mpg,avi,wmv,doc,pdf,xls').split(',');for(d=0;d<c.length;d++){e=new RegExp(c[d]+'$');if(e.test(hrnq)){obj.link_type='download link';break;}};try{var link=b;if(b.href!==''&&!b.classList.contains('js-avoid_disclaimer')){window.trackExternalLink=function(url){try{if(url){lhgEvent.fire({},"external link","click external link",url,null,'click external link');}}
catch(ex){utag.DB('DEBUG: following error ext. link extension occured: '+e);gtag('event','crash',{'event_category':'debug','event_label':'ext link -'+e});}};(function(){var int_urls=new RegExp(window.location.host);var http_urls=new RegExp("http(.?)://");if(typeof obj.link_url==='string'){if(obj.link_url.indexOf('travelid.swiss.com')>=0){lhgEvent.fire({},"oneid login","click",'redirect');}else if(!int_urls.test(obj.link_url)&&http_urls.test(obj.link_url)){window.trackExternalLink(obj.link_url);}else if(obj.link_type==="download link"){lhgEvent.fire({},'download link','click download link','(not set)');}}})();}}catch(e){};utag.link(obj)}
utag.loader.EV(document,'mousedown',utag.linkHandler);}}catch(e){utag.DB(e)};try{try{if((utag.data['dom.url'].toString().indexOf('datenschutz')<0&&utag.data['dom.url'].toString().indexOf('privacy-statement')<0&&utag.data['dom.url'].toString().indexOf('la-politique-de-confidentialite')<0&&utag.data['dom.url'].toString().indexOf('tutela-del-segreto-dei-dati')<0&&utag.data['dom.url'].toString().indexOf('declaracion-de-privacidad')<0&&utag.data['dom.url'].toString().indexOf('declaracao-de-protecao')<0&&utag.data['dom.url'].toString().indexOf('cookie-policy')<0)){if(typeof utag_data['dom.domain']==='string'&&utag_data['dom.domain'].includes('miles-and-more.com')){var cm_cookie_index=document.cookie.indexOf('CONSENTMGR');if(cm_cookie_index>-1&&cm_cookie_index!==document.cookie.lastIndexOf('CONSENTMGR')){document.cookie='CONSENTMGR=; path=/; domain=.miles-and-more.com; expires='+new Date(0).toUTCString();}}
if(window.digitalData){var lang=digitalData.digitalTouchpoint.touchpointInfo.language||utag_data["digitalTouchpoint.touchpointInfo.language"]||'en';}else{var lang=utag_data.Language||utag_data['page.pageInfo.language']||'en';}
var consent=utag.gdpr.getConsentState();if(consent===0){utag.gdpr.showConsentPreferences(lang);}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['page.pageInfo.pageName'].toString().toLowerCase().indexOf('group_travel_request'.toLowerCase())>-1){var formTracking=document.querySelectorAll('#main-content form');for(var i=0;i<formTracking.length;i++){formTracking[i].setAttribute("data-di-form-track","");formTracking[i].setAttribute("data-di-form-id",'Group Travel');}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){(function(){var txt={en:'Change Privacy Settings',de:'Privatsphäre-Einstellungen ändern',cs:'Změnit nastavení souborů cookie',el:'Αλλαγή ρυθμίσεων απορρήτου',es:'Cambiar configuración de privacidad',fr:'Changer les paramètres de confidentialité',it:'Modificare le impostazioni sulla privacy',ja:'プライバシー設定を変更する',pl:'Zmień ustawienia prywatności',ro:'Schimbați setările cookie-urilor',ru:'Изменить настройки конфиденциальности',sv:'Ändra cookieinställningar',uk:'Змінити налаштування файлів cookie',zh:'更改隐私设置'};var lang=lhgData.page.pageInfo.language||'en';if(!txt[lang])lang='en';if((utag_data['dom.domain']==='www.swiss.com'||utag_data['dom.domain']==='www-prep.swiss.com'||utag_data['dom.domain']==='www-prod.swiss.com'||utag_data['dom.domain']==='www-qa.swiss.com'||utag_data['dom.domain']==='qa-www.swiss.com'||utag_data['dom.domain']==='compensation.swiss.com'||utag_data['dom.domain']==='book.swiss.com')&&window.lhgData&&document.getElementsByClassName('swiss-footer')){try{var footer=document.getElementsByClassName('swiss-site-navigation');var footerMag=document.querySelectorAll(".footer .footer-nav > ul");var footerLinks=null;if(footer.length<1&&footerMag.length<1){footer=document.getElementsByClassName('page-footer-content');var footerLinks=footer[1].getElementsByClassName('links');var ul=footerLinks[footerLinks.length-1];var last_a=ul.children[0];var last_a_attr='_ngcontent-gdp-c176';for(var j=0,atts=last_a.attributes,n=atts.length;j<n;j++){if(atts[j].nodeName.indexOf('_ngcontent')===0){last_a_attr=atts[j].nodeName;break;}}
var li=document.createElement('li');li.setAttribute('id','privacymanager');li.setAttribute(last_a_attr,"");li.className="linkContainer ng-star-inserted";li.innerHTML='<external-link '+last_a_attr+'="" iconposition="right" icontype="iconfont-2018" class="link"><a tabindex="0" ui-link="" '+last_a_attr+'="" onClick="utag.gdpr.showConsentPreferences(\''+lang+'\')" target="_blank" rel="noopener noreferrer" aria-label="" aria-expanded="undefined" style="text-decoration:none; cursor: pointer;"><span style="color: #6F6660;" '+last_a_attr+'="" class="text footerLinkCollapsed">'+txt[lang]+'</span></a></external-link>';ul.appendChild(li);}
else{footerLinks=(footerMag.length>0)?footerMag:footer[0].getElementsByClassName('horizontal');var ul=footerLinks[footerLinks.length-1];var li=document.createElement('li');li.setAttribute('id','privacymanager');li.innerHTML='<a href="#" onClick="utag.gdpr.showConsentPreferences(\''+lang+'\')" class="m-0 m-lg-2 pt-lg-1">'+txt[lang]+'</a>';ul.appendChild(li);}}catch(e){console.log(e);}}})();}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['platformId']=='adcb2'){try{window.utag_first_pv=true;let na_string='(not set)';function eventTrack(event){var temp={};if(window.teal&&typeof teal.flattenObject==='function'){utag_data=utag_data||{};if(!utag_data["ut.version"]&&window.utag_first_pv){Object.assign(utag_data,utag.data);}
temp=Object.assign(utag_data,teal.flattenObject(digitalData));}
window.utag_first_pv=false;for(var i=0;i<event.length;i++){let item=event[i];let ecat=item.category.primaryCategory||na_string;if(ecat==="PageView"){temp.event_category="page_view";temp.event_action=null;utag.view(temp);}else{let ename=item.eventInfo.eventName||na_string,eattr=item.attributes||[],ekey=item.eventInfo.key||na_string;var eattr_flattened={};for(var j=eattr.length-1;j>=0;j--){var key=eattr[j]['key'];var value=eattr[j]['value'];eattr_flattened[key]=value;}
let ecode=eattr_flattened['code']||na_string,etitle=eattr_flattened['title']||na_string,etranslKey=eattr_flattened['translationKey']||na_string,eserviceCode=eattr_flattened['ServiceCode']||eattr_flattened['serviceCode']||'',eserviceCat=eattr_flattened['ServiceCategory']||eattr_flattened['serviceCategory']||'';var elabel=na_string;if(eserviceCode||eserviceCat){elabel=eserviceCode?eserviceCode:eserviceCat;}
temp.event_category=ecat;temp.event_action=ename;temp.event_label=elabel;if(ecat==='Error'){temp.event_category='error';temp.ga_errorType=ekey;temp.ga_errorCode=ecode;temp.ga_errorMessage=etitle===na_string?etranslKey:etitle;temp.error_counter=1;}else if(ecat==='UserEvent'&&ename==='Late Login'){temp.event_category='oneid login';temp.event_action='click';temp.event_label='redirect';}
utag.link(temp);}}}
if(window.digitalData&&digitalData.event){var events=digitalData.event;var originalPush=events.push;events.push=function(){originalPush.apply(this,arguments);eventTrack(arguments);};}}catch(e){utag.DB('b2 events processing - '+e);gtag('event','crash',{'event_category':'debug','event_label':'b2 events processing - '+e});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};}})
if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.cfg.readywait=1;utag.DB('READY:utag.cfg.readywait');setTimeout(function(){utag.loader.PINIT()},utag.cfg.waittimer||1);}})}else{utag.loader.PINIT()}}