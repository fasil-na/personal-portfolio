(window.webpackJsonp=window.webpackJsonp||[]).push([[1970],{5232:function(e,t,r){"use strict";r(3);var n,o=r(10),a=r.n(o),i=r(180),l=r(64);r(4078);function c(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),c=0;c<i;c++)l[c]=arguments[c+3];t.children=l}if(t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}t.a=function(e){var t=e.children,r=e.className,n=e.onClick,o=e.onFocus,u=e.onBlur,s=e.icon,f=e.iconPosition,d=e.iconClassName,b=e.contentClassName,m=e.ariaLabel,v=e.ariaPressed,p=e.ariaDescribedBy,y=e.dataTestId,g=c(l.a,{className:d,position:f,name:s}),h="standalone"===f;return c("div",{className:a()("on-image-button",r),role:"button",tabIndex:0,onClick:n,"aria-label":m,"aria-describedby":p,onKeyDown:Object(i.c)(n),onFocus:o,onBlur:u,"aria-pressed":v,"data-testid":y},void 0,s&&"right"!==f&&g,c("span",{className:a()({"sr-only":h,"with-text":!h},b)},void 0,t),s&&"right"===f&&g)}},5467:function(e,t,r){"use strict";r.r(t),r.d(t,"initialState",function(){return o}),r.d(t,"reducer",function(){return a}),r.d(t,"reducerWithConfig",function(){return i}),r.d(t,"actionCreators",function(){return l});var n=r(1),o=Object(n.fromJS)({}),a=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:o},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.set("config",Object(n.fromJS)(e));return a(t)}},l={}},5631:function(e,t,r){"use strict";r.r(t),r.d(t,"MovingImage",function(){return x});var n=r(12),o=r.n(n),a=r(3),i=r.n(a),l=r(10),c=r.n(l),u=r(44),s=r(391),f=r(22),d=r(5032),b=r(77),m=r(81),v=r(5467),p=r(31),y=r.n(p),g=r(6),h=r(39),O=function(e,t,r){return Object(h.a)("MovingImage",e,[t],r)},j=function(e){return Object(g.b)({id:y()(e),imageUrl:O(e,"imageUrl"),videoUrl:O(e,"videoUrl"),isVideoEnabledOnMobile:O(e,"isVideoEnabledOnMobile",!1),imageClassName:O(e,"imageClassName"),srcset:O(e,"srcset"),alt:O(e,"alt"),title:O(e,"title")})},S=r(5232);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N,A=r(99),C=r(5088),M=r(47),I=r(2),L=Object(M.defineMessages)({playButtonSrLabel:{id:"common.misc.movingimage.playButtonSrLabel",defaultMessage:"Play video",type:I.i},pauseButtonSrLabel:{id:"common.misc.movingimage.pauseButtonSrLabel",defaultMessage:"Pause video",type:I.i},videoStartedLabel:{id:"common.misc.movingimage.videoStartedLabel",defaultMessage:"Video started",type:I.i},videoStoppedLabel:{id:"common.misc.movingimage.videoStoppedLabel",defaultMessage:"Video stopped",type:I.i}});function E(e,t,r,n){N||(N="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=n;else if(a>1){for(var i=new Array(a),l=0;l<a;l++)i[l]=arguments[l+3];t.children=i}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:N,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B,$=function(e){var t=e.i18n,r=e.videoUrl,n=i.a.useRef(null),o=U(i.a.useState(!0),2),l=o[0],u=o[1],s=i.a.useRef(),f=U(Object(C.a)(!0),3),d=f[0],b=f[1],m=f[2],v=U(i.a.useState(!1),2),p=v[0],y=v[1],g=U(i.a.useState(!1),2),h=g[0],O=g[1],j=U(function(e){var t=Object(a.useRef)(),r=w(Object(a.useState)(!1),2),n=r[0],o=r[1],i=function(e){var t=w(e,1)[0];o(t.isIntersecting)};return Object(a.useEffect)(function(){var r=new IntersectionObserver(i,e);return t.current&&r.observe(t.current),function(){t.current&&r.unobserve(t.current)}},[t,e]),[t,n]}({root:null,rootMargin:"0px",threshold:[.5]}),2),P=j[0],N=j[1],M=U(Object(C.a)(!1),2),I=M[0],k=M[1],B=U(Object(C.a)(!1),2),$=B[0],D=B[1];Object(a.useEffect)(function(){N?(n.current.play(),u(!0),Object(A.a)(t(L.videoStartedLabel),!1),D()):(n.current.pause(),u(!1),$&&Object(A.a)(t(L.videoStoppedLabel),!1))},[t,N,$,D]),i.a.useEffect(function(){(p||h)&&(b(),s.current&&clearTimeout(s.current)),h||p||(s.current=setTimeout(function(){m()},3e3))},[p,h,b,m]);var F=l?"pause-video":"play-video";return i.a.createElement("div",{className:"moving-image-video w-100 h-100",ref:P,onMouseEnter:function(){O(!0)},onMouseLeave:function(){O(!1)},"data-testid":"wrapper-element"},i.a.createElement("video",{ref:n,src:r,onCanPlay:k,className:"w-100 h-100 object-cover",autoPlay:!1,muted:!0,loop:!0,disablePictureInPicture:!0,"data-testid":"moving-image-video"}),n.current&&I&&E("div",{className:c()("on-image-button-wrapper",{"on-image-button-wrapper-controls-visible":d,"on-image-button-wrapper-focused":p})},void 0,E(S.a,{icon:l?"lh-player-pause":"lh-player-play",className:"moving-image-play-button",iconPosition:"standalone",ariaLabel:t(L.playButtonSrLabel),ariaPressed:!!l,dataTestId:F,onClick:function(e){e.stopPropagation(),e.preventDefault(),n.current.paused?(n.current.play(),u(!0)):(n.current.pause(),u(!1))},onFocus:function(){y(!0)},onBlur:function(){y(!1)}})))};r(4094);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){R(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t,r,n){B||(B="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=n;else if(a>1){for(var i=new Array(a),l=0;l<a;l++)i[l]=arguments[l+3];t.children=i}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:B,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var x=function(e){var t=e.i18n,r=e.actions.labelFetchRequested,n=e.imageUrl,o=e.imageClassName,a=e.srcset,i=e.alt,l=void 0===i?"":i,u=e.title,f=e.videoUrl,b=e.isVideoEnabledOnMobile;Object(s.a)(function(){r({bundle:"common"})});var m=Object(d.d)(d.b),v=(null==f?void 0:f.match(".mp4"))&&(m||!m&&b);return T("div",{className:"moving-image position-relative"},void 0,T("div",{className:"w-100 h-100 object-cover"},void 0,T("img",{src:n,srcSet:a,alt:l,title:u,className:c()("w-100","h-100","object-cover",o)})),v&&T($,{videoUrl:f,i18n:t}))},V=function(e){return Object(u.connect)(j(e),Object(b.b)(F(F({},v.actionCreators),{},{labelFetchRequested:m.actionCreators.labelFetchRequested}),e))};t.default=function(e){return o()([V(e),f.c])(x)}},6021:function(e,t,r){"use strict";r.r(t),t.default=[]}}]);